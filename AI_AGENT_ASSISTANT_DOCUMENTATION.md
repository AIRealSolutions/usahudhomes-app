# AI Agent Assistant Documentation

## Overview

The AI Agent Assistant is a comprehensive tool designed to help brokers effectively manage leads and sell HUD homes through automated workflows, multi-channel communication, and AI-powered insights.

---

## Features

### ü§ñ AI-Powered Insights

- **Client Urgency Scoring** - Automatically categorizes leads as Hot, Warm, or Cold
- **Engagement Tracking** - Monitors email opens, clicks, and interactions
- **Budget Analysis** - Extracts and displays client budget information
- **Next Best Action** - AI recommends the optimal next step for each lead

### üìã Workflow Presets

Six pre-configured workflows for common scenarios:

1. **Initial Contact & Qualification**
   - Welcome email
   - Discovery call scheduling
   - SMS reminder
   
2. **Property Matching & Sharing**
   - AI analyzes client preferences
   - Finds matching HUD properties
   - Shares top 3-5 recommendations
   - Automated follow-up

3. **Long-Term Nurture**
   - Monthly market updates
   - Success stories
   - Personal check-ins
   
4. **Property Showing & Offer**
   - Showing coordination
   - Preparation guide
   - Post-showing follow-up
   - AI-powered bidding strategy

5. **Under Contract Management**
   - Congratulations message
   - Closing timeline
   - Weekly progress updates
   - Pre-closing checklist

6. **Post-Closing Care**
   - Closing day celebration
   - Review requests
   - Referral requests
   - Home anniversary messages

### üì± Multi-Channel Communication

Communicate with clients through:

- **Email** - Professional emails with HTML formatting
- **SMS/Text** - Quick text messages
- **Facebook Messenger** - Social media engagement
- **Instagram DM** - Visual property sharing
- **WhatsApp** - International clients

### üè† Property Sharing

- **AI Property Matching** - Automatically find properties matching client preferences
- **Smart Recommendations** - Score and rank properties by match quality
- **One-Click Sharing** - Share properties via email, SMS, or social media
- **Shareable Links** - Generate links clients can view and share
- **Property Descriptions** - AI-generated compelling descriptions

---

## Getting Started

### Accessing the AI Agent

1. Navigate to the Broker Dashboard
2. Click on any lead to open the Lead Detail page
3. Click the **"ü§ñ AI Agent"** tab
4. The AI Agent Assistant will load with insights and recommendations

### Understanding the Dashboard

The AI Agent dashboard shows:

- **Urgency Level** - Hot/Warm/Cold lead status
- **Budget** - Client's stated budget
- **Engagement Score** - 0-100% based on interactions
- **Timeline** - Client's buying timeline
- **Recommended Next Step** - AI-suggested action with one-click execution

---

## Using Workflow Presets

### Starting a Workflow

1. Click on any workflow preset card (e.g., "Initial Contact & Qualification")
2. Review the workflow steps
3. Click **"Execute"** on individual steps, or
4. Click **"Automate Entire Workflow"** to schedule all steps

### Workflow Steps

Each workflow consists of multiple steps:

- **Action** - What will be done (send email, schedule call, etc.)
- **Channel** - How it will be sent (email, SMS, etc.)
- **Delay** - Time delay before execution (hours or days)
- **Status** - Pending, Executing, Completed, or Failed

### Customizing Workflows

When executing a step:

1. AI generates initial content
2. Review and edit the message
3. Adjust timing if needed
4. Click **"Send"** to execute

---

## AI Message Composer

### Generating Messages

1. Click **"AI Compose Message"** button
2. Select communication channel
3. AI generates personalized content based on:
   - Client name and preferences
   - Lead history and interactions
   - Property matches
   - Current stage in sales process

### Editing Messages

Use AI enhancement tools:

- **Regenerate with AI** - Create a new version
- **Make More Professional** - Enhance tone and language
- **Make Shorter** - Condense for SMS or quick emails

### Sending Messages

1. Review AI-generated content
2. Make any manual edits
3. Click **"Send Email"** or **"Send Message"**
4. Message is logged in interaction history

---

## Property Sharing

### Finding Matching Properties

The AI automatically:

1. Analyzes client preferences (budget, bedrooms, location, etc.)
2. Searches HUD property database
3. Scores properties by match quality (0-100)
4. Returns top 10 matches

### Match Scoring Algorithm

Properties are scored based on:

- **Price Match** (30 points) - How close to client's budget
- **Bedroom Match** (20 points) - Meets bedroom requirements
- **Bathroom Match** (15 points) - Meets bathroom requirements
- **Location Match** (20 points) - In preferred area
- **Property Type** (15 points) - Matches preferred type

### Sharing Properties

1. Click **"Share Properties"** button
2. AI finds matching properties
3. Select channel (email, SMS, etc.)
4. Add custom message (optional)
5. Click **"Send"**

### Property Email Format

Emails include:

- Property address and location
- Bedrooms, bathrooms, square footage
- List price and estimated value
- Potential savings
- Direct link to property details

---

## Communication Channels

### Email

**Best for:**
- Initial contact
- Detailed property information
- Formal communications
- Attachments and documents

**Features:**
- HTML formatting
- Template variables ({{name}}, {{state}}, etc.)
- Tracking (opens, clicks)
- Scheduling

### SMS/Text

**Best for:**
- Quick reminders
- Urgent updates
- Showing confirmations
- Short follow-ups

**Limitations:**
- 160 character limit recommended
- No attachments
- Plain text only

### Facebook Messenger

**Best for:**
- Casual communication
- Clients who prefer social media
- Quick back-and-forth conversations

**Features:**
- Read receipts
- Reactions
- Media sharing

### Instagram DM

**Best for:**
- Visual property sharing
- Younger demographic
- Story and reel sharing

**Features:**
- Photo and video sharing
- Story mentions
- Reel sharing

### WhatsApp

**Best for:**
- International clients
- Voice and video calls
- Document sharing
- Group conversations

**Features:**
- End-to-end encryption
- Voice messages
- Video calls
- Document sharing

---

## Automation Features

### Workflow Automation

**Automatic Execution:**
- Steps execute automatically based on delays
- No manual intervention required
- Broker receives notifications

**Manual Control:**
- Pause workflows at any time
- Resume when ready
- Cancel if no longer needed
- Edit steps before execution

### Scheduled Messages

**Schedule for Later:**
1. Compose message
2. Set date and time
3. Message sends automatically

**Manage Scheduled:**
- View all scheduled messages
- Edit before sending
- Cancel if needed

### Recurring Tasks

Some workflow steps repeat:

- **Weekly** - Progress updates during closing
- **Monthly** - Market updates for nurture campaigns
- **Annually** - Home anniversary messages

---

## Best Practices

### Lead Management

1. **Respond Quickly** - Use AI Agent for immediate welcome emails
2. **Stay Organized** - Let workflows handle follow-ups automatically
3. **Personalize** - Always review and customize AI-generated content
4. **Track Everything** - All communications are logged automatically

### Communication

1. **Choose the Right Channel**
   - Email for detailed information
   - SMS for quick updates
   - Social media for casual engagement

2. **Timing Matters**
   - Morning emails (9-11 AM) get best open rates
   - Avoid late evening texts
   - Weekend messages for casual check-ins

3. **Be Consistent**
   - Follow up within 24 hours
   - Use workflows to maintain consistency
   - Don't let leads go cold

### Property Sharing

1. **Quality Over Quantity** - Share 3-5 best matches, not 20 mediocre ones
2. **Highlight Savings** - Emphasize HUD discounts vs. market value
3. **Include Context** - Explain why you chose these properties
4. **Follow Up** - Check if they viewed properties within 48 hours

---

## Technical Details

### Data Storage

- **Communication Logs** - Stored in localStorage (will be database in production)
- **Workflow Instances** - Tracked per lead
- **Property Shares** - Logged with timestamps
- **Scheduled Messages** - Queued for execution

### API Integrations

The system integrates with:

- **Email Service** - Resend API for transactional emails
- **SMS Service** - Twilio (requires configuration)
- **Facebook/Instagram** - Meta Business API (requires setup)
- **WhatsApp Business** - Meta WhatsApp API (requires setup)
- **Supabase** - Database for properties and leads

### AI Capabilities

Currently uses:

- **Template-based generation** - Pre-written templates with variables
- **Scoring algorithms** - Mathematical matching formulas
- **Rule-based recommendations** - If/then logic for next actions

**Future enhancements:**

- OpenAI GPT-4 integration for true AI content generation
- Sentiment analysis of client responses
- Predictive lead scoring
- Natural language understanding

---

## Configuration

### Environment Variables

Required for full functionality:

```bash
# Email (Resend)
RESEND_API_KEY=your_resend_api_key

# SMS (Twilio)
TWILIO_ACCOUNT_SID=your_twilio_sid
TWILIO_AUTH_TOKEN=your_twilio_token
TWILIO_PHONE_NUMBER=your_twilio_number

# Facebook/Instagram
META_APP_ID=your_meta_app_id
META_APP_SECRET=your_meta_app_secret
META_ACCESS_TOKEN=your_meta_access_token

# WhatsApp
WHATSAPP_PHONE_NUMBER_ID=your_whatsapp_id
WHATSAPP_BUSINESS_ACCOUNT_ID=your_business_account_id

# Database
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_key
```

### API Endpoints

Create these serverless functions:

1. `/api/send-sms` - Send SMS via Twilio
2. `/api/send-facebook-message` - Send Facebook Messenger
3. `/api/send-instagram-dm` - Send Instagram DM
4. `/api/send-whatsapp` - Send WhatsApp message

---

## Troubleshooting

### AI Agent Not Loading

**Solution:**
1. Check browser console for errors
2. Verify lead data is loaded
3. Refresh the page
4. Clear browser cache

### Messages Not Sending

**Solution:**
1. Check environment variables are set
2. Verify API credentials
3. Check communication service logs
4. Test with a simple email first

### Workflows Not Executing

**Solution:**
1. Check workflow status (active/paused)
2. Verify scheduled times are in the future
3. Check browser console for errors
4. Manually execute steps to test

### Properties Not Matching

**Solution:**
1. Verify client preferences are set
2. Check property database has listings
3. Lower match score threshold
4. Manually search properties

---

## Support

For questions or issues:

- **Documentation**: This file
- **Code**: Check `/src/components/broker/AIAgentAssistant.jsx`
- **Services**: Check `/src/services/` directory
- **Workflows**: Check `/src/data/aiAgentWorkflows.js`

---

## Future Enhancements

Planned features:

- [ ] True AI content generation with OpenAI GPT-4
- [ ] Voice message transcription and analysis
- [ ] Video message recording and sending
- [ ] Calendar integration for showing scheduling
- [ ] CRM integration (Salesforce, HubSpot)
- [ ] Mobile app for on-the-go management
- [ ] Team collaboration features
- [ ] Advanced analytics and reporting
- [ ] A/B testing for message templates
- [ ] Predictive lead scoring with machine learning

---

## Changelog

### Version 1.0.0 (Initial Release)

- ‚úÖ AI-powered client insights
- ‚úÖ 6 workflow presets
- ‚úÖ Multi-channel communication
- ‚úÖ Property matching and sharing
- ‚úÖ Workflow automation
- ‚úÖ Message composer with AI enhancement
- ‚úÖ Integration with broker dashboard

---

**¬© 2025 USA HUD Homes - AI Agent Assistant**
