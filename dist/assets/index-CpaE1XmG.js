var d_=Object.defineProperty;var h_=(n,e,t)=>e in n?d_(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Pr=(n,e,t)=>h_(n,typeof e!="symbol"?e+"":e,t);function xv(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function yi(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function yv(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),t}var zh={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function f_(){if($y)return kl;$y=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:d,ref:o!==void 0?o:null,props:c}}return kl.Fragment=e,kl.jsx=t,kl.jsxs=t,kl}var Iy;function m_(){return Iy||(Iy=1,zh.exports=f_()),zh.exports}var r=m_(),qh={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function g_(){if(By)return Le;By=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=y&&R[y]||R["@@iterator"],typeof R=="function"?R:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function N(R,X,H){this.props=R,this.context=X,this.refs=j,this.updater=H||w}N.prototype.isReactComponent={},N.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},N.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function E(){}E.prototype=N.prototype;function C(R,X,H){this.props=R,this.context=X,this.refs=j,this.updater=H||w}var T=C.prototype=new E;T.constructor=C,_(T,N.prototype),T.isPureReactComponent=!0;var O=Array.isArray,U={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function L(R,X,H,Z,ce,pe){return H=pe.ref,{$$typeof:n,type:R,key:X,ref:H!==void 0?H:null,props:pe}}function P(R,X){return L(R.type,X,void 0,void 0,void 0,R.props)}function Y(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function D(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(H){return X[H]})}var I=/\/+/g;function Q(R,X){return typeof R=="object"&&R!==null&&R.key!=null?D(""+R.key):X.toString(36)}function oe(){}function le(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(oe,oe):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function de(R,X,H,Z,ce){var pe=typeof R;(pe==="undefined"||pe==="boolean")&&(R=null);var B=!1;if(R===null)B=!0;else switch(pe){case"bigint":case"string":case"number":B=!0;break;case"object":switch(R.$$typeof){case n:case e:B=!0;break;case x:return B=R._init,de(B(R._payload),X,H,Z,ce)}}if(B)return ce=ce(R),B=Z===""?"."+Q(R,0):Z,O(ce)?(H="",B!=null&&(H=B.replace(I,"$&/")+"/"),de(ce,X,H,"",function(Re){return Re})):ce!=null&&(Y(ce)&&(ce=P(ce,H+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(I,"$&/")+"/")+B)),X.push(ce)),1;B=0;var ie=Z===""?".":Z+":";if(O(R))for(var me=0;me<R.length;me++)Z=R[me],pe=ie+Q(Z,me),B+=de(Z,X,H,pe,ce);else if(me=b(R),typeof me=="function")for(R=me.call(R),me=0;!(Z=R.next()).done;)Z=Z.value,pe=ie+Q(Z,me++),B+=de(Z,X,H,pe,ce);else if(pe==="object"){if(typeof R.then=="function")return de(le(R),X,H,Z,ce);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return B}function k(R,X,H){if(R==null)return R;var Z=[],ce=0;return de(R,Z,"","",function(pe){return X.call(H,pe,ce++)}),Z}function V(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(H){(R._status===0||R._status===-1)&&(R._status=1,R._result=H)},function(H){(R._status===0||R._status===-1)&&(R._status=2,R._result=H)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var z=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function q(){}return Le.Children={map:k,forEach:function(R,X,H){k(R,function(){X.apply(this,arguments)},H)},count:function(R){var X=0;return k(R,function(){X++}),X},toArray:function(R){return k(R,function(X){return X})||[]},only:function(R){if(!Y(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Le.Component=N,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=C,Le.StrictMode=i,Le.Suspense=g,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,Le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return U.H.useMemoCache(R)}},Le.cache=function(R){return function(){return R.apply(null,arguments)}},Le.cloneElement=function(R,X,H){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var Z=_({},R.props),ce=R.key,pe=void 0;if(X!=null)for(B in X.ref!==void 0&&(pe=void 0),X.key!==void 0&&(ce=""+X.key),X)!G.call(X,B)||B==="key"||B==="__self"||B==="__source"||B==="ref"&&X.ref===void 0||(Z[B]=X[B]);var B=arguments.length-2;if(B===1)Z.children=H;else if(1<B){for(var ie=Array(B),me=0;me<B;me++)ie[me]=arguments[me+2];Z.children=ie}return L(R.type,ce,void 0,void 0,pe,Z)},Le.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:c,_context:R},R},Le.createElement=function(R,X,H){var Z,ce={},pe=null;if(X!=null)for(Z in X.key!==void 0&&(pe=""+X.key),X)G.call(X,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=X[Z]);var B=arguments.length-2;if(B===1)ce.children=H;else if(1<B){for(var ie=Array(B),me=0;me<B;me++)ie[me]=arguments[me+2];ce.children=ie}if(R&&R.defaultProps)for(Z in B=R.defaultProps,B)ce[Z]===void 0&&(ce[Z]=B[Z]);return L(R,pe,void 0,void 0,null,ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(R){return{$$typeof:h,render:R}},Le.isValidElement=Y,Le.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:V}},Le.memo=function(R,X){return{$$typeof:m,type:R,compare:X===void 0?null:X}},Le.startTransition=function(R){var X=U.T,H={};U.T=H;try{var Z=R(),ce=U.S;ce!==null&&ce(H,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(q,z)}catch(pe){z(pe)}finally{U.T=X}},Le.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},Le.use=function(R){return U.H.use(R)},Le.useActionState=function(R,X,H){return U.H.useActionState(R,X,H)},Le.useCallback=function(R,X){return U.H.useCallback(R,X)},Le.useContext=function(R){return U.H.useContext(R)},Le.useDebugValue=function(){},Le.useDeferredValue=function(R,X){return U.H.useDeferredValue(R,X)},Le.useEffect=function(R,X,H){var Z=U.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(R,X)},Le.useId=function(){return U.H.useId()},Le.useImperativeHandle=function(R,X,H){return U.H.useImperativeHandle(R,X,H)},Le.useInsertionEffect=function(R,X){return U.H.useInsertionEffect(R,X)},Le.useLayoutEffect=function(R,X){return U.H.useLayoutEffect(R,X)},Le.useMemo=function(R,X){return U.H.useMemo(R,X)},Le.useOptimistic=function(R,X){return U.H.useOptimistic(R,X)},Le.useReducer=function(R,X,H){return U.H.useReducer(R,X,H)},Le.useRef=function(R){return U.H.useRef(R)},Le.useState=function(R){return U.H.useState(R)},Le.useSyncExternalStore=function(R,X,H){return U.H.useSyncExternalStore(R,X,H)},Le.useTransition=function(){return U.H.useTransition()},Le.version="19.1.0",Le}var Hy;function dm(){return Hy||(Hy=1,qh.exports=g_()),qh.exports}var v=dm();const Qt=yi(v),vv=xv({__proto__:null,default:Qt},[v]);var Vh={exports:{}},Rl={},Fh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function p_(){return zy||(zy=1,function(n){function e(k,V){var z=k.length;k.push(V);e:for(;0<z;){var q=z-1>>>1,R=k[q];if(0<o(R,V))k[q]=V,k[z]=R,z=q;else break e}}function t(k){return k.length===0?null:k[0]}function i(k){if(k.length===0)return null;var V=k[0],z=k.pop();if(z!==V){k[0]=z;e:for(var q=0,R=k.length,X=R>>>1;q<X;){var H=2*(q+1)-1,Z=k[H],ce=H+1,pe=k[ce];if(0>o(Z,z))ce<R&&0>o(pe,Z)?(k[q]=pe,k[ce]=z,q=ce):(k[q]=Z,k[H]=z,q=H);else if(ce<R&&0>o(pe,z))k[q]=pe,k[ce]=z,q=ce;else break e}}return V}function o(k,V){var z=k.sortIndex-V.sortIndex;return z!==0?z:k.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],m=[],x=1,y=null,b=3,w=!1,_=!1,j=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function O(k){for(var V=t(m);V!==null;){if(V.callback===null)i(m);else if(V.startTime<=k)i(m),V.sortIndex=V.expirationTime,e(g,V);else break;V=t(m)}}function U(k){if(j=!1,O(k),!_)if(t(g)!==null)_=!0,G||(G=!0,Q());else{var V=t(m);V!==null&&de(U,V.startTime-k)}}var G=!1,L=-1,P=5,Y=-1;function D(){return N?!0:!(n.unstable_now()-Y<P)}function I(){if(N=!1,G){var k=n.unstable_now();Y=k;var V=!0;try{e:{_=!1,j&&(j=!1,C(L),L=-1),w=!0;var z=b;try{t:{for(O(k),y=t(g);y!==null&&!(y.expirationTime>k&&D());){var q=y.callback;if(typeof q=="function"){y.callback=null,b=y.priorityLevel;var R=q(y.expirationTime<=k);if(k=n.unstable_now(),typeof R=="function"){y.callback=R,O(k),V=!0;break t}y===t(g)&&i(g),O(k)}else i(g);y=t(g)}if(y!==null)V=!0;else{var X=t(m);X!==null&&de(U,X.startTime-k),V=!1}}break e}finally{y=null,b=z,w=!1}V=void 0}}finally{V?Q():G=!1}}}var Q;if(typeof T=="function")Q=function(){T(I)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,le=oe.port2;oe.port1.onmessage=I,Q=function(){le.postMessage(null)}}else Q=function(){E(I,0)};function de(k,V){L=E(function(){k(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var z=b;b=V;try{return k()}finally{b=z}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var z=b;b=k;try{return V()}finally{b=z}},n.unstable_scheduleCallback=function(k,V,z){var q=n.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?q+z:q):z=q,k){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=z+R,k={id:x++,callback:V,priorityLevel:k,startTime:z,expirationTime:R,sortIndex:-1},z>q?(k.sortIndex=z,e(m,k),t(g)===null&&k===t(m)&&(j?(C(L),L=-1):j=!0,de(U,z-q))):(k.sortIndex=R,e(g,k),_||w||(_=!0,G||(G=!0,Q()))),k},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(k){var V=b;return function(){var z=b;b=V;try{return k.apply(this,arguments)}finally{b=z}}}}(Gh)),Gh}var qy;function x_(){return qy||(qy=1,Fh.exports=p_()),Fh.exports}var Yh={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function y_(){if(Vy)return Gt;Vy=1;var n=dm();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:m,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Gt.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(g,m,null,x)},Gt.flushSync=function(g){var m=d.T,x=i.p;try{if(d.T=null,i.p=2,g)return g()}finally{d.T=m,i.p=x,i.d.f()}},Gt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(g,m))},Gt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},Gt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?i.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:w}):x==="script"&&i.d.X(g,{crossOrigin:y,integrity:b,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Gt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);i.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(g)},Gt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin);i.d.L(g,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Gt.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=h(m.as,m.crossOrigin);i.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(g)},Gt.requestFormReset=function(g){i.d.r(g)},Gt.unstable_batchedUpdates=function(g,m){return g(m)},Gt.useFormState=function(g,m,x){return d.H.useFormState(g,m,x)},Gt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Gt.version="19.1.0",Gt}var Fy;function bv(){if(Fy)return Yh.exports;Fy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yh.exports=y_(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function v_(){if(Gy)return Rl;Gy=1;var n=x_(),e=dm(),t=bv();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function c(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function d(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(c(s)!==s)throw Error(i(188))}function g(s){var a=s.alternate;if(!a){if(a=c(s),a===null)throw Error(i(188));return a!==s?null:s}for(var l=s,u=a;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return h(f),s;if(p===u)return h(f),a;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=f,u=p;else{for(var S=!1,A=f.child;A;){if(A===l){S=!0,l=f,u=p;break}if(A===u){S=!0,u=f,l=p;break}A=A.sibling}if(!S){for(A=p.child;A;){if(A===l){S=!0,l=p,u=f;break}if(A===u){S=!0,u=p,l=f;break}A=A.sibling}if(!S)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=I&&s[I]||s["@@iterator"],typeof s=="function"?s:null)}var oe=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===oe?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case N:return"Profiler";case j:return"StrictMode";case U:return"Suspense";case G:return"SuspenseList";case Y:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case T:return(s.displayName||"Context")+".Provider";case C:return(s._context.displayName||"Context")+".Consumer";case O:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case P:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}var de=Array.isArray,k=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},q=[],R=-1;function X(s){return{current:s}}function H(s){0>R||(s.current=q[R],q[R]=null,R--)}function Z(s,a){R++,q[R]=s.current,s.current=a}var ce=X(null),pe=X(null),B=X(null),ie=X(null);function me(s,a){switch(Z(B,a),Z(pe,s),Z(ce,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?hy(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=hy(a),s=fy(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}H(ce),Z(ce,s)}function Re(){H(ce),H(pe),H(B)}function ke(s){s.memoizedState!==null&&Z(ie,s);var a=ce.current,l=fy(a,s.type);a!==l&&(Z(pe,s),Z(ce,l))}function Me(s){pe.current===s&&(H(ce),H(pe)),ie.current===s&&(H(ie),_l._currentValue=z)}var Pe=Object.prototype.hasOwnProperty,wt=n.unstable_scheduleCallback,zt=n.unstable_cancelCallback,vr=n.unstable_shouldYield,br=n.unstable_requestPaint,kt=n.unstable_now,Aa=n.unstable_getCurrentPriorityLevel,ir=n.unstable_ImmediatePriority,Oi=n.unstable_UserBlockingPriority,Ta=n.unstable_NormalPriority,no=n.unstable_LowPriority,Di=n.unstable_IdlePriority,re=n.log,qt=n.unstable_setDisableYieldValue,$s=null,Ut=null;function lr(s){if(typeof re=="function"&&qt(s),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode($s,s)}catch{}}var es=Math.clz32?Math.clz32:Xj,Wj=Math.log,Qj=Math.LN2;function Xj(s){return s>>>=0,s===0?32:31-(Wj(s)/Qj|0)|0}var io=256,lo=4194304;function ka(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oo(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var f=0,p=s.suspendedLanes,S=s.pingedLanes;s=s.warmLanes;var A=u&134217727;return A!==0?(u=A&~p,u!==0?f=ka(u):(S&=A,S!==0?f=ka(S):l||(l=A&~s,l!==0&&(f=ka(l))))):(A=u&~p,A!==0?f=ka(A):S!==0?f=ka(S):l||(l=u&~s,l!==0&&(f=ka(l)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,l=a&-a,p>=l||p===32&&(l&4194048)!==0)?a:f}function Mi(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Jj(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wm(){var s=io;return io<<=1,(io&4194048)===0&&(io=256),s}function Qm(){var s=lo;return lo<<=1,(lo&62914560)===0&&(lo=4194304),s}function Ru(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Li(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Zj(s,a,l,u,f,p){var S=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var A=s.entanglements,M=s.expirationTimes,W=s.hiddenUpdates;for(l=S&~l;0<l;){var se=31-es(l),ne=1<<se;A[se]=0,M[se]=-1;var J=W[se];if(J!==null)for(W[se]=null,se=0;se<J.length;se++){var ee=J[se];ee!==null&&(ee.lane&=-536870913)}l&=~ne}u!==0&&Xm(s,u,0),p!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=p&~(S&~a))}function Xm(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-es(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&4194090}function Jm(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-es(l),f=1<<u;f&a|s[u]&a&&(s[u]|=a),l&=~f}}function Ou(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Du(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Zm(){var s=V.p;return s!==0?s:(s=window.event,s===void 0?32:Oy(s.type))}function eN(s,a){var l=V.p;try{return V.p=s,a()}finally{V.p=l}}var Vr=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Vr,as="__reactProps$"+Vr,un="__reactContainer$"+Vr,Mu="__reactEvents$"+Vr,tN="__reactListeners$"+Vr,sN="__reactHandles$"+Vr,eg="__reactResources$"+Vr,Pi="__reactMarker$"+Vr;function Lu(s){delete s[Vt],delete s[as],delete s[Mu],delete s[tN],delete s[sN]}function dn(s){var a=s[Vt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[un]||l[Vt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=xy(s);s!==null;){if(l=s[Vt])return l;s=xy(s)}return a}s=l,l=s.parentNode}return null}function hn(s){if(s=s[Vt]||s[un]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ui(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function fn(s){var a=s[eg];return a||(a=s[eg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Rt(s){s[Pi]=!0}var tg=new Set,sg={};function Ra(s,a){mn(s,a),mn(s+"Capture",a)}function mn(s,a){for(sg[s]=a,s=0;s<a.length;s++)tg.add(a[s])}var rN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rg={},ag={};function aN(s){return Pe.call(ag,s)?!0:Pe.call(rg,s)?!1:rN.test(s)?ag[s]=!0:(rg[s]=!0,!1)}function co(s,a,l){if(aN(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function uo(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function wr(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}var Pu,ng;function gn(s){if(Pu===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Pu=a&&a[1]||"",ng=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pu+s+ng}var Uu=!1;function $u(s,a){if(!s||Uu)return"";Uu=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(ee){var J=ee}Reflect.construct(s,[],ne)}else{try{ne.call()}catch(ee){J=ee}s.call(ne.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ne=s())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],A=p[1];if(S&&A){var M=S.split(`
`),W=A.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<W.length&&!W[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===W.length)for(u=M.length-1,f=W.length-1;1<=u&&0<=f&&M[u]!==W[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==W[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==W[f]){var se=`
`+M[u].replace(" at new "," at ");return s.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",s.displayName)),se}while(1<=u&&0<=f);break}}}finally{Uu=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?gn(l):""}function nN(s){switch(s.tag){case 26:case 27:case 5:return gn(s.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return $u(s.type,!1);case 11:return $u(s.type.render,!1);case 1:return $u(s.type,!0);case 31:return gn("Activity");default:return""}}function ig(s){try{var a="";do a+=nN(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Es(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function lg(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function iN(s){var a=lg(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),u=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return f.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ho(s){s._valueTracker||(s._valueTracker=iN(s))}function og(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=lg(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function fo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var lN=/[\n"\\]/g;function Cs(s){return s.replace(lN,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Iu(s,a,l,u,f,p,S,A){s.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.type=S:s.removeAttribute("type"),a!=null?S==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Es(a)):s.value!==""+Es(a)&&(s.value=""+Es(a)):S!=="submit"&&S!=="reset"||s.removeAttribute("value"),a!=null?Bu(s,S,Es(a)):l!=null?Bu(s,S,Es(l)):u!=null&&s.removeAttribute("value"),f==null&&p!=null&&(s.defaultChecked=!!p),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.name=""+Es(A):s.removeAttribute("name")}function cg(s,a,l,u,f,p,S,A){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),a!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;l=l!=null?""+Es(l):"",a=a!=null?""+Es(a):l,A||a===s.value||(s.value=a),s.defaultValue=a}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=A?s.checked:!!u,s.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.name=S)}function Bu(s,a,l){a==="number"&&fo(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function pn(s,a,l,u){if(s=s.options,a){a={};for(var f=0;f<l.length;f++)a["$"+l[f]]=!0;for(l=0;l<s.length;l++)f=a.hasOwnProperty("$"+s[l].value),s[l].selected!==f&&(s[l].selected=f),f&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Es(l),a=null,f=0;f<s.length;f++){if(s[f].value===l){s[f].selected=!0,u&&(s[f].defaultSelected=!0);return}a!==null||s[f].disabled||(a=s[f])}a!==null&&(a.selected=!0)}}function ug(s,a,l){if(a!=null&&(a=""+Es(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Es(l):""}function dg(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(i(92));if(de(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Es(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u)}function xn(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var oN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hg(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||oN.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function fg(s,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var f in a)u=a[f],a.hasOwnProperty(f)&&l[f]!==u&&hg(s,f,u)}else for(var p in a)a.hasOwnProperty(p)&&hg(s,p,a[p])}function Hu(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(s){return uN.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var zu=null;function qu(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yn=null,vn=null;function mg(s){var a=hn(s);if(a&&(s=a.stateNode)){var l=s[as]||null;e:switch(s=a.stateNode,a.type){case"input":if(Iu(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Cs(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var f=u[as]||null;if(!f)throw Error(i(90));Iu(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&og(u)}break e;case"textarea":ug(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&pn(s,!!l.multiple,a,!1)}}}var Vu=!1;function gg(s,a,l){if(Vu)return s(a,l);Vu=!0;try{var u=s(a);return u}finally{if(Vu=!1,(yn!==null||vn!==null)&&(Zo(),yn&&(a=yn,s=vn,vn=yn=null,mg(a),s)))for(a=0;a<s.length;a++)mg(s[a])}}function $i(s,a){var l=s.stateNode;if(l===null)return null;var u=l[as]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fu=!1;if(jr)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Fu=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Fu=!1}var Fr=null,Gu=null,go=null;function pg(){if(go)return go;var s,a=Gu,l=a.length,u,f="value"in Fr?Fr.value:Fr.textContent,p=f.length;for(s=0;s<l&&a[s]===f[s];s++);var S=l-s;for(u=1;u<=S&&a[l-u]===f[p-u];u++);return go=f.slice(s,1<u?1-u:void 0)}function po(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function xo(){return!0}function xg(){return!1}function ns(s){function a(l,u,f,p,S){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var A in s)s.hasOwnProperty(A)&&(l=s[A],this[A]=l?l(p):p[A]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?xo:xg,this.isPropagationStopped=xg,this}return x(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),a}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yo=ns(Oa),Bi=x({},Oa,{view:0,detail:0}),dN=ns(Bi),Yu,Ku,Hi,vo=x({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qu,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hi&&(Hi&&s.type==="mousemove"?(Yu=s.screenX-Hi.screenX,Ku=s.screenY-Hi.screenY):Ku=Yu=0,Hi=s),Yu)},movementY:function(s){return"movementY"in s?s.movementY:Ku}}),yg=ns(vo),hN=x({},vo,{dataTransfer:0}),fN=ns(hN),mN=x({},Bi,{relatedTarget:0}),Wu=ns(mN),gN=x({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),pN=ns(gN),xN=x({},Oa,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),yN=ns(xN),vN=x({},Oa,{data:0}),vg=ns(vN),bN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NN(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=jN[s])?!!a[s]:!1}function Qu(){return NN}var SN=x({},Bi,{key:function(s){if(s.key){var a=bN[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=po(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wN[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qu,charCode:function(s){return s.type==="keypress"?po(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?po(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),_N=ns(SN),EN=x({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=ns(EN),CN=x({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qu}),AN=ns(CN),TN=x({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),kN=ns(TN),RN=x({},vo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ON=ns(RN),DN=x({},Oa,{newState:0,oldState:0}),MN=ns(DN),LN=[9,13,27,32],Xu=jr&&"CompositionEvent"in window,zi=null;jr&&"documentMode"in document&&(zi=document.documentMode);var PN=jr&&"TextEvent"in window&&!zi,wg=jr&&(!Xu||zi&&8<zi&&11>=zi),jg=" ",Ng=!1;function Sg(s,a){switch(s){case"keyup":return LN.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _g(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var bn=!1;function UN(s,a){switch(s){case"compositionend":return _g(a);case"keypress":return a.which!==32?null:(Ng=!0,jg);case"textInput":return s=a.data,s===jg&&Ng?null:s;default:return null}}function $N(s,a){if(bn)return s==="compositionend"||!Xu&&Sg(s,a)?(s=pg(),go=Gu=Fr=null,bn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wg&&a.locale!=="ko"?null:a.data;default:return null}}var IN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!IN[s.type]:a==="textarea"}function Cg(s,a,l,u){yn?vn?vn.push(u):vn=[u]:yn=u,a=nc(a,"onChange"),0<a.length&&(l=new yo("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var qi=null,Vi=null;function BN(s){ly(s,0)}function bo(s){var a=Ui(s);if(og(a))return s}function Ag(s,a){if(s==="change")return a}var Tg=!1;if(jr){var Ju;if(jr){var Zu="oninput"in document;if(!Zu){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Zu=typeof kg.oninput=="function"}Ju=Zu}else Ju=!1;Tg=Ju&&(!document.documentMode||9<document.documentMode)}function Rg(){qi&&(qi.detachEvent("onpropertychange",Og),Vi=qi=null)}function Og(s){if(s.propertyName==="value"&&bo(Vi)){var a=[];Cg(a,Vi,s,qu(s)),gg(BN,a)}}function HN(s,a,l){s==="focusin"?(Rg(),qi=a,Vi=l,qi.attachEvent("onpropertychange",Og)):s==="focusout"&&Rg()}function zN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return bo(Vi)}function qN(s,a){if(s==="click")return bo(a)}function VN(s,a){if(s==="input"||s==="change")return bo(a)}function FN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ds=typeof Object.is=="function"?Object.is:FN;function Fi(s,a){if(ds(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!Pe.call(a,f)||!ds(s[f],a[f]))return!1}return!0}function Dg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mg(s,a){var l=Dg(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dg(l)}}function Lg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Lg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Pg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=fo(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=fo(s.document)}return a}function ed(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var GN=jr&&"documentMode"in document&&11>=document.documentMode,wn=null,td=null,Gi=null,sd=!1;function Ug(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;sd||wn==null||wn!==fo(u)||(u=wn,"selectionStart"in u&&ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Gi&&Fi(Gi,u)||(Gi=u,u=nc(td,"onSelect"),0<u.length&&(a=new yo("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=wn)))}function Da(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var jn={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionrun:Da("Transition","TransitionRun"),transitionstart:Da("Transition","TransitionStart"),transitioncancel:Da("Transition","TransitionCancel"),transitionend:Da("Transition","TransitionEnd")},rd={},$g={};jr&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete jn.animationend.animation,delete jn.animationiteration.animation,delete jn.animationstart.animation),"TransitionEvent"in window||delete jn.transitionend.transition);function Ma(s){if(rd[s])return rd[s];if(!jn[s])return s;var a=jn[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in $g)return rd[s]=a[l];return s}var Ig=Ma("animationend"),Bg=Ma("animationiteration"),Hg=Ma("animationstart"),YN=Ma("transitionrun"),KN=Ma("transitionstart"),WN=Ma("transitioncancel"),zg=Ma("transitionend"),qg=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Is(s,a){qg.set(s,a),Ra(a,[s])}var Vg=new WeakMap;function As(s,a){if(typeof s=="object"&&s!==null){var l=Vg.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ig(a)},Vg.set(s,a),a)}return{value:s,source:a,stack:ig(a)}}var Ts=[],Nn=0,nd=0;function wo(){for(var s=Nn,a=nd=Nn=0;a<s;){var l=Ts[a];Ts[a++]=null;var u=Ts[a];Ts[a++]=null;var f=Ts[a];Ts[a++]=null;var p=Ts[a];if(Ts[a++]=null,u!==null&&f!==null){var S=u.pending;S===null?f.next=f:(f.next=S.next,S.next=f),u.pending=f}p!==0&&Fg(l,f,p)}}function jo(s,a,l,u){Ts[Nn++]=s,Ts[Nn++]=a,Ts[Nn++]=l,Ts[Nn++]=u,nd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function id(s,a,l,u){return jo(s,a,l,u),No(s)}function Sn(s,a){return jo(s,null,null,a),No(s)}function Fg(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var f=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(f=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,f&&a!==null&&(f=31-es(l),s=p.hiddenUpdates,u=s[f],u===null?s[f]=[a]:u.push(a),a.lane=l|536870912),p):null}function No(s){if(50<xl)throw xl=0,hh=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var _n={};function QN(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hs(s,a,l,u){return new QN(s,a,l,u)}function ld(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Nr(s,a){var l=s.alternate;return l===null?(l=hs(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Gg(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function So(s,a,l,u,f,p){var S=0;if(u=s,typeof s=="function")ld(s)&&(S=1);else if(typeof s=="string")S=JS(s,l,ce.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Y:return s=hs(31,l,a,f),s.elementType=Y,s.lanes=p,s;case _:return La(l.children,f,p,a);case j:S=8,f|=24;break;case N:return s=hs(12,l,a,f|2),s.elementType=N,s.lanes=p,s;case U:return s=hs(13,l,a,f),s.elementType=U,s.lanes=p,s;case G:return s=hs(19,l,a,f),s.elementType=G,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:case T:S=10;break e;case C:S=9;break e;case O:S=11;break e;case L:S=14;break e;case P:S=16,u=null;break e}S=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return a=hs(S,l,a,f),a.elementType=s,a.type=u,a.lanes=p,a}function La(s,a,l,u){return s=hs(7,s,u,a),s.lanes=l,s}function od(s,a,l){return s=hs(6,s,null,a),s.lanes=l,s}function cd(s,a,l){return a=hs(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var En=[],Cn=0,_o=null,Eo=0,ks=[],Rs=0,Pa=null,Sr=1,_r="";function Ua(s,a){En[Cn++]=Eo,En[Cn++]=_o,_o=s,Eo=a}function Yg(s,a,l){ks[Rs++]=Sr,ks[Rs++]=_r,ks[Rs++]=Pa,Pa=s;var u=Sr;s=_r;var f=32-es(u)-1;u&=~(1<<f),l+=1;var p=32-es(a)+f;if(30<p){var S=f-f%5;p=(u&(1<<S)-1).toString(32),u>>=S,f-=S,Sr=1<<32-es(a)+f|l<<f|u,_r=p+s}else Sr=1<<p|l<<f|u,_r=s}function ud(s){s.return!==null&&(Ua(s,1),Yg(s,1,0))}function dd(s){for(;s===_o;)_o=En[--Cn],En[Cn]=null,Eo=En[--Cn],En[Cn]=null;for(;s===Pa;)Pa=ks[--Rs],ks[Rs]=null,_r=ks[--Rs],ks[Rs]=null,Sr=ks[--Rs],ks[Rs]=null}var ts=null,ft=null,Ke=!1,$a=null,or=!1,hd=Error(i(519));function Ia(s){var a=Error(i(418,""));throw Wi(As(a,s)),hd}function Kg(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Vt]=s,a[as]=u,l){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(l=0;l<vl.length;l++)He(vl[l],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),cg(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ho(a);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),dg(a,u.value,u.defaultValue,u.children),ho(a)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||dy(a.textContent,l)?(u.popover!=null&&(He("beforetoggle",a),He("toggle",a)),u.onScroll!=null&&He("scroll",a),u.onScrollEnd!=null&&He("scrollend",a),u.onClick!=null&&(a.onclick=ic),a=!0):a=!1,a||Ia(s)}function Wg(s){for(ts=s.return;ts;)switch(ts.tag){case 5:case 13:or=!1;return;case 27:case 3:or=!0;return;default:ts=ts.return}}function Yi(s){if(s!==ts)return!1;if(!Ke)return Wg(s),Ke=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Ah(s.type,s.memoizedProps)),l=!l),l&&ft&&Ia(s),Wg(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){ft=Hs(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}ft=null}}else a===27?(a=ft,la(s.type)?(s=Oh,Oh=null,ft=s):ft=a):ft=ts?Hs(s.stateNode.nextSibling):null;return!0}function Ki(){ft=ts=null,Ke=!1}function Qg(){var s=$a;return s!==null&&(os===null?os=s:os.push.apply(os,s),$a=null),s}function Wi(s){$a===null?$a=[s]:$a.push(s)}var fd=X(null),Ba=null,Er=null;function Gr(s,a,l){Z(fd,a._currentValue),a._currentValue=l}function Cr(s){s._currentValue=fd.current,H(fd)}function md(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function gd(s,a,l,u){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var A=p;p=f;for(var M=0;M<a.length;M++)if(A.context===a[M]){p.lanes|=l,A=p.alternate,A!==null&&(A.lanes|=l),md(p.return,l,s),u||(S=null);break e}p=A.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(i(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),md(S,l,s),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===s){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function Qi(s,a,l,u){s=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(i(387));if(S=S.memoizedProps,S!==null){var A=f.type;ds(f.pendingProps.value,S.value)||(s!==null?s.push(A):s=[A])}}else if(f===ie.current){if(S=f.alternate,S===null)throw Error(i(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(_l):s=[_l])}f=f.return}s!==null&&gd(a,s,l,u),a.flags|=262144}function Co(s){for(s=s.firstContext;s!==null;){if(!ds(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ha(s){Ba=s,Er=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ft(s){return Xg(Ba,s)}function Ao(s,a){return Ba===null&&Ha(s),Xg(s,a)}function Xg(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Er===null){if(s===null)throw Error(i(308));Er=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Er=Er.next=a;return l}var XN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},JN=n.unstable_scheduleCallback,ZN=n.unstable_NormalPriority,jt={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new XN,data:new Map,refCount:0}}function Xi(s){s.refCount--,s.refCount===0&&JN(ZN,function(){s.controller.abort()})}var Ji=null,xd=0,An=0,Tn=null;function eS(s,a){if(Ji===null){var l=Ji=[];xd=0,An=vh(),Tn={status:"pending",value:void 0,then:function(u){l.push(u)}}}return xd++,a.then(Jg,Jg),a}function Jg(){if(--xd===0&&Ji!==null){Tn!==null&&(Tn.status="fulfilled");var s=Ji;Ji=null,An=0,Tn=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function tS(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var f=0;f<l.length;f++)(0,l[f])(a)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var Zg=k.S;k.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&eS(s,a),Zg!==null&&Zg(s,a)};var za=X(null);function yd(){var s=za.current;return s!==null?s:st.pooledCache}function To(s,a){a===null?Z(za,za.current):Z(za,a.pool)}function ep(){var s=yd();return s===null?null:{parent:jt._currentValue,pool:s}}var Zi=Error(i(460)),tp=Error(i(474)),ko=Error(i(542)),vd={then:function(){}};function sp(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Ro(){}function rp(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Ro,Ro),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,np(s),s;default:if(typeof a.status=="string")a.then(Ro,Ro);else{if(s=st,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=u}},function(u){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,np(s),s}throw el=a,Zi}}var el=null;function ap(){if(el===null)throw Error(i(459));var s=el;return el=null,s}function np(s){if(s===Zi||s===ko)throw Error(i(483))}var Yr=!1;function bd(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Kr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Wr(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,a=No(s),Fg(s,null,l),a}return jo(s,u,a,l),No(s)}function tl(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Jm(s,l)}}function jd(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?f=p=a:p=p.next=a}else f=p=a;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Nd=!1;function sl(){if(Nd){var s=Tn;if(s!==null)throw s}}function rl(s,a,l,u){Nd=!1;var f=s.updateQueue;Yr=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var M=A,W=M.next;M.next=null,S===null?p=W:S.next=W,S=M;var se=s.alternate;se!==null&&(se=se.updateQueue,A=se.lastBaseUpdate,A!==S&&(A===null?se.firstBaseUpdate=W:A.next=W,se.lastBaseUpdate=M))}if(p!==null){var ne=f.baseState;S=0,se=W=M=null,A=p;do{var J=A.lane&-536870913,ee=J!==A.lane;if(ee?(Fe&J)===J:(u&J)===J){J!==0&&J===An&&(Nd=!0),se!==null&&(se=se.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Ae=s,Ee=A;J=a;var Ze=l;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){ne=Ae.call(Ze,ne,J);break e}ne=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,J=typeof Ae=="function"?Ae.call(Ze,ne,J):Ae,J==null)break e;ne=x({},ne,J);break e;case 2:Yr=!0}}J=A.callback,J!==null&&(s.flags|=64,ee&&(s.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:A.tag,payload:A.payload,callback:A.callback,next:null},se===null?(W=se=ee,M=ne):se=se.next=ee,S|=J;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ee=A,A=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);se===null&&(M=ne),f.baseState=M,f.firstBaseUpdate=W,f.lastBaseUpdate=se,p===null&&(f.shared.lanes=0),ra|=S,s.lanes=S,s.memoizedState=ne}}function ip(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function lp(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)ip(l[s],a)}var kn=X(null),Oo=X(0);function op(s,a){s=Mr,Z(Oo,s),Z(kn,a),Mr=s|a.baseLanes}function Sd(){Z(Oo,Mr),Z(kn,kn.current)}function _d(){Mr=Oo.current,H(kn),H(Oo)}var Qr=0,Ue=null,Xe=null,yt=null,Do=!1,Rn=!1,qa=!1,Mo=0,al=0,On=null,sS=0;function pt(){throw Error(i(321))}function Ed(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!ds(s[l],a[l]))return!1;return!0}function Cd(s,a,l,u,f,p){return Qr=p,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=s===null||s.memoizedState===null?Fp:Gp,qa=!1,p=l(u,f),qa=!1,Rn&&(p=up(a,l,u,f)),cp(s),p}function cp(s){k.H=Bo;var a=Xe!==null&&Xe.next!==null;if(Qr=0,yt=Xe=Ue=null,Do=!1,al=0,On=null,a)throw Error(i(300));s===null||Ot||(s=s.dependencies,s!==null&&Co(s)&&(Ot=!0))}function up(s,a,l,u){Ue=s;var f=0;do{if(Rn&&(On=null),al=0,Rn=!1,25<=f)throw Error(i(301));if(f+=1,yt=Xe=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=cS,p=a(l,u)}while(Rn);return p}function rS(){var s=k.H,a=s.useState()[0];return a=typeof a.then=="function"?nl(a):a,s=s.useState()[0],(Xe!==null?Xe.memoizedState:null)!==s&&(Ue.flags|=1024),a}function Ad(){var s=Mo!==0;return Mo=0,s}function Td(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function kd(s){if(Do){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Do=!1}Qr=0,yt=Xe=Ue=null,Rn=!1,al=Mo=0,On=null}function is(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ue.memoizedState=yt=s:yt=yt.next=s,yt}function vt(){if(Xe===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=Xe.next;var a=yt===null?Ue.memoizedState:yt.next;if(a!==null)yt=a,Xe=s;else{if(s===null)throw Ue.alternate===null?Error(i(467)):Error(i(310));Xe=s,s={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?Ue.memoizedState=yt=s:yt=yt.next=s}return yt}function Rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(s){var a=al;return al+=1,On===null&&(On=[]),s=rp(On,s,a),a=Ue,(yt===null?a.memoizedState:yt.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?Fp:Gp),s}function Lo(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return nl(s);if(s.$$typeof===T)return Ft(s)}throw Error(i(438,String(s)))}function Od(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Rd(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=D;return a.index++,l}function Ar(s,a){return typeof a=="function"?a(s):a}function Po(s){var a=vt();return Dd(a,Xe,s)}function Dd(s,a,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var f=s.baseQueue,p=u.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}a.baseQueue=f=p,u.pending=null}if(p=s.baseState,f===null)s.memoizedState=p;else{a=f.next;var A=S=null,M=null,W=a,se=!1;do{var ne=W.lane&-536870913;if(ne!==W.lane?(Fe&ne)===ne:(Qr&ne)===ne){var J=W.revertLane;if(J===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ne===An&&(se=!0);else if((Qr&J)===J){W=W.next,J===An&&(se=!0);continue}else ne={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},M===null?(A=M=ne,S=p):M=M.next=ne,Ue.lanes|=J,ra|=J;ne=W.action,qa&&l(p,ne),p=W.hasEagerState?W.eagerState:l(p,ne)}else J={lane:ne,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},M===null?(A=M=J,S=p):M=M.next=J,Ue.lanes|=ne,ra|=ne;W=W.next}while(W!==null&&W!==a);if(M===null?S=p:M.next=A,!ds(p,s.memoizedState)&&(Ot=!0,se&&(l=Tn,l!==null)))throw l;s.memoizedState=p,s.baseState=S,s.baseQueue=M,u.lastRenderedState=p}return f===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Md(s){var a=vt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,f=l.pending,p=a.memoizedState;if(f!==null){l.pending=null;var S=f=f.next;do p=s(p,S.action),S=S.next;while(S!==f);ds(p,a.memoizedState)||(Ot=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),l.lastRenderedState=p}return[p,u]}function dp(s,a,l){var u=Ue,f=vt(),p=Ke;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=a();var S=!ds((Xe||f).memoizedState,l);S&&(f.memoizedState=l,Ot=!0),f=f.queue;var A=mp.bind(null,u,f,s);if(il(2048,8,A,[s]),f.getSnapshot!==a||S||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,Dn(9,Uo(),fp.bind(null,u,f,l,a),null),st===null)throw Error(i(349));p||(Qr&124)!==0||hp(u,a,l)}return l}function hp(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Rd(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function fp(s,a,l,u){a.value=l,a.getSnapshot=u,gp(a)&&pp(s)}function mp(s,a,l){return l(function(){gp(a)&&pp(s)})}function gp(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!ds(s,l)}catch{return!0}}function pp(s){var a=Sn(s,2);a!==null&&xs(a,s,2)}function Ld(s){var a=is();if(typeof s=="function"){var l=s;if(s=l(),qa){lr(!0);try{l()}finally{lr(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:s},a}function xp(s,a,l,u){return s.baseState=l,Dd(s,Xe,typeof u=="function"?u:Ar)}function aS(s,a,l,u,f){if(Io(s))throw Error(i(485));if(s=a.action,s!==null){var p={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};k.T!==null?l(!0):p.isTransition=!1,u(p),l=a.pending,l===null?(p.next=a.pending=p,yp(a,p)):(p.next=l.next,a.pending=l.next=p)}}function yp(s,a){var l=a.action,u=a.payload,f=s.state;if(a.isTransition){var p=k.T,S={};k.T=S;try{var A=l(f,u),M=k.S;M!==null&&M(S,A),vp(s,a,A)}catch(W){Pd(s,a,W)}finally{k.T=p}}else try{p=l(f,u),vp(s,a,p)}catch(W){Pd(s,a,W)}}function vp(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){bp(s,a,u)},function(u){return Pd(s,a,u)}):bp(s,a,l)}function bp(s,a,l){a.status="fulfilled",a.value=l,wp(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,yp(s,l)))}function Pd(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,wp(a),a=a.next;while(a!==u)}s.action=null}function wp(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function jp(s,a){return a}function Np(s,a){if(Ke){var l=st.formState;if(l!==null){e:{var u=Ue;if(Ke){if(ft){t:{for(var f=ft,p=or;f.nodeType!==8;){if(!p){f=null;break t}if(f=Hs(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ft=Hs(f.nextSibling),u=f.data==="F!";break e}}Ia(u)}u=!1}u&&(a=l[0])}}return l=is(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:a},l.queue=u,l=zp.bind(null,Ue,u),u.dispatch=l,u=Ld(!1),p=Hd.bind(null,Ue,!1,u.queue),u=is(),f={state:a,dispatch:null,action:s,pending:null},u.queue=f,l=aS.bind(null,Ue,f,p,l),f.dispatch=l,u.memoizedState=s,[a,l,!1]}function Sp(s){var a=vt();return _p(a,Xe,s)}function _p(s,a,l){if(a=Dd(s,a,jp)[0],s=Po(Ar)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=nl(a)}catch(S){throw S===Zi?ko:S}else u=a;a=vt();var f=a.queue,p=f.dispatch;return l!==a.memoizedState&&(Ue.flags|=2048,Dn(9,Uo(),nS.bind(null,f,l),null)),[u,p,s]}function nS(s,a){s.action=a}function Ep(s){var a=vt(),l=Xe;if(l!==null)return _p(a,l,s);vt(),a=a.memoizedState,l=vt();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Dn(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ue.updateQueue,a===null&&(a=Rd(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function Uo(){return{destroy:void 0,resource:void 0}}function Cp(){return vt().memoizedState}function $o(s,a,l,u){var f=is();u=u===void 0?null:u,Ue.flags|=s,f.memoizedState=Dn(1|a,Uo(),l,u)}function il(s,a,l,u){var f=vt();u=u===void 0?null:u;var p=f.memoizedState.inst;Xe!==null&&u!==null&&Ed(u,Xe.memoizedState.deps)?f.memoizedState=Dn(a,p,l,u):(Ue.flags|=s,f.memoizedState=Dn(1|a,p,l,u))}function Ap(s,a){$o(8390656,8,s,a)}function Tp(s,a){il(2048,8,s,a)}function kp(s,a){return il(4,2,s,a)}function Rp(s,a){return il(4,4,s,a)}function Op(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Dp(s,a,l){l=l!=null?l.concat([s]):null,il(4,4,Op.bind(null,a,s),l)}function Ud(){}function Mp(s,a){var l=vt();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Ed(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function Lp(s,a){var l=vt();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Ed(a,u[1]))return u[0];if(u=s(),qa){lr(!0);try{s()}finally{lr(!1)}}return l.memoizedState=[u,a],u}function $d(s,a,l){return l===void 0||(Qr&1073741824)!==0?s.memoizedState=a:(s.memoizedState=l,s=$x(),Ue.lanes|=s,ra|=s,l)}function Pp(s,a,l,u){return ds(l,a)?l:kn.current!==null?(s=$d(s,l,u),ds(s,a)||(Ot=!0),s):(Qr&42)===0?(Ot=!0,s.memoizedState=l):(s=$x(),Ue.lanes|=s,ra|=s,a)}function Up(s,a,l,u,f){var p=V.p;V.p=p!==0&&8>p?p:8;var S=k.T,A={};k.T=A,Hd(s,!1,a,l);try{var M=f(),W=k.S;if(W!==null&&W(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var se=tS(M,u);ll(s,a,se,ps(s))}else ll(s,a,u,ps(s))}catch(ne){ll(s,a,{then:function(){},status:"rejected",reason:ne},ps())}finally{V.p=p,k.T=S}}function iS(){}function Id(s,a,l,u){if(s.tag!==5)throw Error(i(476));var f=$p(s).queue;Up(s,f,a,z,l===null?iS:function(){return Ip(s),l(u)})}function $p(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:z},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Ip(s){var a=$p(s).next.queue;ll(s,a,{},ps())}function Bd(){return Ft(_l)}function Bp(){return vt().memoizedState}function Hp(){return vt().memoizedState}function lS(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=ps();s=Kr(l);var u=Wr(a,s,l);u!==null&&(xs(u,a,l),tl(u,a,l)),a={cache:pd()},s.payload=a;return}a=a.return}}function oS(s,a,l){var u=ps();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Io(s)?qp(a,l):(l=id(s,a,l,u),l!==null&&(xs(l,s,u),Vp(l,a,u)))}function zp(s,a,l){var u=ps();ll(s,a,l,u)}function ll(s,a,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Io(s))qp(a,f);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var S=a.lastRenderedState,A=p(S,l);if(f.hasEagerState=!0,f.eagerState=A,ds(A,S))return jo(s,a,f,0),st===null&&wo(),!1}catch{}finally{}if(l=id(s,a,f,u),l!==null)return xs(l,s,u),Vp(l,a,u),!0}return!1}function Hd(s,a,l,u){if(u={lane:2,revertLane:vh(),action:u,hasEagerState:!1,eagerState:null,next:null},Io(s)){if(a)throw Error(i(479))}else a=id(s,l,u,2),a!==null&&xs(a,s,2)}function Io(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function qp(s,a){Rn=Do=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function Vp(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Jm(s,l)}}var Bo={readContext:Ft,use:Lo,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},Fp={readContext:Ft,use:Lo,useCallback:function(s,a){return is().memoizedState=[s,a===void 0?null:a],s},useContext:Ft,useEffect:Ap,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,$o(4194308,4,Op.bind(null,a,s),l)},useLayoutEffect:function(s,a){return $o(4194308,4,s,a)},useInsertionEffect:function(s,a){$o(4,2,s,a)},useMemo:function(s,a){var l=is();a=a===void 0?null:a;var u=s();if(qa){lr(!0);try{s()}finally{lr(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=is();if(l!==void 0){var f=l(a);if(qa){lr(!0);try{l(a)}finally{lr(!1)}}}else f=a;return u.memoizedState=u.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},u.queue=s,s=s.dispatch=oS.bind(null,Ue,s),[u.memoizedState,s]},useRef:function(s){var a=is();return s={current:s},a.memoizedState=s},useState:function(s){s=Ld(s);var a=s.queue,l=zp.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:Ud,useDeferredValue:function(s,a){var l=is();return $d(l,s,a)},useTransition:function(){var s=Ld(!1);return s=Up.bind(null,Ue,s.queue,!0,!1),is().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ue,f=is();if(Ke){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),st===null)throw Error(i(349));(Fe&124)!==0||hp(u,a,l)}f.memoizedState=l;var p={value:l,getSnapshot:a};return f.queue=p,Ap(mp.bind(null,u,p,s),[s]),u.flags|=2048,Dn(9,Uo(),fp.bind(null,u,p,l,a),null),l},useId:function(){var s=is(),a=st.identifierPrefix;if(Ke){var l=_r,u=Sr;l=(u&~(1<<32-es(u)-1)).toString(32)+l,a=""+a+"R"+l,l=Mo++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=sS++,a=""+a+"r"+l.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Bd,useFormState:Np,useActionState:Np,useOptimistic:function(s){var a=is();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Hd.bind(null,Ue,!0,l),l.dispatch=a,[s,a]},useMemoCache:Od,useCacheRefresh:function(){return is().memoizedState=lS.bind(null,Ue)}},Gp={readContext:Ft,use:Lo,useCallback:Mp,useContext:Ft,useEffect:Tp,useImperativeHandle:Dp,useInsertionEffect:kp,useLayoutEffect:Rp,useMemo:Lp,useReducer:Po,useRef:Cp,useState:function(){return Po(Ar)},useDebugValue:Ud,useDeferredValue:function(s,a){var l=vt();return Pp(l,Xe.memoizedState,s,a)},useTransition:function(){var s=Po(Ar)[0],a=vt().memoizedState;return[typeof s=="boolean"?s:nl(s),a]},useSyncExternalStore:dp,useId:Bp,useHostTransitionStatus:Bd,useFormState:Sp,useActionState:Sp,useOptimistic:function(s,a){var l=vt();return xp(l,Xe,s,a)},useMemoCache:Od,useCacheRefresh:Hp},cS={readContext:Ft,use:Lo,useCallback:Mp,useContext:Ft,useEffect:Tp,useImperativeHandle:Dp,useInsertionEffect:kp,useLayoutEffect:Rp,useMemo:Lp,useReducer:Md,useRef:Cp,useState:function(){return Md(Ar)},useDebugValue:Ud,useDeferredValue:function(s,a){var l=vt();return Xe===null?$d(l,s,a):Pp(l,Xe.memoizedState,s,a)},useTransition:function(){var s=Md(Ar)[0],a=vt().memoizedState;return[typeof s=="boolean"?s:nl(s),a]},useSyncExternalStore:dp,useId:Bp,useHostTransitionStatus:Bd,useFormState:Ep,useActionState:Ep,useOptimistic:function(s,a){var l=vt();return Xe!==null?xp(l,Xe,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Od,useCacheRefresh:Hp},Mn=null,ol=0;function Ho(s){var a=ol;return ol+=1,Mn===null&&(Mn=[]),rp(Mn,s,a)}function cl(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function zo(s,a){throw a.$$typeof===y?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Yp(s){var a=s._init;return a(s._payload)}function Kp(s){function a(F,$){if(s){var K=F.deletions;K===null?(F.deletions=[$],F.flags|=16):K.push($)}}function l(F,$){if(!s)return null;for(;$!==null;)a(F,$),$=$.sibling;return null}function u(F){for(var $=new Map;F!==null;)F.key!==null?$.set(F.key,F):$.set(F.index,F),F=F.sibling;return $}function f(F,$){return F=Nr(F,$),F.index=0,F.sibling=null,F}function p(F,$,K){return F.index=K,s?(K=F.alternate,K!==null?(K=K.index,K<$?(F.flags|=67108866,$):K):(F.flags|=67108866,$)):(F.flags|=1048576,$)}function S(F){return s&&F.alternate===null&&(F.flags|=67108866),F}function A(F,$,K,ae){return $===null||$.tag!==6?($=od(K,F.mode,ae),$.return=F,$):($=f($,K),$.return=F,$)}function M(F,$,K,ae){var ve=K.type;return ve===_?se(F,$,K.props.children,ae,K.key):$!==null&&($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&Yp(ve)===$.type)?($=f($,K.props),cl($,K),$.return=F,$):($=So(K.type,K.key,K.props,null,F.mode,ae),cl($,K),$.return=F,$)}function W(F,$,K,ae){return $===null||$.tag!==4||$.stateNode.containerInfo!==K.containerInfo||$.stateNode.implementation!==K.implementation?($=cd(K,F.mode,ae),$.return=F,$):($=f($,K.children||[]),$.return=F,$)}function se(F,$,K,ae,ve){return $===null||$.tag!==7?($=La(K,F.mode,ae,ve),$.return=F,$):($=f($,K),$.return=F,$)}function ne(F,$,K){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=od(""+$,F.mode,K),$.return=F,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return K=So($.type,$.key,$.props,null,F.mode,K),cl(K,$),K.return=F,K;case w:return $=cd($,F.mode,K),$.return=F,$;case P:var ae=$._init;return $=ae($._payload),ne(F,$,K)}if(de($)||Q($))return $=La($,F.mode,K,null),$.return=F,$;if(typeof $.then=="function")return ne(F,Ho($),K);if($.$$typeof===T)return ne(F,Ao(F,$),K);zo(F,$)}return null}function J(F,$,K,ae){var ve=$!==null?$.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return ve!==null?null:A(F,$,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case b:return K.key===ve?M(F,$,K,ae):null;case w:return K.key===ve?W(F,$,K,ae):null;case P:return ve=K._init,K=ve(K._payload),J(F,$,K,ae)}if(de(K)||Q(K))return ve!==null?null:se(F,$,K,ae,null);if(typeof K.then=="function")return J(F,$,Ho(K),ae);if(K.$$typeof===T)return J(F,$,Ao(F,K),ae);zo(F,K)}return null}function ee(F,$,K,ae,ve){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return F=F.get(K)||null,A($,F,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case b:return F=F.get(ae.key===null?K:ae.key)||null,M($,F,ae,ve);case w:return F=F.get(ae.key===null?K:ae.key)||null,W($,F,ae,ve);case P:var Ie=ae._init;return ae=Ie(ae._payload),ee(F,$,K,ae,ve)}if(de(ae)||Q(ae))return F=F.get(K)||null,se($,F,ae,ve,null);if(typeof ae.then=="function")return ee(F,$,K,Ho(ae),ve);if(ae.$$typeof===T)return ee(F,$,K,Ao($,ae),ve);zo($,ae)}return null}function Ae(F,$,K,ae){for(var ve=null,Ie=null,Se=$,Ce=$=0,Mt=null;Se!==null&&Ce<K.length;Ce++){Se.index>Ce?(Mt=Se,Se=null):Mt=Se.sibling;var Ge=J(F,Se,K[Ce],ae);if(Ge===null){Se===null&&(Se=Mt);break}s&&Se&&Ge.alternate===null&&a(F,Se),$=p(Ge,$,Ce),Ie===null?ve=Ge:Ie.sibling=Ge,Ie=Ge,Se=Mt}if(Ce===K.length)return l(F,Se),Ke&&Ua(F,Ce),ve;if(Se===null){for(;Ce<K.length;Ce++)Se=ne(F,K[Ce],ae),Se!==null&&($=p(Se,$,Ce),Ie===null?ve=Se:Ie.sibling=Se,Ie=Se);return Ke&&Ua(F,Ce),ve}for(Se=u(Se);Ce<K.length;Ce++)Mt=ee(Se,F,Ce,K[Ce],ae),Mt!==null&&(s&&Mt.alternate!==null&&Se.delete(Mt.key===null?Ce:Mt.key),$=p(Mt,$,Ce),Ie===null?ve=Mt:Ie.sibling=Mt,Ie=Mt);return s&&Se.forEach(function(ha){return a(F,ha)}),Ke&&Ua(F,Ce),ve}function Ee(F,$,K,ae){if(K==null)throw Error(i(151));for(var ve=null,Ie=null,Se=$,Ce=$=0,Mt=null,Ge=K.next();Se!==null&&!Ge.done;Ce++,Ge=K.next()){Se.index>Ce?(Mt=Se,Se=null):Mt=Se.sibling;var ha=J(F,Se,Ge.value,ae);if(ha===null){Se===null&&(Se=Mt);break}s&&Se&&ha.alternate===null&&a(F,Se),$=p(ha,$,Ce),Ie===null?ve=ha:Ie.sibling=ha,Ie=ha,Se=Mt}if(Ge.done)return l(F,Se),Ke&&Ua(F,Ce),ve;if(Se===null){for(;!Ge.done;Ce++,Ge=K.next())Ge=ne(F,Ge.value,ae),Ge!==null&&($=p(Ge,$,Ce),Ie===null?ve=Ge:Ie.sibling=Ge,Ie=Ge);return Ke&&Ua(F,Ce),ve}for(Se=u(Se);!Ge.done;Ce++,Ge=K.next())Ge=ee(Se,F,Ce,Ge.value,ae),Ge!==null&&(s&&Ge.alternate!==null&&Se.delete(Ge.key===null?Ce:Ge.key),$=p(Ge,$,Ce),Ie===null?ve=Ge:Ie.sibling=Ge,Ie=Ge);return s&&Se.forEach(function(u_){return a(F,u_)}),Ke&&Ua(F,Ce),ve}function Ze(F,$,K,ae){if(typeof K=="object"&&K!==null&&K.type===_&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case b:e:{for(var ve=K.key;$!==null;){if($.key===ve){if(ve=K.type,ve===_){if($.tag===7){l(F,$.sibling),ae=f($,K.props.children),ae.return=F,F=ae;break e}}else if($.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===P&&Yp(ve)===$.type){l(F,$.sibling),ae=f($,K.props),cl(ae,K),ae.return=F,F=ae;break e}l(F,$);break}else a(F,$);$=$.sibling}K.type===_?(ae=La(K.props.children,F.mode,ae,K.key),ae.return=F,F=ae):(ae=So(K.type,K.key,K.props,null,F.mode,ae),cl(ae,K),ae.return=F,F=ae)}return S(F);case w:e:{for(ve=K.key;$!==null;){if($.key===ve)if($.tag===4&&$.stateNode.containerInfo===K.containerInfo&&$.stateNode.implementation===K.implementation){l(F,$.sibling),ae=f($,K.children||[]),ae.return=F,F=ae;break e}else{l(F,$);break}else a(F,$);$=$.sibling}ae=cd(K,F.mode,ae),ae.return=F,F=ae}return S(F);case P:return ve=K._init,K=ve(K._payload),Ze(F,$,K,ae)}if(de(K))return Ae(F,$,K,ae);if(Q(K)){if(ve=Q(K),typeof ve!="function")throw Error(i(150));return K=ve.call(K),Ee(F,$,K,ae)}if(typeof K.then=="function")return Ze(F,$,Ho(K),ae);if(K.$$typeof===T)return Ze(F,$,Ao(F,K),ae);zo(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,$!==null&&$.tag===6?(l(F,$.sibling),ae=f($,K),ae.return=F,F=ae):(l(F,$),ae=od(K,F.mode,ae),ae.return=F,F=ae),S(F)):l(F,$)}return function(F,$,K,ae){try{ol=0;var ve=Ze(F,$,K,ae);return Mn=null,ve}catch(Se){if(Se===Zi||Se===ko)throw Se;var Ie=hs(29,Se,null,F.mode);return Ie.lanes=ae,Ie.return=F,Ie}finally{}}}var Ln=Kp(!0),Wp=Kp(!1),Os=X(null),cr=null;function Xr(s){var a=s.alternate;Z(Nt,Nt.current&1),Z(Os,s),cr===null&&(a===null||kn.current!==null||a.memoizedState!==null)&&(cr=s)}function Qp(s){if(s.tag===22){if(Z(Nt,Nt.current),Z(Os,s),cr===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(cr=s)}}else Jr()}function Jr(){Z(Nt,Nt.current),Z(Os,Os.current)}function Tr(s){H(Os),cr===s&&(cr=null),H(Nt)}var Nt=X(0);function qo(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Rh(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function zd(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:x({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var qd={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=ps(),f=Kr(u);f.payload=a,l!=null&&(f.callback=l),a=Wr(s,f,u),a!==null&&(xs(a,s,u),tl(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=ps(),f=Kr(u);f.tag=1,f.payload=a,l!=null&&(f.callback=l),a=Wr(s,f,u),a!==null&&(xs(a,s,u),tl(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=ps(),u=Kr(l);u.tag=2,a!=null&&(u.callback=a),a=Wr(s,u,l),a!==null&&(xs(a,s,l),tl(a,s,l))}};function Xp(s,a,l,u,f,p,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,S):a.prototype&&a.prototype.isPureReactComponent?!Fi(l,u)||!Fi(f,p):!0}function Jp(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&qd.enqueueReplaceState(a,a.state,null)}function Va(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=x({},l));for(var f in s)l[f]===void 0&&(l[f]=s[f])}return l}var Vo=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Zp(s){Vo(s)}function ex(s){console.error(s)}function tx(s){Vo(s)}function Fo(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function sx(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Vd(s,a,l){return l=Kr(l),l.tag=3,l.payload={element:null},l.callback=function(){Fo(s,a)},l}function rx(s){return s=Kr(s),s.tag=3,s}function ax(s,a,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;s.payload=function(){return f(p)},s.callback=function(){sx(a,l,u)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(s.callback=function(){sx(a,l,u),typeof f!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function uS(s,a,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Qi(a,l,f,!0),l=Os.current,l!==null){switch(l.tag){case 13:return cr===null?mh():l.alternate===null&&mt===0&&(mt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===vd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),ph(s,u,f)),!1;case 22:return l.flags|=65536,u===vd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),ph(s,u,f)),!1}throw Error(i(435,l.tag))}return ph(s,u,f),mh(),!1}if(Ke)return a=Os.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,u!==hd&&(s=Error(i(422),{cause:u}),Wi(As(s,l)))):(u!==hd&&(a=Error(i(423),{cause:u}),Wi(As(a,l))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,u=As(u,l),f=Vd(s.stateNode,u,f),jd(s,f),mt!==4&&(mt=2)),!1;var p=Error(i(520),{cause:u});if(p=As(p,l),pl===null?pl=[p]:pl.push(p),mt!==4&&(mt=2),a===null)return!0;u=As(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=f&-f,l.lanes|=s,s=Vd(l.stateNode,u,s),jd(l,s),!1;case 1:if(a=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(aa===null||!aa.has(p))))return l.flags|=65536,f&=-f,l.lanes|=f,f=rx(f),ax(f,s,l,u),jd(l,f),!1}l=l.return}while(l!==null);return!1}var nx=Error(i(461)),Ot=!1;function $t(s,a,l,u){a.child=s===null?Wp(a,null,l,u):Ln(a,s.child,l,u)}function ix(s,a,l,u,f){l=l.render;var p=a.ref;if("ref"in u){var S={};for(var A in u)A!=="ref"&&(S[A]=u[A])}else S=u;return Ha(a),u=Cd(s,a,l,S,p,f),A=Ad(),s!==null&&!Ot?(Td(s,a,f),kr(s,a,f)):(Ke&&A&&ud(a),a.flags|=1,$t(s,a,u,f),a.child)}function lx(s,a,l,u,f){if(s===null){var p=l.type;return typeof p=="function"&&!ld(p)&&p.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=p,ox(s,a,p,u,f)):(s=So(l.type,null,u,a,a.mode,f),s.ref=a.ref,s.return=a,a.child=s)}if(p=s.child,!Jd(s,f)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:Fi,l(S,u)&&s.ref===a.ref)return kr(s,a,f)}return a.flags|=1,s=Nr(p,u),s.ref=a.ref,s.return=a,a.child=s}function ox(s,a,l,u,f){if(s!==null){var p=s.memoizedProps;if(Fi(p,u)&&s.ref===a.ref)if(Ot=!1,a.pendingProps=u=p,Jd(s,f))(s.flags&131072)!==0&&(Ot=!0);else return a.lanes=s.lanes,kr(s,a,f)}return Fd(s,a,l,u,f)}function cx(s,a,l){var u=a.pendingProps,f=u.children,p=s!==null?s.memoizedState:null;if(u.mode==="hidden"){if((a.flags&128)!==0){if(u=p!==null?p.baseLanes|l:l,s!==null){for(f=a.child=s.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~u}else a.childLanes=0,a.child=null;return ux(s,a,u,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&To(a,p!==null?p.cachePool:null),p!==null?op(a,p):Sd(),Qp(a);else return a.lanes=a.childLanes=536870912,ux(s,a,p!==null?p.baseLanes|l:l,l)}else p!==null?(To(a,p.cachePool),op(a,p),Jr(),a.memoizedState=null):(s!==null&&To(a,null),Sd(),Jr());return $t(s,a,f,l),a.child}function ux(s,a,l,u){var f=yd();return f=f===null?null:{parent:jt._currentValue,pool:f},a.memoizedState={baseLanes:l,cachePool:f},s!==null&&To(a,null),Sd(),Qp(a),s!==null&&Qi(s,a,u,!0),null}function Go(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Fd(s,a,l,u,f){return Ha(a),l=Cd(s,a,l,u,void 0,f),u=Ad(),s!==null&&!Ot?(Td(s,a,f),kr(s,a,f)):(Ke&&u&&ud(a),a.flags|=1,$t(s,a,l,f),a.child)}function dx(s,a,l,u,f,p){return Ha(a),a.updateQueue=null,l=up(a,u,l,f),cp(s),u=Ad(),s!==null&&!Ot?(Td(s,a,p),kr(s,a,p)):(Ke&&u&&ud(a),a.flags|=1,$t(s,a,l,p),a.child)}function hx(s,a,l,u,f){if(Ha(a),a.stateNode===null){var p=_n,S=l.contextType;typeof S=="object"&&S!==null&&(p=Ft(S)),p=new l(u,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=qd,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=u,p.state=a.memoizedState,p.refs={},bd(a),S=l.contextType,p.context=typeof S=="object"&&S!==null?Ft(S):_n,p.state=a.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(zd(a,l,S,u),p.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&qd.enqueueReplaceState(p,p.state,null),rl(a,u,p,f),sl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){p=a.stateNode;var A=a.memoizedProps,M=Va(l,A);p.props=M;var W=p.context,se=l.contextType;S=_n,typeof se=="object"&&se!==null&&(S=Ft(se));var ne=l.getDerivedStateFromProps;se=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,se||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A||W!==S)&&Jp(a,p,u,S),Yr=!1;var J=a.memoizedState;p.state=J,rl(a,u,p,f),sl(),W=a.memoizedState,A||J!==W||Yr?(typeof ne=="function"&&(zd(a,l,ne,u),W=a.memoizedState),(M=Yr||Xp(a,l,M,u,J,W,S))?(se||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=W),p.props=u,p.state=W,p.context=S,u=M):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{p=a.stateNode,wd(s,a),S=a.memoizedProps,se=Va(l,S),p.props=se,ne=a.pendingProps,J=p.context,W=l.contextType,M=_n,typeof W=="object"&&W!==null&&(M=Ft(W)),A=l.getDerivedStateFromProps,(W=typeof A=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ne||J!==M)&&Jp(a,p,u,M),Yr=!1,J=a.memoizedState,p.state=J,rl(a,u,p,f),sl();var ee=a.memoizedState;S!==ne||J!==ee||Yr||s!==null&&s.dependencies!==null&&Co(s.dependencies)?(typeof A=="function"&&(zd(a,l,A,u),ee=a.memoizedState),(se=Yr||Xp(a,l,se,u,J,ee,M)||s!==null&&s.dependencies!==null&&Co(s.dependencies))?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,ee,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,ee,M)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ee),p.props=u,p.state=ee,p.context=M,u=se):(typeof p.componentDidUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),u=!1)}return p=u,Go(s,a),u=(a.flags&128)!==0,p||u?(p=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,s!==null&&u?(a.child=Ln(a,s.child,null,f),a.child=Ln(a,null,l,f)):$t(s,a,l,f),a.memoizedState=p.state,s=a.child):s=kr(s,a,f),s}function fx(s,a,l,u){return Ki(),a.flags|=256,$t(s,a,l,u),a.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yd(s){return{baseLanes:s,cachePool:ep()}}function Kd(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Ds),s}function mx(s,a,l){var u=a.pendingProps,f=!1,p=(a.flags&128)!==0,S;if((S=p)||(S=s!==null&&s.memoizedState===null?!1:(Nt.current&2)!==0),S&&(f=!0,a.flags&=-129),S=(a.flags&32)!==0,a.flags&=-33,s===null){if(Ke){if(f?Xr(a):Jr(),Ke){var A=ft,M;if(M=A){e:{for(M=A,A=or;M.nodeType!==8;){if(!A){A=null;break e}if(M=Hs(M.nextSibling),M===null){A=null;break e}}A=M}A!==null?(a.memoizedState={dehydrated:A,treeContext:Pa!==null?{id:Sr,overflow:_r}:null,retryLane:536870912,hydrationErrors:null},M=hs(18,null,null,0),M.stateNode=A,M.return=a,a.child=M,ts=a,ft=null,M=!0):M=!1}M||Ia(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Rh(A)?a.lanes=32:a.lanes=536870912,null;Tr(a)}return A=u.children,u=u.fallback,f?(Jr(),f=a.mode,A=Yo({mode:"hidden",children:A},f),u=La(u,f,l,null),A.return=a,u.return=a,A.sibling=u,a.child=A,f=a.child,f.memoizedState=Yd(l),f.childLanes=Kd(s,S,l),a.memoizedState=Gd,u):(Xr(a),Wd(a,A))}if(M=s.memoizedState,M!==null&&(A=M.dehydrated,A!==null)){if(p)a.flags&256?(Xr(a),a.flags&=-257,a=Qd(s,a,l)):a.memoizedState!==null?(Jr(),a.child=s.child,a.flags|=128,a=null):(Jr(),f=u.fallback,A=a.mode,u=Yo({mode:"visible",children:u.children},A),f=La(f,A,l,null),f.flags|=2,u.return=a,f.return=a,u.sibling=f,a.child=u,Ln(a,s.child,null,l),u=a.child,u.memoizedState=Yd(l),u.childLanes=Kd(s,S,l),a.memoizedState=Gd,a=f);else if(Xr(a),Rh(A)){if(S=A.nextSibling&&A.nextSibling.dataset,S)var W=S.dgst;S=W,u=Error(i(419)),u.stack="",u.digest=S,Wi({value:u,source:null,stack:null}),a=Qd(s,a,l)}else if(Ot||Qi(s,a,l,!1),S=(l&s.childLanes)!==0,Ot||S){if(S=st,S!==null&&(u=l&-l,u=(u&42)!==0?1:Ou(u),u=(u&(S.suspendedLanes|l))!==0?0:u,u!==0&&u!==M.retryLane))throw M.retryLane=u,Sn(s,u),xs(S,s,u),nx;A.data==="$?"||mh(),a=Qd(s,a,l)}else A.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=M.treeContext,ft=Hs(A.nextSibling),ts=a,Ke=!0,$a=null,or=!1,s!==null&&(ks[Rs++]=Sr,ks[Rs++]=_r,ks[Rs++]=Pa,Sr=s.id,_r=s.overflow,Pa=a),a=Wd(a,u.children),a.flags|=4096);return a}return f?(Jr(),f=u.fallback,A=a.mode,M=s.child,W=M.sibling,u=Nr(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,W!==null?f=Nr(W,f):(f=La(f,A,l,null),f.flags|=2),f.return=a,u.return=a,u.sibling=f,a.child=u,u=f,f=a.child,A=s.child.memoizedState,A===null?A=Yd(l):(M=A.cachePool,M!==null?(W=jt._currentValue,M=M.parent!==W?{parent:W,pool:W}:M):M=ep(),A={baseLanes:A.baseLanes|l,cachePool:M}),f.memoizedState=A,f.childLanes=Kd(s,S,l),a.memoizedState=Gd,u):(Xr(a),l=s.child,s=l.sibling,l=Nr(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(S=a.deletions,S===null?(a.deletions=[s],a.flags|=16):S.push(s)),a.child=l,a.memoizedState=null,l)}function Wd(s,a){return a=Yo({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Yo(s,a){return s=hs(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Qd(s,a,l){return Ln(a,s.child,null,l),s=Wd(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function gx(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),md(s.return,a,l)}function Xd(s,a,l,u,f){var p=s.memoizedState;p===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=l,p.tailMode=f)}function px(s,a,l){var u=a.pendingProps,f=u.revealOrder,p=u.tail;if($t(s,a,u.children,l),u=Nt.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&gx(s,l,a);else if(s.tag===19)gx(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}u&=1}switch(Z(Nt,u),f){case"forwards":for(l=a.child,f=null;l!==null;)s=l.alternate,s!==null&&qo(s)===null&&(f=l),l=l.sibling;l=f,l===null?(f=a.child,a.child=null):(f=l.sibling,l.sibling=null),Xd(a,!1,f,l,p);break;case"backwards":for(l=null,f=a.child,a.child=null;f!==null;){if(s=f.alternate,s!==null&&qo(s)===null){a.child=f;break}s=f.sibling,f.sibling=l,l=f,f=s}Xd(a,!0,l,null,p);break;case"together":Xd(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function kr(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),ra|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Qi(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,l=Nr(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Nr(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Jd(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Co(s)))}function dS(s,a,l){switch(a.tag){case 3:me(a,a.stateNode.containerInfo),Gr(a,jt,s.memoizedState.cache),Ki();break;case 27:case 5:ke(a);break;case 4:me(a,a.stateNode.containerInfo);break;case 10:Gr(a,a.type,a.memoizedProps.value);break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Xr(a),a.flags|=128,null):(l&a.child.childLanes)!==0?mx(s,a,l):(Xr(a),s=kr(s,a,l),s!==null?s.sibling:null);Xr(a);break;case 19:var f=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Qi(s,a,l,!1),u=(l&a.childLanes)!==0),f){if(u)return px(s,a,l);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Nt,Nt.current),u)break;return null;case 22:case 23:return a.lanes=0,cx(s,a,l);case 24:Gr(a,jt,s.memoizedState.cache)}return kr(s,a,l)}function xx(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)Ot=!0;else{if(!Jd(s,l)&&(a.flags&128)===0)return Ot=!1,dS(s,a,l);Ot=(s.flags&131072)!==0}else Ot=!1,Ke&&(a.flags&1048576)!==0&&Yg(a,Eo,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var u=a.elementType,f=u._init;if(u=f(u._payload),a.type=u,typeof u=="function")ld(u)?(s=Va(u,s),a.tag=1,a=hx(null,a,u,s,l)):(a.tag=0,a=Fd(null,a,u,s,l));else{if(u!=null){if(f=u.$$typeof,f===O){a.tag=11,a=ix(null,a,u,s,l);break e}else if(f===L){a.tag=14,a=lx(null,a,u,s,l);break e}}throw a=le(u)||u,Error(i(306,a,""))}}return a;case 0:return Fd(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,f=Va(u,a.pendingProps),hx(s,a,u,f,l);case 3:e:{if(me(a,a.stateNode.containerInfo),s===null)throw Error(i(387));u=a.pendingProps;var p=a.memoizedState;f=p.element,wd(s,a),rl(a,u,null,l);var S=a.memoizedState;if(u=S.cache,Gr(a,jt,u),u!==p.cache&&gd(a,[jt],l,!0),sl(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=fx(s,a,u,l);break e}else if(u!==f){f=As(Error(i(424)),a),Wi(f),a=fx(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ft=Hs(s.firstChild),ts=a,Ke=!0,$a=null,or=!0,l=Wp(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ki(),u===f){a=kr(s,a,l);break e}$t(s,a,u,l)}a=a.child}return a;case 26:return Go(s,a),s===null?(l=wy(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ke||(l=a.type,s=a.pendingProps,u=lc(B.current).createElement(l),u[Vt]=a,u[as]=s,Bt(u,l,s),Rt(u),a.stateNode=u):a.memoizedState=wy(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ke(a),s===null&&Ke&&(u=a.stateNode=yy(a.type,a.pendingProps,B.current),ts=a,or=!0,f=ft,la(a.type)?(Oh=f,ft=Hs(u.firstChild)):ft=f),$t(s,a,a.pendingProps.children,l),Go(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Ke&&((f=u=ft)&&(u=IS(u,a.type,a.pendingProps,or),u!==null?(a.stateNode=u,ts=a,ft=Hs(u.firstChild),or=!1,f=!0):f=!1),f||Ia(a)),ke(a),f=a.type,p=a.pendingProps,S=s!==null?s.memoizedProps:null,u=p.children,Ah(f,p)?u=null:S!==null&&Ah(f,S)&&(a.flags|=32),a.memoizedState!==null&&(f=Cd(s,a,rS,null,null,l),_l._currentValue=f),Go(s,a),$t(s,a,u,l),a.child;case 6:return s===null&&Ke&&((s=l=ft)&&(l=BS(l,a.pendingProps,or),l!==null?(a.stateNode=l,ts=a,ft=null,s=!0):s=!1),s||Ia(a)),null;case 13:return mx(s,a,l);case 4:return me(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=Ln(a,null,u,l):$t(s,a,u,l),a.child;case 11:return ix(s,a,a.type,a.pendingProps,l);case 7:return $t(s,a,a.pendingProps,l),a.child;case 8:return $t(s,a,a.pendingProps.children,l),a.child;case 12:return $t(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Gr(a,a.type,u.value),$t(s,a,u.children,l),a.child;case 9:return f=a.type._context,u=a.pendingProps.children,Ha(a),f=Ft(f),u=u(f),a.flags|=1,$t(s,a,u,l),a.child;case 14:return lx(s,a,a.type,a.pendingProps,l);case 15:return ox(s,a,a.type,a.pendingProps,l);case 19:return px(s,a,l);case 31:return u=a.pendingProps,l=a.mode,u={mode:u.mode,children:u.children},s===null?(l=Yo(u,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Nr(s.child,u),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return cx(s,a,l);case 24:return Ha(a),u=Ft(jt),s===null?(f=yd(),f===null&&(f=st,p=pd(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=l),f=p),a.memoizedState={parent:u,cache:f},bd(a),Gr(a,jt,f)):((s.lanes&l)!==0&&(wd(s,a),rl(a,null,null,l),sl()),f=s.memoizedState,p=a.memoizedState,f.parent!==u?(f={parent:u,cache:u},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),Gr(a,jt,u)):(u=p.cache,Gr(a,jt,u),u!==f.cache&&gd(a,[jt],l,!0))),$t(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Rr(s){s.flags|=4}function yx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ey(a)){if(a=Os.current,a!==null&&((Fe&4194048)===Fe?cr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||a!==cr))throw el=vd,tp;s.flags|=8192}}function Ko(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Qm():536870912,s.lanes|=a,In|=a)}function ul(s,a){if(!Ke)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ut(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var f=s.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function hS(s,a,l){var u=a.pendingProps;switch(dd(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(a),null;case 1:return ut(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Cr(jt),Re(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Yi(a)?Rr(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Qg())),ut(a),null;case 26:return l=a.memoizedState,s===null?(Rr(a),l!==null?(ut(a),yx(a,l)):(ut(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Rr(a),ut(a),yx(a,l)):(ut(a),a.flags&=-16777217):(s.memoizedProps!==u&&Rr(a),ut(a),a.flags&=-16777217),null;case 27:Me(a),l=B.current;var f=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Rr(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ut(a),null}s=ce.current,Yi(a)?Kg(a):(s=yy(f,u,l),a.stateNode=s,Rr(a))}return ut(a),null;case 5:if(Me(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&Rr(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ut(a),null}if(s=ce.current,Yi(a))Kg(a);else{switch(f=lc(B.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?s.multiple=!0:u.size&&(s.size=u.size);break;default:s=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}s[Vt]=a,s[as]=u;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=s;e:switch(Bt(s,l,u),l){case"button":case"input":case"select":case"textarea":s=!!u.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Rr(a)}}return ut(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&Rr(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(s=B.current,Yi(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,f=ts,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}s[Vt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||dy(s.nodeValue,l)),s||Ia(a)}else s=lc(s).createTextNode(u),s[Vt]=a,a.stateNode=s}return ut(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=Yi(a),u!==null&&u.dehydrated!==null){if(s===null){if(!f)throw Error(i(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Vt]=a}else Ki(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ut(a),f=!1}else f=Qg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Tr(a),a):(Tr(a),null)}if(Tr(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=u!==null,s=s!==null&&s.memoizedState!==null,l){u=a.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Ko(a,a.updateQueue),ut(a),null;case 4:return Re(),s===null&&Nh(a.stateNode.containerInfo),ut(a),null;case 10:return Cr(a.type),ut(a),null;case 19:if(H(Nt),f=a.memoizedState,f===null)return ut(a),null;if(u=(a.flags&128)!==0,p=f.rendering,p===null)if(u)ul(f,!1);else{if(mt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(p=qo(s),p!==null){for(a.flags|=128,ul(f,!1),s=p.updateQueue,a.updateQueue=s,Ko(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)Gg(l,s),l=l.sibling;return Z(Nt,Nt.current&1|2),a.child}s=s.sibling}f.tail!==null&&kt()>Xo&&(a.flags|=128,u=!0,ul(f,!1),a.lanes=4194304)}else{if(!u)if(s=qo(p),s!==null){if(a.flags|=128,u=!0,s=s.updateQueue,a.updateQueue=s,Ko(a,s),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ke)return ut(a),null}else 2*kt()-f.renderingStartTime>Xo&&l!==536870912&&(a.flags|=128,u=!0,ul(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(s=f.last,s!==null?s.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=kt(),a.sibling=null,s=Nt.current,Z(Nt,u?s&1|2:s&1),a):(ut(a),null);case 22:case 23:return Tr(a),_d(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(ut(a),a.subtreeFlags&6&&(a.flags|=8192)):ut(a),l=a.updateQueue,l!==null&&Ko(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&H(za),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Cr(jt),ut(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function fS(s,a){switch(dd(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Cr(jt),Re(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Me(a),null;case 13:if(Tr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Ki()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return H(Nt),null;case 4:return Re(),null;case 10:return Cr(a.type),null;case 22:case 23:return Tr(a),_d(),s!==null&&H(za),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Cr(jt),null;case 25:return null;default:return null}}function vx(s,a){switch(dd(a),a.tag){case 3:Cr(jt),Re();break;case 26:case 27:case 5:Me(a);break;case 4:Re();break;case 13:Tr(a);break;case 19:H(Nt);break;case 10:Cr(a.type);break;case 22:case 23:Tr(a),_d(),s!==null&&H(za);break;case 24:Cr(jt)}}function dl(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&s)===s){u=void 0;var p=l.create,S=l.inst;u=p(),S.destroy=u}l=l.next}while(l!==f)}}catch(A){tt(a,a.return,A)}}function Zr(s,a,l){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&s)===s){var S=u.inst,A=S.destroy;if(A!==void 0){S.destroy=void 0,f=a;var M=l,W=A;try{W()}catch(se){tt(f,M,se)}}}u=u.next}while(u!==p)}}catch(se){tt(a,a.return,se)}}function bx(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{lp(a,l)}catch(u){tt(s,s.return,u)}}}function wx(s,a,l){l.props=Va(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){tt(s,a,u)}}function hl(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(f){tt(s,a,f)}}function ur(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){tt(s,a,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){tt(s,a,f)}else l.current=null}function jx(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){tt(s,s.return,f)}}function Zd(s,a,l){try{var u=s.stateNode;MS(u,s.type,l,a),u[as]=a}catch(f){tt(s,s.return,f)}}function Nx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&la(s.type)||s.tag===4}function eh(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Nx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&la(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function th(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=ic));else if(u!==4&&(u===27&&la(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(th(s,a,l),s=s.sibling;s!==null;)th(s,a,l),s=s.sibling}function Wo(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&la(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Wo(s,a,l),s=s.sibling;s!==null;)Wo(s,a,l),s=s.sibling}function Sx(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);Bt(a,u,l),a[Vt]=s,a[as]=l}catch(p){tt(s,s.return,p)}}var Or=!1,xt=!1,sh=!1,_x=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function mS(s,a){if(s=s.containerInfo,Eh=fc,s=Pg(s),ed(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,A=-1,M=-1,W=0,se=0,ne=s,J=null;t:for(;;){for(var ee;ne!==l||f!==0&&ne.nodeType!==3||(A=S+f),ne!==p||u!==0&&ne.nodeType!==3||(M=S+u),ne.nodeType===3&&(S+=ne.nodeValue.length),(ee=ne.firstChild)!==null;)J=ne,ne=ee;for(;;){if(ne===s)break t;if(J===l&&++W===f&&(A=S),J===p&&++se===u&&(M=S),(ee=ne.nextSibling)!==null)break;ne=J,J=ne.parentNode}ne=ee}l=A===-1||M===-1?null:{start:A,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ch={focusedElem:s,selectionRange:l},fc=!1,Dt=a;Dt!==null;)if(a=Dt,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Dt=s;else for(;Dt!==null;){switch(a=Dt,p=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=a,f=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var Ae=Va(l.type,f,l.elementType===l.type);s=u.getSnapshotBeforeUpdate(Ae,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ee){tt(l,l.return,Ee)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)kh(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":kh(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,Dt=s;break}Dt=a.return}}function Ex(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ea(s,l),u&4&&dl(5,l);break;case 1:if(ea(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(S){tt(l,l.return,S)}else{var f=Va(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(f,a,s.__reactInternalSnapshotBeforeUpdate)}catch(S){tt(l,l.return,S)}}u&64&&bx(l),u&512&&hl(l,l.return);break;case 3:if(ea(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{lp(s,a)}catch(S){tt(l,l.return,S)}}break;case 27:a===null&&u&4&&Sx(l);case 26:case 5:ea(s,l),a===null&&u&4&&jx(l),u&512&&hl(l,l.return);break;case 12:ea(s,l);break;case 13:ea(s,l),u&4&&Tx(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=NS.bind(null,l),HS(s,l))));break;case 22:if(u=l.memoizedState!==null||Or,!u){a=a!==null&&a.memoizedState!==null||xt,f=Or;var p=xt;Or=u,(xt=a)&&!p?ta(s,l,(l.subtreeFlags&8772)!==0):ea(s,l),Or=f,xt=p}break;case 30:break;default:ea(s,l)}}function Cx(s){var a=s.alternate;a!==null&&(s.alternate=null,Cx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Lu(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var lt=null,ls=!1;function Dr(s,a,l){for(l=l.child;l!==null;)Ax(s,a,l),l=l.sibling}function Ax(s,a,l){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount($s,l)}catch{}switch(l.tag){case 26:xt||ur(l,a),Dr(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:xt||ur(l,a);var u=lt,f=ls;la(l.type)&&(lt=l.stateNode,ls=!1),Dr(s,a,l),wl(l.stateNode),lt=u,ls=f;break;case 5:xt||ur(l,a);case 6:if(u=lt,f=ls,lt=null,Dr(s,a,l),lt=u,ls=f,lt!==null)if(ls)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(l.stateNode)}catch(p){tt(l,a,p)}else try{lt.removeChild(l.stateNode)}catch(p){tt(l,a,p)}break;case 18:lt!==null&&(ls?(s=lt,py(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),Tl(s)):py(lt,l.stateNode));break;case 4:u=lt,f=ls,lt=l.stateNode.containerInfo,ls=!0,Dr(s,a,l),lt=u,ls=f;break;case 0:case 11:case 14:case 15:xt||Zr(2,l,a),xt||Zr(4,l,a),Dr(s,a,l);break;case 1:xt||(ur(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&wx(l,a,u)),Dr(s,a,l);break;case 21:Dr(s,a,l);break;case 22:xt=(u=xt)||l.memoizedState!==null,Dr(s,a,l),xt=u;break;default:Dr(s,a,l)}}function Tx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Tl(s)}catch(l){tt(a,a.return,l)}}function gS(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new _x),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new _x),a;default:throw Error(i(435,s.tag))}}function rh(s,a){var l=gS(s);a.forEach(function(u){var f=SS.bind(null,s,u);l.has(u)||(l.add(u),u.then(f,f))})}function fs(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],p=s,S=a,A=S;e:for(;A!==null;){switch(A.tag){case 27:if(la(A.type)){lt=A.stateNode,ls=!1;break e}break;case 5:lt=A.stateNode,ls=!1;break e;case 3:case 4:lt=A.stateNode.containerInfo,ls=!0;break e}A=A.return}if(lt===null)throw Error(i(160));Ax(p,S,f),lt=null,ls=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)kx(a,s),a=a.sibling}var Bs=null;function kx(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:fs(a,s),ms(s),u&4&&(Zr(3,s,s.return),dl(3,s),Zr(5,s,s.return));break;case 1:fs(a,s),ms(s),u&512&&(xt||l===null||ur(l,l.return)),u&64&&Or&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Bs;if(fs(a,s),ms(s),u&512&&(xt||l===null||ur(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Pi]||p[Vt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),Bt(p,u,l),p[Vt]=s,Rt(p),u=p;break e;case"link":var S=Sy("link","href",f).get(u+(l.href||""));if(S){for(var A=0;A<S.length;A++)if(p=S[A],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(A,1);break t}}p=f.createElement(u),Bt(p,u,l),f.head.appendChild(p);break;case"meta":if(S=Sy("meta","content",f).get(u+(l.content||""))){for(A=0;A<S.length;A++)if(p=S[A],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(A,1);break t}}p=f.createElement(u),Bt(p,u,l),f.head.appendChild(p);break;default:throw Error(i(468,u))}p[Vt]=s,Rt(p),u=p}s.stateNode=u}else _y(f,s.type,s.stateNode);else s.stateNode=Ny(f,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?_y(f,s.type,s.stateNode):Ny(f,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Zd(s,s.memoizedProps,l.memoizedProps)}break;case 27:fs(a,s),ms(s),u&512&&(xt||l===null||ur(l,l.return)),l!==null&&u&4&&Zd(s,s.memoizedProps,l.memoizedProps);break;case 5:if(fs(a,s),ms(s),u&512&&(xt||l===null||ur(l,l.return)),s.flags&32){f=s.stateNode;try{xn(f,"")}catch(ee){tt(s,s.return,ee)}}u&4&&s.stateNode!=null&&(f=s.memoizedProps,Zd(s,f,l!==null?l.memoizedProps:f)),u&1024&&(sh=!0);break;case 6:if(fs(a,s),ms(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(ee){tt(s,s.return,ee)}}break;case 3:if(uc=null,f=Bs,Bs=oc(a.containerInfo),fs(a,s),Bs=f,ms(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Tl(a.containerInfo)}catch(ee){tt(s,s.return,ee)}sh&&(sh=!1,Rx(s));break;case 4:u=Bs,Bs=oc(s.stateNode.containerInfo),fs(a,s),ms(s),Bs=u;break;case 12:fs(a,s),ms(s);break;case 13:fs(a,s),ms(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ch=kt()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,rh(s,u)));break;case 22:f=s.memoizedState!==null;var M=l!==null&&l.memoizedState!==null,W=Or,se=xt;if(Or=W||f,xt=se||M,fs(a,s),xt=se,Or=W,ms(s),u&8192)e:for(a=s.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(l===null||M||Or||xt||Fa(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){M=l=a;try{if(p=M.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{A=M.stateNode;var ne=M.memoizedProps.style,J=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){tt(M,M.return,ee)}}}else if(a.tag===6){if(l===null){M=a;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(ee){tt(M,M.return,ee)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,rh(s,l))));break;case 19:fs(a,s),ms(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,rh(s,u)));break;case 30:break;case 21:break;default:fs(a,s),ms(s)}}function ms(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(Nx(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,p=eh(s);Wo(s,p,f);break;case 5:var S=l.stateNode;l.flags&32&&(xn(S,""),l.flags&=-33);var A=eh(s);Wo(s,A,S);break;case 3:case 4:var M=l.stateNode.containerInfo,W=eh(s);th(s,W,M);break;default:throw Error(i(161))}}catch(se){tt(s,s.return,se)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Rx(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Rx(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ea(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ex(s,a.alternate,a),a=a.sibling}function Fa(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Zr(4,a,a.return),Fa(a);break;case 1:ur(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&wx(a,a.return,l),Fa(a);break;case 27:wl(a.stateNode);case 26:case 5:ur(a,a.return),Fa(a);break;case 22:a.memoizedState===null&&Fa(a);break;case 30:Fa(a);break;default:Fa(a)}s=s.sibling}}function ta(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,f=s,p=a,S=p.flags;switch(p.tag){case 0:case 11:case 15:ta(f,p,l),dl(4,p);break;case 1:if(ta(f,p,l),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(W){tt(u,u.return,W)}if(u=p,f=u.updateQueue,f!==null){var A=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)ip(M[f],A)}catch(W){tt(u,u.return,W)}}l&&S&64&&bx(p),hl(p,p.return);break;case 27:Sx(p);case 26:case 5:ta(f,p,l),l&&u===null&&S&4&&jx(p),hl(p,p.return);break;case 12:ta(f,p,l);break;case 13:ta(f,p,l),l&&S&4&&Tx(f,p);break;case 22:p.memoizedState===null&&ta(f,p,l),hl(p,p.return);break;case 30:break;default:ta(f,p,l)}a=a.sibling}}function ah(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Xi(l))}function nh(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Xi(s))}function dr(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ox(s,a,l,u),a=a.sibling}function Ox(s,a,l,u){var f=a.flags;switch(a.tag){case 0:case 11:case 15:dr(s,a,l,u),f&2048&&dl(9,a);break;case 1:dr(s,a,l,u);break;case 3:dr(s,a,l,u),f&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Xi(s)));break;case 12:if(f&2048){dr(s,a,l,u),s=a.stateNode;try{var p=a.memoizedProps,S=p.id,A=p.onPostCommit;typeof A=="function"&&A(S,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(M){tt(a,a.return,M)}}else dr(s,a,l,u);break;case 13:dr(s,a,l,u);break;case 23:break;case 22:p=a.stateNode,S=a.alternate,a.memoizedState!==null?p._visibility&2?dr(s,a,l,u):fl(s,a):p._visibility&2?dr(s,a,l,u):(p._visibility|=2,Pn(s,a,l,u,(a.subtreeFlags&10256)!==0)),f&2048&&ah(S,a);break;case 24:dr(s,a,l,u),f&2048&&nh(a.alternate,a);break;default:dr(s,a,l,u)}}function Pn(s,a,l,u,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=s,S=a,A=l,M=u,W=S.flags;switch(S.tag){case 0:case 11:case 15:Pn(p,S,A,M,f),dl(8,S);break;case 23:break;case 22:var se=S.stateNode;S.memoizedState!==null?se._visibility&2?Pn(p,S,A,M,f):fl(p,S):(se._visibility|=2,Pn(p,S,A,M,f)),f&&W&2048&&ah(S.alternate,S);break;case 24:Pn(p,S,A,M,f),f&&W&2048&&nh(S.alternate,S);break;default:Pn(p,S,A,M,f)}a=a.sibling}}function fl(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,f=u.flags;switch(u.tag){case 22:fl(l,u),f&2048&&ah(u.alternate,u);break;case 24:fl(l,u),f&2048&&nh(u.alternate,u);break;default:fl(l,u)}a=a.sibling}}var ml=8192;function Un(s){if(s.subtreeFlags&ml)for(s=s.child;s!==null;)Dx(s),s=s.sibling}function Dx(s){switch(s.tag){case 26:Un(s),s.flags&ml&&s.memoizedState!==null&&e_(Bs,s.memoizedState,s.memoizedProps);break;case 5:Un(s);break;case 3:case 4:var a=Bs;Bs=oc(s.stateNode.containerInfo),Un(s),Bs=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=ml,ml=16777216,Un(s),ml=a):Un(s));break;default:Un(s)}}function Mx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function gl(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Dt=u,Px(u,s)}Mx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Lx(s),s=s.sibling}function Lx(s){switch(s.tag){case 0:case 11:case 15:gl(s),s.flags&2048&&Zr(9,s,s.return);break;case 3:gl(s);break;case 12:gl(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Qo(s)):gl(s);break;default:gl(s)}}function Qo(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Dt=u,Px(u,s)}Mx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Zr(8,a,a.return),Qo(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Qo(a));break;default:Qo(a)}s=s.sibling}}function Px(s,a){for(;Dt!==null;){var l=Dt;switch(l.tag){case 0:case 11:case 15:Zr(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Xi(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Dt=u;else e:for(l=s;Dt!==null;){u=Dt;var f=u.sibling,p=u.return;if(Cx(u),u===l){Dt=null;break e}if(f!==null){f.return=p,Dt=f;break e}Dt=p}}}var pS={getCacheForType:function(s){var a=Ft(jt),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},xS=typeof WeakMap=="function"?WeakMap:Map,We=0,st=null,Be=null,Fe=0,Qe=0,gs=null,sa=!1,$n=!1,ih=!1,Mr=0,mt=0,ra=0,Ga=0,lh=0,Ds=0,In=0,pl=null,os=null,oh=!1,ch=0,Xo=1/0,Jo=null,aa=null,It=0,na=null,Bn=null,Hn=0,uh=0,dh=null,Ux=null,xl=0,hh=null;function ps(){if((We&2)!==0&&Fe!==0)return Fe&-Fe;if(k.T!==null){var s=An;return s!==0?s:vh()}return Zm()}function $x(){Ds===0&&(Ds=(Fe&536870912)===0||Ke?Wm():536870912);var s=Os.current;return s!==null&&(s.flags|=32),Ds}function xs(s,a,l){(s===st&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)&&(zn(s,0),ia(s,Fe,Ds,!1)),Li(s,l),((We&2)===0||s!==st)&&(s===st&&((We&2)===0&&(Ga|=l),mt===4&&ia(s,Fe,Ds,!1)),hr(s))}function Ix(s,a,l){if((We&6)!==0)throw Error(i(327));var u=!l&&(a&124)===0&&(a&s.expiredLanes)===0||Mi(s,a),f=u?bS(s,a):gh(s,a,!0),p=u;do{if(f===0){$n&&!u&&ia(s,a,0,!1);break}else{if(l=s.current.alternate,p&&!yS(l)){f=gh(s,a,!1),p=!1;continue}if(f===2){if(p=a,s.errorRecoveryDisabledLanes&p)var S=0;else S=s.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){a=S;e:{var A=s;f=pl;var M=A.current.memoizedState.isDehydrated;if(M&&(zn(A,S).flags|=256),S=gh(A,S,!1),S!==2){if(ih&&!M){A.errorRecoveryDisabledLanes|=p,Ga|=p,f=4;break e}p=os,os=f,p!==null&&(os===null?os=p:os.push.apply(os,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){zn(s,0),ia(s,a,0,!0);break}e:{switch(u=s,p=f,p){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ia(u,a,Ds,!sa);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(f=ch+300-kt(),10<f)){if(ia(u,a,Ds,!sa),oo(u,0,!0)!==0)break e;u.timeoutHandle=my(Bx.bind(null,u,l,os,Jo,oh,a,Ds,Ga,In,sa,p,2,-0,0),f);break e}Bx(u,l,os,Jo,oh,a,Ds,Ga,In,sa,p,0,-0,0)}}break}while(!0);hr(s)}function Bx(s,a,l,u,f,p,S,A,M,W,se,ne,J,ee){if(s.timeoutHandle=-1,ne=a.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:ZS},Dx(a),ne=t_(),ne!==null)){s.cancelPendingCommit=ne(Yx.bind(null,s,a,p,l,u,f,S,A,M,se,1,J,ee)),ia(s,p,S,!W);return}Yx(s,a,p,l,u,f,S,A,M)}function yS(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],p=f.getSnapshot;f=f.value;try{if(!ds(p(),f))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ia(s,a,l,u){a&=~lh,a&=~Ga,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var f=a;0<f;){var p=31-es(f),S=1<<p;u[p]=-1,f&=~S}l!==0&&Xm(s,l,a)}function Zo(){return(We&6)===0?(yl(0),!1):!0}function fh(){if(Be!==null){if(Qe===0)var s=Be.return;else s=Be,Er=Ba=null,kd(s),Mn=null,ol=0,s=Be;for(;s!==null;)vx(s.alternate,s),s=s.return;Be=null}}function zn(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,PS(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),fh(),st=s,Be=l=Nr(s.current,null),Fe=a,Qe=0,gs=null,sa=!1,$n=Mi(s,a),ih=!1,In=Ds=lh=Ga=ra=mt=0,os=pl=null,oh=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var f=31-es(u),p=1<<f;a|=s[f],u&=~p}return Mr=a,wo(),l}function Hx(s,a){Ue=null,k.H=Bo,a===Zi||a===ko?(a=ap(),Qe=3):a===tp?(a=ap(),Qe=4):Qe=a===nx?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,gs=a,Be===null&&(mt=1,Fo(s,As(a,s.current)))}function zx(){var s=k.H;return k.H=Bo,s===null?Bo:s}function qx(){var s=k.A;return k.A=pS,s}function mh(){mt=4,sa||(Fe&4194048)!==Fe&&Os.current!==null||($n=!0),(ra&134217727)===0&&(Ga&134217727)===0||st===null||ia(st,Fe,Ds,!1)}function gh(s,a,l){var u=We;We|=2;var f=zx(),p=qx();(st!==s||Fe!==a)&&(Jo=null,zn(s,a)),a=!1;var S=mt;e:do try{if(Qe!==0&&Be!==null){var A=Be,M=gs;switch(Qe){case 8:fh(),S=6;break e;case 3:case 2:case 9:case 6:Os.current===null&&(a=!0);var W=Qe;if(Qe=0,gs=null,qn(s,A,M,W),l&&$n){S=0;break e}break;default:W=Qe,Qe=0,gs=null,qn(s,A,M,W)}}vS(),S=mt;break}catch(se){Hx(s,se)}while(!0);return a&&s.shellSuspendCounter++,Er=Ba=null,We=u,k.H=f,k.A=p,Be===null&&(st=null,Fe=0,wo()),S}function vS(){for(;Be!==null;)Vx(Be)}function bS(s,a){var l=We;We|=2;var u=zx(),f=qx();st!==s||Fe!==a?(Jo=null,Xo=kt()+500,zn(s,a)):$n=Mi(s,a);e:do try{if(Qe!==0&&Be!==null){a=Be;var p=gs;t:switch(Qe){case 1:Qe=0,gs=null,qn(s,a,p,1);break;case 2:case 9:if(sp(p)){Qe=0,gs=null,Fx(a);break}a=function(){Qe!==2&&Qe!==9||st!==s||(Qe=7),hr(s)},p.then(a,a);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:sp(p)?(Qe=0,gs=null,Fx(a)):(Qe=0,gs=null,qn(s,a,p,7));break;case 5:var S=null;switch(Be.tag){case 26:S=Be.memoizedState;case 5:case 27:var A=Be;if(!S||Ey(S)){Qe=0,gs=null;var M=A.sibling;if(M!==null)Be=M;else{var W=A.return;W!==null?(Be=W,ec(W)):Be=null}break t}}Qe=0,gs=null,qn(s,a,p,5);break;case 6:Qe=0,gs=null,qn(s,a,p,6);break;case 8:fh(),mt=6;break e;default:throw Error(i(462))}}wS();break}catch(se){Hx(s,se)}while(!0);return Er=Ba=null,k.H=u,k.A=f,We=l,Be!==null?0:(st=null,Fe=0,wo(),mt)}function wS(){for(;Be!==null&&!vr();)Vx(Be)}function Vx(s){var a=xx(s.alternate,s,Mr);s.memoizedProps=s.pendingProps,a===null?ec(s):Be=a}function Fx(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=dx(l,a,a.pendingProps,a.type,void 0,Fe);break;case 11:a=dx(l,a,a.pendingProps,a.type.render,a.ref,Fe);break;case 5:kd(a);default:vx(l,a),a=Be=Gg(a,Mr),a=xx(l,a,Mr)}s.memoizedProps=s.pendingProps,a===null?ec(s):Be=a}function qn(s,a,l,u){Er=Ba=null,kd(a),Mn=null,ol=0;var f=a.return;try{if(uS(s,f,a,l,Fe)){mt=1,Fo(s,As(l,s.current)),Be=null;return}}catch(p){if(f!==null)throw Be=f,p;mt=1,Fo(s,As(l,s.current)),Be=null;return}a.flags&32768?(Ke||u===1?s=!0:$n||(Fe&536870912)!==0?s=!1:(sa=s=!0,(u===2||u===9||u===3||u===6)&&(u=Os.current,u!==null&&u.tag===13&&(u.flags|=16384))),Gx(a,s)):ec(a)}function ec(s){var a=s;do{if((a.flags&32768)!==0){Gx(a,sa);return}s=a.return;var l=hS(a.alternate,a,Mr);if(l!==null){Be=l;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=s}while(a!==null);mt===0&&(mt=5)}function Gx(s,a){do{var l=fS(s.alternate,s);if(l!==null){l.flags&=32767,Be=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Be=s;return}Be=s=l}while(s!==null);mt=6,Be=null}function Yx(s,a,l,u,f,p,S,A,M){s.cancelPendingCommit=null;do tc();while(It!==0);if((We&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(p=a.lanes|a.childLanes,p|=nd,Zj(s,l,p,S,A,M),s===st&&(Be=st=null,Fe=0),Bn=a,na=s,Hn=l,uh=p,dh=f,Ux=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,_S(Ta,function(){return Jx(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=k.T,k.T=null,f=V.p,V.p=2,S=We,We|=4;try{mS(s,a,l)}finally{We=S,V.p=f,k.T=u}}It=1,Kx(),Wx(),Qx()}}function Kx(){if(It===1){It=0;var s=na,a=Bn,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var u=V.p;V.p=2;var f=We;We|=4;try{kx(a,s);var p=Ch,S=Pg(s.containerInfo),A=p.focusedElem,M=p.selectionRange;if(S!==A&&A&&A.ownerDocument&&Lg(A.ownerDocument.documentElement,A)){if(M!==null&&ed(A)){var W=M.start,se=M.end;if(se===void 0&&(se=W),"selectionStart"in A)A.selectionStart=W,A.selectionEnd=Math.min(se,A.value.length);else{var ne=A.ownerDocument||document,J=ne&&ne.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ae=A.textContent.length,Ee=Math.min(M.start,Ae),Ze=M.end===void 0?Ee:Math.min(M.end,Ae);!ee.extend&&Ee>Ze&&(S=Ze,Ze=Ee,Ee=S);var F=Mg(A,Ee),$=Mg(A,Ze);if(F&&$&&(ee.rangeCount!==1||ee.anchorNode!==F.node||ee.anchorOffset!==F.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var K=ne.createRange();K.setStart(F.node,F.offset),ee.removeAllRanges(),Ee>Ze?(ee.addRange(K),ee.extend($.node,$.offset)):(K.setEnd($.node,$.offset),ee.addRange(K))}}}}for(ne=[],ee=A;ee=ee.parentNode;)ee.nodeType===1&&ne.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var ae=ne[A];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}fc=!!Eh,Ch=Eh=null}finally{We=f,V.p=u,k.T=l}}s.current=a,It=2}}function Wx(){if(It===2){It=0;var s=na,a=Bn,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var u=V.p;V.p=2;var f=We;We|=4;try{Ex(s,a.alternate,a)}finally{We=f,V.p=u,k.T=l}}It=3}}function Qx(){if(It===4||It===3){It=0,br();var s=na,a=Bn,l=Hn,u=Ux;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?It=5:(It=0,Bn=na=null,Xx(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(aa=null),Du(l),a=a.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot($s,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=k.T,f=V.p,V.p=2,k.T=null;try{for(var p=s.onRecoverableError,S=0;S<u.length;S++){var A=u[S];p(A.value,{componentStack:A.stack})}}finally{k.T=a,V.p=f}}(Hn&3)!==0&&tc(),hr(s),f=s.pendingLanes,(l&4194090)!==0&&(f&42)!==0?s===hh?xl++:(xl=0,hh=s):xl=0,yl(0)}}function Xx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Xi(a)))}function tc(s){return Kx(),Wx(),Qx(),Jx()}function Jx(){if(It!==5)return!1;var s=na,a=uh;uh=0;var l=Du(Hn),u=k.T,f=V.p;try{V.p=32>l?32:l,k.T=null,l=dh,dh=null;var p=na,S=Hn;if(It=0,Bn=na=null,Hn=0,(We&6)!==0)throw Error(i(331));var A=We;if(We|=4,Lx(p.current),Ox(p,p.current,S,l),We=A,yl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot($s,p)}catch{}return!0}finally{V.p=f,k.T=u,Xx(s,a)}}function Zx(s,a,l){a=As(l,a),a=Vd(s.stateNode,a,2),s=Wr(s,a,2),s!==null&&(Li(s,2),hr(s))}function tt(s,a,l){if(s.tag===3)Zx(s,s,l);else for(;a!==null;){if(a.tag===3){Zx(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(aa===null||!aa.has(u))){s=As(l,s),l=rx(2),u=Wr(a,l,2),u!==null&&(ax(l,u,a,s),Li(u,2),hr(u));break}}a=a.return}}function ph(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new xS;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(l)||(ih=!0,f.add(l),s=jS.bind(null,s,a,l),a.then(s,s))}function jS(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,st===s&&(Fe&l)===l&&(mt===4||mt===3&&(Fe&62914560)===Fe&&300>kt()-ch?(We&2)===0&&zn(s,0):lh|=l,In===Fe&&(In=0)),hr(s)}function ey(s,a){a===0&&(a=Qm()),s=Sn(s,a),s!==null&&(Li(s,a),hr(s))}function NS(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),ey(s,l)}function SS(s,a){var l=0;switch(s.tag){case 13:var u=s.stateNode,f=s.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),ey(s,l)}function _S(s,a){return wt(s,a)}var sc=null,Vn=null,xh=!1,rc=!1,yh=!1,Ya=0;function hr(s){s!==Vn&&s.next===null&&(Vn===null?sc=Vn=s:Vn=Vn.next=s),rc=!0,xh||(xh=!0,CS())}function yl(s,a){if(!yh&&rc){yh=!0;do for(var l=!1,u=sc;u!==null;){if(s!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var S=u.suspendedLanes,A=u.pingedLanes;p=(1<<31-es(42|s)+1)-1,p&=f&~(S&~A),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,ay(u,p))}else p=Fe,p=oo(u,u===st?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Mi(u,p)||(l=!0,ay(u,p));u=u.next}while(l);yh=!1}}function ES(){ty()}function ty(){rc=xh=!1;var s=0;Ya!==0&&(LS()&&(s=Ya),Ya=0);for(var a=kt(),l=null,u=sc;u!==null;){var f=u.next,p=sy(u,a);p===0?(u.next=null,l===null?sc=f:l.next=f,f===null&&(Vn=l)):(l=u,(s!==0||(p&3)!==0)&&(rc=!0)),u=f}yl(s)}function sy(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,f=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var S=31-es(p),A=1<<S,M=f[S];M===-1?((A&l)===0||(A&u)!==0)&&(f[S]=Jj(A,a)):M<=a&&(s.expiredLanes|=A),p&=~A}if(a=st,l=Fe,l=oo(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(Qe===2||Qe===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&zt(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||Mi(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&zt(u),Du(l)){case 2:case 8:l=Oi;break;case 32:l=Ta;break;case 268435456:l=Di;break;default:l=Ta}return u=ry.bind(null,s),l=wt(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&zt(u),s.callbackPriority=2,s.callbackNode=null,2}function ry(s,a){if(It!==0&&It!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(tc()&&s.callbackNode!==l)return null;var u=Fe;return u=oo(s,s===st?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Ix(s,u,a),sy(s,kt()),s.callbackNode!=null&&s.callbackNode===l?ry.bind(null,s):null)}function ay(s,a){if(tc())return null;Ix(s,a,!0)}function CS(){US(function(){(We&6)!==0?wt(ir,ES):ty()})}function vh(){return Ya===0&&(Ya=Wm()),Ya}function ny(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:mo(""+s)}function iy(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function AS(s,a,l,u,f){if(a==="submit"&&l&&l.stateNode===f){var p=ny((f[as]||null).action),S=u.submitter;S&&(a=(a=S[as]||null)?ny(a.formAction):S.getAttribute("formAction"),a!==null&&(p=a,S=null));var A=new yo("action","action",null,u,f);s.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ya!==0){var M=S?iy(f,S):new FormData(f);Id(l,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(A.preventDefault(),M=S?iy(f,S):new FormData(f),Id(l,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var bh=0;bh<ad.length;bh++){var wh=ad[bh],TS=wh.toLowerCase(),kS=wh[0].toUpperCase()+wh.slice(1);Is(TS,"on"+kS)}Is(Ig,"onAnimationEnd"),Is(Bg,"onAnimationIteration"),Is(Hg,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(YN,"onTransitionRun"),Is(KN,"onTransitionStart"),Is(WN,"onTransitionCancel"),Is(zg,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function ly(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],f=u.event;u=u.listeners;e:{var p=void 0;if(a)for(var S=u.length-1;0<=S;S--){var A=u[S],M=A.instance,W=A.currentTarget;if(A=A.listener,M!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=W;try{p(f)}catch(se){Vo(se)}f.currentTarget=null,p=M}else for(S=0;S<u.length;S++){if(A=u[S],M=A.instance,W=A.currentTarget,A=A.listener,M!==p&&f.isPropagationStopped())break e;p=A,f.currentTarget=W;try{p(f)}catch(se){Vo(se)}f.currentTarget=null,p=M}}}}function He(s,a){var l=a[Mu];l===void 0&&(l=a[Mu]=new Set);var u=s+"__bubble";l.has(u)||(oy(a,s,2,!1),l.add(u))}function jh(s,a,l){var u=0;a&&(u|=4),oy(l,s,u,a)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Nh(s){if(!s[ac]){s[ac]=!0,tg.forEach(function(l){l!=="selectionchange"&&(RS.has(l)||jh(l,!1,s),jh(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ac]||(a[ac]=!0,jh("selectionchange",!1,a))}}function oy(s,a,l,u){switch(Oy(a)){case 2:var f=a_;break;case 8:f=n_;break;default:f=Uh}l=f.bind(null,a,l,s),f=void 0,!Fu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?s.addEventListener(a,l,{capture:!0,passive:f}):s.addEventListener(a,l,!0):f!==void 0?s.addEventListener(a,l,{passive:f}):s.addEventListener(a,l,!1)}function Sh(s,a,l,u,f){var p=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var A=u.stateNode.containerInfo;if(A===f)break;if(S===4)for(S=u.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;A!==null;){if(S=dn(A),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){u=p=S;continue e}A=A.parentNode}}u=u.return}gg(function(){var W=p,se=qu(l),ne=[];e:{var J=qg.get(s);if(J!==void 0){var ee=yo,Ae=s;switch(s){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":ee=_N;break;case"focusin":Ae="focus",ee=Wu;break;case"focusout":Ae="blur",ee=Wu;break;case"beforeblur":case"afterblur":ee=Wu;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=fN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=AN;break;case Ig:case Bg:case Hg:ee=pN;break;case zg:ee=kN;break;case"scroll":case"scrollend":ee=dN;break;case"wheel":ee=ON;break;case"copy":case"cut":case"paste":ee=yN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=bg;break;case"toggle":case"beforetoggle":ee=MN}var Ee=(a&4)!==0,Ze=!Ee&&(s==="scroll"||s==="scrollend"),F=Ee?J!==null?J+"Capture":null:J;Ee=[];for(var $=W,K;$!==null;){var ae=$;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||F===null||(ae=$i($,F),ae!=null&&Ee.push(bl($,ae,K))),Ze)break;$=$.return}0<Ee.length&&(J=new ee(J,Ae,null,l,se),ne.push({event:J,listeners:Ee}))}}if((a&7)===0){e:{if(J=s==="mouseover"||s==="pointerover",ee=s==="mouseout"||s==="pointerout",J&&l!==zu&&(Ae=l.relatedTarget||l.fromElement)&&(dn(Ae)||Ae[un]))break e;if((ee||J)&&(J=se.window===se?se:(J=se.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ae=l.relatedTarget||l.toElement,ee=W,Ae=Ae?dn(Ae):null,Ae!==null&&(Ze=c(Ae),Ee=Ae.tag,Ae!==Ze||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(ee=null,Ae=W),ee!==Ae)){if(Ee=yg,ae="onMouseLeave",F="onMouseEnter",$="mouse",(s==="pointerout"||s==="pointerover")&&(Ee=bg,ae="onPointerLeave",F="onPointerEnter",$="pointer"),Ze=ee==null?J:Ui(ee),K=Ae==null?J:Ui(Ae),J=new Ee(ae,$+"leave",ee,l,se),J.target=Ze,J.relatedTarget=K,ae=null,dn(se)===W&&(Ee=new Ee(F,$+"enter",Ae,l,se),Ee.target=K,Ee.relatedTarget=Ze,ae=Ee),Ze=ae,ee&&Ae)t:{for(Ee=ee,F=Ae,$=0,K=Ee;K;K=Fn(K))$++;for(K=0,ae=F;ae;ae=Fn(ae))K++;for(;0<$-K;)Ee=Fn(Ee),$--;for(;0<K-$;)F=Fn(F),K--;for(;$--;){if(Ee===F||F!==null&&Ee===F.alternate)break t;Ee=Fn(Ee),F=Fn(F)}Ee=null}else Ee=null;ee!==null&&cy(ne,J,ee,Ee,!1),Ae!==null&&Ze!==null&&cy(ne,Ze,Ae,Ee,!0)}}e:{if(J=W?Ui(W):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var ve=Ag;else if(Eg(J))if(Tg)ve=VN;else{ve=zN;var Ie=HN}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&Hu(W.elementType)&&(ve=Ag):ve=qN;if(ve&&(ve=ve(s,W))){Cg(ne,ve,l,se);break e}Ie&&Ie(s,J,W),s==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Bu(J,"number",J.value)}switch(Ie=W?Ui(W):window,s){case"focusin":(Eg(Ie)||Ie.contentEditable==="true")&&(wn=Ie,td=W,Gi=null);break;case"focusout":Gi=td=wn=null;break;case"mousedown":sd=!0;break;case"contextmenu":case"mouseup":case"dragend":sd=!1,Ug(ne,l,se);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":Ug(ne,l,se)}var Se;if(Xu)e:{switch(s){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else bn?Sg(s,l)&&(Ce="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ce="onCompositionStart");Ce&&(wg&&l.locale!=="ko"&&(bn||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&bn&&(Se=pg()):(Fr=se,Gu="value"in Fr?Fr.value:Fr.textContent,bn=!0)),Ie=nc(W,Ce),0<Ie.length&&(Ce=new vg(Ce,s,null,l,se),ne.push({event:Ce,listeners:Ie}),Se?Ce.data=Se:(Se=_g(l),Se!==null&&(Ce.data=Se)))),(Se=PN?UN(s,l):$N(s,l))&&(Ce=nc(W,"onBeforeInput"),0<Ce.length&&(Ie=new vg("onBeforeInput","beforeinput",null,l,se),ne.push({event:Ie,listeners:Ce}),Ie.data=Se)),AS(ne,s,W,l,se)}ly(ne,a)})}function bl(s,a,l){return{instance:s,listener:a,currentTarget:l}}function nc(s,a){for(var l=a+"Capture",u=[];s!==null;){var f=s,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=$i(s,l),f!=null&&u.unshift(bl(s,f,p)),f=$i(s,a),f!=null&&u.push(bl(s,f,p))),s.tag===3)return u;s=s.return}return[]}function Fn(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function cy(s,a,l,u,f){for(var p=a._reactName,S=[];l!==null&&l!==u;){var A=l,M=A.alternate,W=A.stateNode;if(A=A.tag,M!==null&&M===u)break;A!==5&&A!==26&&A!==27||W===null||(M=W,f?(W=$i(l,p),W!=null&&S.unshift(bl(l,W,M))):f||(W=$i(l,p),W!=null&&S.push(bl(l,W,M)))),l=l.return}S.length!==0&&s.push({event:a,listeners:S})}var OS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function uy(s){return(typeof s=="string"?s:""+s).replace(OS,`
`).replace(DS,"")}function dy(s,a){return a=uy(a),uy(s)===a}function ic(){}function Je(s,a,l,u,f,p){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||xn(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&xn(s,""+u);break;case"className":uo(s,"class",u);break;case"tabIndex":uo(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(s,l,u);break;case"style":fg(s,u,p);break;case"data":if(a!=="object"){uo(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=mo(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(a!=="input"&&Je(s,a,"name",f.name,f,null),Je(s,a,"formEncType",f.formEncType,f,null),Je(s,a,"formMethod",f.formMethod,f,null),Je(s,a,"formTarget",f.formTarget,f,null)):(Je(s,a,"encType",f.encType,f,null),Je(s,a,"method",f.method,f,null),Je(s,a,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=mo(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ic);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=mo(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":He("beforetoggle",s),He("toggle",s),co(s,"popover",u);break;case"xlinkActuate":wr(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wr(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wr(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wr(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wr(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wr(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wr(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":co(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=cN.get(l)||l,co(s,l,u))}}function _h(s,a,l,u,f,p){switch(l){case"style":fg(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?xn(s,u):(typeof u=="number"||typeof u=="bigint")&&xn(s,""+u);break;case"onScroll":u!=null&&He("scroll",s);break;case"onScrollEnd":u!=null&&He("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ic);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sg.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),a=l.slice(2,f?l.length-7:void 0),p=s[as]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(a,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,f);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):co(s,l,u)}}}function Bt(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",s),He("load",s);var u=!1,f=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Je(s,a,p,S,l,null)}}f&&Je(s,a,"srcSet",l.srcSet,l,null),u&&Je(s,a,"src",l.src,l,null);return;case"input":He("invalid",s);var A=p=S=f=null,M=null,W=null;for(u in l)if(l.hasOwnProperty(u)){var se=l[u];if(se!=null)switch(u){case"name":f=se;break;case"type":S=se;break;case"checked":M=se;break;case"defaultChecked":W=se;break;case"value":p=se;break;case"defaultValue":A=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,a));break;default:Je(s,a,u,se,l,null)}}cg(s,p,A,M,W,S,f,!1),ho(s);return;case"select":He("invalid",s),u=S=p=null;for(f in l)if(l.hasOwnProperty(f)&&(A=l[f],A!=null))switch(f){case"value":p=A;break;case"defaultValue":S=A;break;case"multiple":u=A;default:Je(s,a,f,A,l,null)}a=p,l=S,s.multiple=!!u,a!=null?pn(s,!!u,a,!1):l!=null&&pn(s,!!u,l,!0);return;case"textarea":He("invalid",s),p=f=u=null;for(S in l)if(l.hasOwnProperty(S)&&(A=l[S],A!=null))switch(S){case"value":u=A;break;case"defaultValue":f=A;break;case"children":p=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:Je(s,a,S,A,l,null)}dg(s,u,f,p),ho(s);return;case"option":for(M in l)if(l.hasOwnProperty(M)&&(u=l[M],u!=null))switch(M){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(s,a,M,u,l,null)}return;case"dialog":He("beforetoggle",s),He("toggle",s),He("cancel",s),He("close",s);break;case"iframe":case"object":He("load",s);break;case"video":case"audio":for(u=0;u<vl.length;u++)He(vl[u],s);break;case"image":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"embed":case"source":case"link":He("error",s),He("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(u=l[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Je(s,a,W,u,l,null)}return;default:if(Hu(a)){for(se in l)l.hasOwnProperty(se)&&(u=l[se],u!==void 0&&_h(s,a,se,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&Je(s,a,A,u,l,null))}function MS(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,A=null,M=null,W=null,se=null;for(ee in l){var ne=l[ee];if(l.hasOwnProperty(ee)&&ne!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":M=ne;default:u.hasOwnProperty(ee)||Je(s,a,ee,null,u,ne)}}for(var J in u){var ee=u[J];if(ne=l[J],u.hasOwnProperty(J)&&(ee!=null||ne!=null))switch(J){case"type":p=ee;break;case"name":f=ee;break;case"checked":W=ee;break;case"defaultChecked":se=ee;break;case"value":S=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:ee!==ne&&Je(s,a,J,ee,u,ne)}}Iu(s,S,A,M,W,se,p,f);return;case"select":ee=S=A=J=null;for(p in l)if(M=l[p],l.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":ee=M;default:u.hasOwnProperty(p)||Je(s,a,p,null,u,M)}for(f in u)if(p=u[f],M=l[f],u.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":J=p;break;case"defaultValue":A=p;break;case"multiple":S=p;default:p!==M&&Je(s,a,f,p,u,M)}a=A,l=S,u=ee,J!=null?pn(s,!!l,J,!1):!!u!=!!l&&(a!=null?pn(s,!!l,a,!0):pn(s,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(A in l)if(f=l[A],l.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Je(s,a,A,null,u,f)}for(S in u)if(f=u[S],p=l[S],u.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":J=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==p&&Je(s,a,S,f,u,p)}ug(s,J,ee);return;case"option":for(var Ae in l)if(J=l[Ae],l.hasOwnProperty(Ae)&&J!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":s.selected=!1;break;default:Je(s,a,Ae,null,u,J)}for(M in u)if(J=u[M],ee=l[M],u.hasOwnProperty(M)&&J!==ee&&(J!=null||ee!=null))switch(M){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Je(s,a,M,J,u,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in l)J=l[Ee],l.hasOwnProperty(Ee)&&J!=null&&!u.hasOwnProperty(Ee)&&Je(s,a,Ee,null,u,J);for(W in u)if(J=u[W],ee=l[W],u.hasOwnProperty(W)&&J!==ee&&(J!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:Je(s,a,W,J,u,ee)}return;default:if(Hu(a)){for(var Ze in l)J=l[Ze],l.hasOwnProperty(Ze)&&J!==void 0&&!u.hasOwnProperty(Ze)&&_h(s,a,Ze,void 0,u,J);for(se in u)J=u[se],ee=l[se],!u.hasOwnProperty(se)||J===ee||J===void 0&&ee===void 0||_h(s,a,se,J,u,ee);return}}for(var F in l)J=l[F],l.hasOwnProperty(F)&&J!=null&&!u.hasOwnProperty(F)&&Je(s,a,F,null,u,J);for(ne in u)J=u[ne],ee=l[ne],!u.hasOwnProperty(ne)||J===ee||J==null&&ee==null||Je(s,a,ne,J,u,ee)}var Eh=null,Ch=null;function lc(s){return s.nodeType===9?s:s.ownerDocument}function hy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Ah(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Th=null;function LS(){var s=window.event;return s&&s.type==="popstate"?s===Th?!1:(Th=s,!0):(Th=null,!1)}var my=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,gy=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof gy<"u"?function(s){return gy.resolve(null).then(s).catch($S)}:my;function $S(s){setTimeout(function(){throw s})}function la(s){return s==="head"}function py(s,a){var l=a,u=0,f=0;do{var p=l.nextSibling;if(s.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(0<u&&8>u){l=u;var S=s.ownerDocument;if(l&1&&wl(S.documentElement),l&2&&wl(S.body),l&4)for(l=S.head,wl(l),S=l.firstChild;S;){var A=S.nextSibling,M=S.nodeName;S[Pi]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&S.rel.toLowerCase()==="stylesheet"||l.removeChild(S),S=A}}if(f===0){s.removeChild(p),Tl(a);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=p}while(l);Tl(a)}function kh(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":kh(l),Lu(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function IS(s,a,l,u){for(;s.nodeType===1;){var f=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Pi])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Hs(s.nextSibling),s===null)break}return null}function BS(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Hs(s.nextSibling),s===null))return null;return s}function Rh(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function HS(s,a){var l=s.ownerDocument;if(s.data!=="$?"||l.readyState==="complete")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Hs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Oh=null;function xy(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function yy(s,a,l){switch(a=lc(l),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function wl(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Lu(s)}var Ms=new Map,vy=new Set;function oc(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Lr=V.d;V.d={f:zS,r:qS,D:VS,C:FS,L:GS,m:YS,X:WS,S:KS,M:QS};function zS(){var s=Lr.f(),a=Zo();return s||a}function qS(s){var a=hn(s);a!==null&&a.tag===5&&a.type==="form"?Ip(a):Lr.r(s)}var Gn=typeof document>"u"?null:document;function by(s,a,l){var u=Gn;if(u&&typeof a=="string"&&a){var f=Cs(a);f='link[rel="'+s+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),vy.has(f)||(vy.add(f),s={rel:s,crossOrigin:l,href:a},u.querySelector(f)===null&&(a=u.createElement("link"),Bt(a,"link",s),Rt(a),u.head.appendChild(a)))}}function VS(s){Lr.D(s),by("dns-prefetch",s,null)}function FS(s,a){Lr.C(s,a),by("preconnect",s,a)}function GS(s,a,l){Lr.L(s,a,l);var u=Gn;if(u&&s&&a){var f='link[rel="preload"][as="'+Cs(a)+'"]';a==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Cs(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Cs(l.imageSizes)+'"]')):f+='[href="'+Cs(s)+'"]';var p=f;switch(a){case"style":p=Yn(s);break;case"script":p=Kn(s)}Ms.has(p)||(s=x({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Ms.set(p,s),u.querySelector(f)!==null||a==="style"&&u.querySelector(jl(p))||a==="script"&&u.querySelector(Nl(p))||(a=u.createElement("link"),Bt(a,"link",s),Rt(a),u.head.appendChild(a)))}}function YS(s,a){Lr.m(s,a);var l=Gn;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Cs(u)+'"][href="'+Cs(s)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Kn(s)}if(!Ms.has(p)&&(s=x({rel:"modulepreload",href:s},a),Ms.set(p,s),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Nl(p)))return}u=l.createElement("link"),Bt(u,"link",s),Rt(u),l.head.appendChild(u)}}}function KS(s,a,l){Lr.S(s,a,l);var u=Gn;if(u&&s){var f=fn(u).hoistableStyles,p=Yn(s);a=a||"default";var S=f.get(p);if(!S){var A={loading:0,preload:null};if(S=u.querySelector(jl(p)))A.loading=5;else{s=x({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Ms.get(p))&&Dh(s,l);var M=S=u.createElement("link");Rt(M),Bt(M,"link",s),M._p=new Promise(function(W,se){M.onload=W,M.onerror=se}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,cc(S,a,u)}S={type:"stylesheet",instance:S,count:1,state:A},f.set(p,S)}}}function WS(s,a){Lr.X(s,a);var l=Gn;if(l&&s){var u=fn(l).hoistableScripts,f=Kn(s),p=u.get(f);p||(p=l.querySelector(Nl(f)),p||(s=x({src:s,async:!0},a),(a=Ms.get(f))&&Mh(s,a),p=l.createElement("script"),Rt(p),Bt(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function QS(s,a){Lr.M(s,a);var l=Gn;if(l&&s){var u=fn(l).hoistableScripts,f=Kn(s),p=u.get(f);p||(p=l.querySelector(Nl(f)),p||(s=x({src:s,async:!0,type:"module"},a),(a=Ms.get(f))&&Mh(s,a),p=l.createElement("script"),Rt(p),Bt(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function wy(s,a,l,u){var f=(f=B.current)?oc(f):null;if(!f)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Yn(l.href),l=fn(f).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Yn(l.href);var p=fn(f).hoistableStyles,S=p.get(s);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,S),(p=f.querySelector(jl(s)))&&!p._p&&(S.instance=p,S.state.loading=5),Ms.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ms.set(s,l),p||XS(f,s,l,S.state))),a&&u===null)throw Error(i(528,""));return S}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Kn(l),l=fn(f).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Yn(s){return'href="'+Cs(s)+'"'}function jl(s){return'link[rel="stylesheet"]['+s+"]"}function jy(s){return x({},s,{"data-precedence":s.precedence,precedence:null})}function XS(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Bt(a,"link",l),Rt(a),s.head.appendChild(a))}function Kn(s){return'[src="'+Cs(s)+'"]'}function Nl(s){return"script[async]"+s}function Ny(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Cs(l.href)+'"]');if(u)return a.instance=u,Rt(u),u;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Rt(u),Bt(u,"style",f),cc(u,l.precedence,s),a.instance=u;case"stylesheet":f=Yn(l.href);var p=s.querySelector(jl(f));if(p)return a.state.loading|=4,a.instance=p,Rt(p),p;u=jy(l),(f=Ms.get(f))&&Dh(u,f),p=(s.ownerDocument||s).createElement("link"),Rt(p);var S=p;return S._p=new Promise(function(A,M){S.onload=A,S.onerror=M}),Bt(p,"link",u),a.state.loading|=4,cc(p,l.precedence,s),a.instance=p;case"script":return p=Kn(l.src),(f=s.querySelector(Nl(p)))?(a.instance=f,Rt(f),f):(u=l,(f=Ms.get(p))&&(u=x({},l),Mh(u,f)),s=s.ownerDocument||s,f=s.createElement("script"),Rt(f),Bt(f,"link",u),s.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,cc(u,l.precedence,s));return a.instance}function cc(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,S=0;S<u.length;S++){var A=u[S];if(A.dataset.precedence===a)p=A;else if(p!==f)break}p?p.parentNode.insertBefore(s,p.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Dh(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Mh(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var uc=null;function Sy(s,a,l){if(uc===null){var u=new Map,f=uc=new Map;f.set(l,u)}else f=uc,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),f=0;f<l.length;f++){var p=l[f];if(!(p[Pi]||p[Vt]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(a)||"";S=s+S;var A=u.get(S);A?A.push(p):u.set(S,[p])}}return u}function _y(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function JS(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ey(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Sl=null;function ZS(){}function e_(s,a,l){if(Sl===null)throw Error(i(475));var u=Sl;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Yn(l.href),p=s.querySelector(jl(f));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(u.count++,u=dc.bind(u),s.then(u,u)),a.state.loading|=4,a.instance=p,Rt(p);return}p=s.ownerDocument||s,l=jy(l),(f=Ms.get(f))&&Dh(l,f),p=p.createElement("link"),Rt(p);var S=p;S._p=new Promise(function(A,M){S.onload=A,S.onerror=M}),Bt(p,"link",l),a.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(u.count++,a=dc.bind(u),s.addEventListener("load",a),s.addEventListener("error",a))}}function t_(){if(Sl===null)throw Error(i(475));var s=Sl;return s.stylesheets&&s.count===0&&Lh(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&Lh(s,s.stylesheets),s.unsuspend){var u=s.unsuspend;s.unsuspend=null,u()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var hc=null;function Lh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,hc=new Map,a.forEach(s_,s),hc=null,dc.call(s))}function s_(s,a){if(!(a.state.loading&4)){var l=hc.get(s);if(l)var u=l.get(null);else{l=new Map,hc.set(s,l);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),u=S)}u&&l.set(null,u)}f=a.instance,S=f.getAttribute("data-precedence"),p=l.get(S)||u,p===u&&l.set(null,f),l.set(S,f),this.count++,u=dc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),a.state.loading|=4}}var _l={$$typeof:T,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function r_(s,a,l,u,f,p,S,A){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ru(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ru(0),this.hiddenUpdates=Ru(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Cy(s,a,l,u,f,p,S,A,M,W,se,ne){return s=new r_(s,a,l,S,A,M,W,ne),a=1,p===!0&&(a|=24),p=hs(3,null,null,a),s.current=p,p.stateNode=s,a=pd(),a.refCount++,s.pooledCache=a,a.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:a},bd(p),s}function Ay(s){return s?(s=_n,s):_n}function Ty(s,a,l,u,f,p){f=Ay(f),u.context===null?u.context=f:u.pendingContext=f,u=Kr(a),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Wr(s,u,a),l!==null&&(xs(l,s,a),tl(l,s,a))}function ky(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Ph(s,a){ky(s,a),(s=s.alternate)&&ky(s,a)}function Ry(s){if(s.tag===13){var a=Sn(s,67108864);a!==null&&xs(a,s,67108864),Ph(s,67108864)}}var fc=!0;function a_(s,a,l,u){var f=k.T;k.T=null;var p=V.p;try{V.p=2,Uh(s,a,l,u)}finally{V.p=p,k.T=f}}function n_(s,a,l,u){var f=k.T;k.T=null;var p=V.p;try{V.p=8,Uh(s,a,l,u)}finally{V.p=p,k.T=f}}function Uh(s,a,l,u){if(fc){var f=$h(u);if(f===null)Sh(s,a,u,mc,l),Dy(s,u);else if(l_(f,s,a,l,u))u.stopPropagation();else if(Dy(s,u),a&4&&-1<i_.indexOf(s)){for(;f!==null;){var p=hn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=ka(p.pendingLanes);if(S!==0){var A=p;for(A.pendingLanes|=2,A.entangledLanes|=2;S;){var M=1<<31-es(S);A.entanglements[1]|=M,S&=~M}hr(p),(We&6)===0&&(Xo=kt()+500,yl(0))}}break;case 13:A=Sn(p,2),A!==null&&xs(A,p,2),Zo(),Ph(p,2)}if(p=$h(u),p===null&&Sh(s,a,u,mc,l),p===f)break;f=p}f!==null&&u.stopPropagation()}else Sh(s,a,u,null,l)}}function $h(s){return s=qu(s),Ih(s)}var mc=null;function Ih(s){if(mc=null,s=dn(s),s!==null){var a=c(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=d(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return mc=s,null}function Oy(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Aa()){case ir:return 2;case Oi:return 8;case Ta:case no:return 32;case Di:return 268435456;default:return 32}default:return 32}}var Bh=!1,oa=null,ca=null,ua=null,El=new Map,Cl=new Map,da=[],i_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dy(s,a){switch(s){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":El.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(a.pointerId)}}function Al(s,a,l,u,f,p){return s===null||s.nativeEvent!==p?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},a!==null&&(a=hn(a),a!==null&&Ry(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),s)}function l_(s,a,l,u,f){switch(a){case"focusin":return oa=Al(oa,s,a,l,u,f),!0;case"dragenter":return ca=Al(ca,s,a,l,u,f),!0;case"mouseover":return ua=Al(ua,s,a,l,u,f),!0;case"pointerover":var p=f.pointerId;return El.set(p,Al(El.get(p)||null,s,a,l,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Cl.set(p,Al(Cl.get(p)||null,s,a,l,u,f)),!0}return!1}function My(s){var a=dn(s.target);if(a!==null){var l=c(a);if(l!==null){if(a=l.tag,a===13){if(a=d(l),a!==null){s.blockedOn=a,eN(s.priority,function(){if(l.tag===13){var u=ps();u=Ou(u);var f=Sn(l,u);f!==null&&xs(f,l,u),Ph(l,u)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gc(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=$h(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);zu=u,l.target.dispatchEvent(u),zu=null}else return a=hn(l),a!==null&&Ry(a),s.blockedOn=l,!1;a.shift()}return!0}function Ly(s,a,l){gc(s)&&l.delete(a)}function o_(){Bh=!1,oa!==null&&gc(oa)&&(oa=null),ca!==null&&gc(ca)&&(ca=null),ua!==null&&gc(ua)&&(ua=null),El.forEach(Ly),Cl.forEach(Ly)}function pc(s,a){s.blockedOn===a&&(s.blockedOn=null,Bh||(Bh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,o_)))}var xc=null;function Py(s){xc!==s&&(xc=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){xc===s&&(xc=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],f=s[a+2];if(typeof u!="function"){if(Ih(u||l)===null)continue;break}var p=hn(l);p!==null&&(s.splice(a,3),a-=3,Id(p,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Tl(s){function a(M){return pc(M,s)}oa!==null&&pc(oa,s),ca!==null&&pc(ca,s),ua!==null&&pc(ua,s),El.forEach(a),Cl.forEach(a);for(var l=0;l<da.length;l++){var u=da[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<da.length&&(l=da[0],l.blockedOn===null);)My(l),l.blockedOn===null&&da.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],p=l[u+1],S=f[as]||null;if(typeof p=="function")S||Py(l);else if(S){var A=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[as]||null)A=S.formAction;else if(Ih(f)!==null)continue}else A=S.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),Py(l)}}}function Hh(s){this._internalRoot=s}yc.prototype.render=Hh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,u=ps();Ty(l,u,s,a,null,null)},yc.prototype.unmount=Hh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ty(s.current,2,null,s,null,null),Zo(),a[un]=null}};function yc(s){this._internalRoot=s}yc.prototype.unstable_scheduleHydration=function(s){if(s){var a=Zm();s={blockedOn:null,target:s,priority:a};for(var l=0;l<da.length&&a!==0&&a<da[l].priority;l++);da.splice(l,0,s),l===0&&My(s)}};var Uy=e.version;if(Uy!=="19.1.0")throw Error(i(527,Uy,"19.1.0"));V.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var c_={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{$s=vc.inject(c_),Ut=vc}catch{}}return Rl.createRoot=function(s,a){if(!o(s))throw Error(i(299));var l=!1,u="",f=Zp,p=ex,S=tx,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=Cy(s,1,!1,null,null,l,u,f,p,S,A,null),s[un]=a.current,Nh(s),new Hh(a)},Rl.hydrateRoot=function(s,a,l){if(!o(s))throw Error(i(299));var u=!1,f="",p=Zp,S=ex,A=tx,M=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),a=Cy(s,1,!0,a,l??null,u,f,p,S,A,M,W),a.context=Ay(null),l=a.current,u=ps(),u=Ou(u),f=Kr(u),f.callback=null,Wr(l,f,u),l=u,a.current.lanes=l,Li(a,l),hr(a),s[un]=a.current,Nh(s),new yc(a)},Rl.version="19.1.0",Rl}var Yy;function b_(){if(Yy)return Vh.exports;Yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vh.exports=v_(),Vh.exports}var w_=b_();const j_="modulepreload",N_=function(n){return"/"+n},Ky={},Ht=function(e,t,i){let o=Promise.resolve();if(t&&t.length>0){let d=function(m){return Promise.all(m.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=d(t.map(m=>{if(m=N_(m),m in Ky)return;Ky[m]=!0;const x=m.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":j_,x||(b.as="script"),b.crossOrigin="",b.href=m,g&&b.setAttribute("nonce",g),document.head.appendChild(b),x)return new Promise((w,_)=>{b.addEventListener("load",w),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})};var Ol={},Wy;function S_(){if(Wy)return Ol;Wy=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=d,Ol.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function d(b,w){const _=new c,j=b.length;if(j<2)return _;const N=(w==null?void 0:w.decode)||x;let E=0;do{const C=b.indexOf("=",E);if(C===-1)break;const T=b.indexOf(";",E),O=T===-1?j:T;if(C>O){E=b.lastIndexOf(";",C-1)+1;continue}const U=h(b,E,C),G=g(b,C,U),L=b.slice(U,G);if(_[L]===void 0){let P=h(b,C+1,O),Y=g(b,O,P);const D=N(b.slice(P,Y));_[L]=D}E=O+1}while(E<j);return _}function h(b,w,_){do{const j=b.charCodeAt(w);if(j!==32&&j!==9)return w}while(++w<_);return _}function g(b,w,_){for(;w>_;){const j=b.charCodeAt(--w);if(j!==32&&j!==9)return w+1}return _}function m(b,w,_){const j=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=j(w);if(!e.test(N))throw new TypeError(`argument val is invalid: ${w}`);let E=b+"="+N;if(!_)return E;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);E+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);E+="; Domain="+_.domain}if(_.path){if(!i.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);E+="; Path="+_.path}if(_.expires){if(!y(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);E+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(E+="; HttpOnly"),_.secure&&(E+="; Secure"),_.partitioned&&(E+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return E}function x(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function y(b){return o.call(b)==="[object Date]"}return Ol}S_();var Qy="popstate";function __(n={}){function e(i,o){let{pathname:c,search:d,hash:h}=i.location;return Cf("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Vl(o)}return C_(e,t,null,n)}function ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ws(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function E_(){return Math.random().toString(36).substring(2,10)}function Xy(n,e){return{usr:n.state,key:n.key,idx:e}}function Cf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?vi(e):e,state:t,key:e&&e.key||i||E_()}}function Vl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function vi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function C_(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,h="POP",g=null,m=x();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function x(){return(d.state||{idx:null}).idx}function y(){h="POP";let N=x(),E=N==null?null:N-m;m=N,g&&g({action:h,location:j.location,delta:E})}function b(N,E){h="PUSH";let C=Cf(j.location,N,E);m=x()+1;let T=Xy(C,m),O=j.createHref(C);try{d.pushState(T,"",O)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(O)}c&&g&&g({action:h,location:j.location,delta:1})}function w(N,E){h="REPLACE";let C=Cf(j.location,N,E);m=x();let T=Xy(C,m),O=j.createHref(C);d.replaceState(T,"",O),c&&g&&g({action:h,location:j.location,delta:0})}function _(N){return A_(N)}let j={get action(){return h},get location(){return n(o,d)},listen(N){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Qy,y),g=N,()=>{o.removeEventListener(Qy,y),g=null}},createHref(N){return e(o,N)},createURL:_,encodeLocation(N){let E=_(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:b,replace:w,go(N){return d.go(N)}};return j}function A_(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ot(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Vl(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function wv(n,e,t="/"){return T_(n,e,t,!1)}function T_(n,e,t,i){let o=typeof e=="string"?vi(e):e,c=Hr(o.pathname||"/",t);if(c==null)return null;let d=jv(n);k_(d);let h=null;for(let g=0;h==null&&g<d.length;++g){let m=H_(c);h=I_(d[g],m,i)}return h}function jv(n,e=[],t=[],i=""){let o=(c,d,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(ot(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let m=Ir([i,g.relativePath]),x=t.concat(g);c.children&&c.children.length>0&&(ot(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),jv(c.children,e,x,m)),!(c.path==null&&!c.index)&&e.push({path:m,score:U_(m,c.index),routesMeta:x})};return n.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let g of Nv(c.path))o(c,d,g)}),e}function Nv(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=Nv(i.join("/")),h=[];return h.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&h.push(...d),h.map(g=>n.startsWith("/")&&g===""?"/":g)}function k_(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$_(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var R_=/^:[\w-]+$/,O_=3,D_=2,M_=1,L_=10,P_=-2,Jy=n=>n==="*";function U_(n,e){let t=n.split("/"),i=t.length;return t.some(Jy)&&(i+=P_),e&&(i+=D_),t.filter(o=>!Jy(o)).reduce((o,c)=>o+(R_.test(c)?O_:c===""?M_:L_),i)}function $_(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function I_(n,e,t=!1){let{routesMeta:i}=n,o={},c="/",d=[];for(let h=0;h<i.length;++h){let g=i[h],m=h===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=Qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:m},x),b=g.route;if(!y&&m&&t&&!i[i.length-1].route.index&&(y=Qc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:Ir([c,y.pathname]),pathnameBase:F_(Ir([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Ir([c,y.pathnameBase]))}return d}function Qc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=B_(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:x,isOptional:y},b)=>{if(x==="*"){let _=h[b]||"";d=c.slice(0,c.length-_.length).replace(/(.)\/+$/,"$1")}const w=h[b];return y&&!w?m[x]=void 0:m[x]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:n}}function B_(n,e=!1,t=!0){Ws(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,g)=>(i.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function H_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ws(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Hr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function z_(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?vi(n):n;return{pathname:t?t.startsWith("/")?t:q_(t,e):e,search:G_(i),hash:Y_(o)}}function q_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Kh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function hm(n){let e=V_(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function fm(n,e,t,i=!1){let o;typeof n=="string"?o=vi(n):(o={...n},ot(!o.pathname||!o.pathname.includes("?"),Kh("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Kh("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Kh("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,h;if(d==null)h=t;else{let y=e.length-1;if(!i&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}h=y>=0?e[y]:"/"}let g=z_(o,h),m=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(m||x)&&(g.pathname+="/"),g}var Ir=n=>n.join("/").replace(/\/\/+/g,"/"),F_=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),G_=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Y_=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function K_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Sv=["POST","PUT","PATCH","DELETE"];new Set(Sv);var W_=["GET",...Sv];new Set(W_);var bi=v.createContext(null);bi.displayName="DataRouter";var uu=v.createContext(null);uu.displayName="DataRouterState";var _v=v.createContext({isTransitioning:!1});_v.displayName="ViewTransition";var Q_=v.createContext(new Map);Q_.displayName="Fetchers";var X_=v.createContext(null);X_.displayName="Await";var er=v.createContext(null);er.displayName="Navigation";var Jl=v.createContext(null);Jl.displayName="Location";var tr=v.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var mm=v.createContext(null);mm.displayName="RouteError";function J_(n,{relative:e}={}){ot(wi(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=v.useContext(er),{hash:o,pathname:c,search:d}=Zl(n,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:Ir([t,c])),i.createHref({pathname:h,search:d,hash:o})}function wi(){return v.useContext(Jl)!=null}function sr(){return ot(wi(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Jl).location}var Ev="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Cv(n){v.useContext(er).static||v.useLayoutEffect(n)}function rr(){let{isDataRoute:n}=v.useContext(tr);return n?d1():Z_()}function Z_(){ot(wi(),"useNavigate() may be used only in the context of a <Router> component.");let n=v.useContext(bi),{basename:e,navigator:t}=v.useContext(er),{matches:i}=v.useContext(tr),{pathname:o}=sr(),c=JSON.stringify(hm(i)),d=v.useRef(!1);return Cv(()=>{d.current=!0}),v.useCallback((g,m={})=>{if(Ws(d.current,Ev),!d.current)return;if(typeof g=="number"){t.go(g);return}let x=fm(g,JSON.parse(c),o,m.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ir([e,x.pathname])),(m.replace?t.replace:t.push)(x,m.state,m)},[e,t,c,o,n])}v.createContext(null);function ji(){let{matches:n}=v.useContext(tr),e=n[n.length-1];return e?e.params:{}}function Zl(n,{relative:e}={}){let{matches:t}=v.useContext(tr),{pathname:i}=sr(),o=JSON.stringify(hm(t));return v.useMemo(()=>fm(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function e1(n,e){return Av(n,e)}function Av(n,e,t,i){var E;ot(wi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=v.useContext(er),{matches:c}=v.useContext(tr),d=c[c.length-1],h=d?d.params:{},g=d?d.pathname:"/",m=d?d.pathnameBase:"/",x=d&&d.route;{let C=x&&x.path||"";Tv(g,!x||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let y=sr(),b;if(e){let C=typeof e=="string"?vi(e):e;ot(m==="/"||((E=C.pathname)==null?void 0:E.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${C.pathname}" was given in the \`location\` prop.`),b=C}else b=y;let w=b.pathname||"/",_=w;if(m!=="/"){let C=m.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=wv(n,{pathname:_});Ws(x||j!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ws(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=n1(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},h,C.params),pathname:Ir([m,o.encodeLocation?o.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?m:Ir([m,o.encodeLocation?o.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),c,t,i);return e&&N?v.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function t1(){let n=u1(),e=K_(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:c},"ErrorBoundary")," or"," ",v.createElement("code",{style:c},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),t?v.createElement("pre",{style:o},t):null,d)}var s1=v.createElement(t1,null),r1=class extends v.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?v.createElement(tr.Provider,{value:this.props.routeContext},v.createElement(mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a1({routeContext:n,match:e,children:t}){let i=v.useContext(bi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),v.createElement(tr.Provider,{value:n},t)}function n1(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let g=o.findIndex(m=>m.route.id&&(c==null?void 0:c[m.route.id])!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,h=-1;if(t)for(let g=0;g<o.length;g++){let m=o[g];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=g),m.route.id){let{loaderData:x,errors:y}=t,b=m.route.loader&&!x.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||b){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((g,m,x)=>{let y,b=!1,w=null,_=null;t&&(y=c&&m.route.id?c[m.route.id]:void 0,w=m.route.errorElement||s1,d&&(h<0&&x===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):h===x&&(b=!0,_=m.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,x+1)),N=()=>{let E;return y?E=w:b?E=_:m.route.Component?E=v.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=g,v.createElement(a1,{match:m,routeContext:{outlet:g,matches:j,isDataRoute:t!=null},children:E})};return t&&(m.route.ErrorBoundary||m.route.errorElement||x===0)?v.createElement(r1,{location:t.location,revalidation:t.revalidation,component:w,error:y,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function gm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i1(n){let e=v.useContext(bi);return ot(e,gm(n)),e}function l1(n){let e=v.useContext(uu);return ot(e,gm(n)),e}function o1(n){let e=v.useContext(tr);return ot(e,gm(n)),e}function pm(n){let e=o1(n),t=e.matches[e.matches.length-1];return ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function c1(){return pm("useRouteId")}function u1(){var i;let n=v.useContext(mm),e=l1("useRouteError"),t=pm("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function d1(){let{router:n}=i1("useNavigate"),e=pm("useNavigate"),t=v.useRef(!1);return Cv(()=>{t.current=!0}),v.useCallback(async(o,c={})=>{Ws(t.current,Ev),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Zy={};function Tv(n,e,t){!e&&!Zy[n]&&(Zy[n]=!0,Ws(!1,t))}v.memo(h1);function h1({routes:n,future:e,state:t}){return Av(n,void 0,t,e)}function Wh({to:n,replace:e,state:t,relative:i}){ot(wi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=v.useContext(er);Ws(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=v.useContext(tr),{pathname:d}=sr(),h=rr(),g=fm(n,hm(c),d,i==="path"),m=JSON.stringify(g);return v.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function Kt(n){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function f1({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){ot(!wi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=v.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=vi(t));let{pathname:g="/",search:m="",hash:x="",state:y=null,key:b="default"}=t,w=v.useMemo(()=>{let _=Hr(g,d);return _==null?null:{location:{pathname:_,search:m,hash:x,state:y,key:b},navigationType:i}},[d,g,m,x,y,b,i]);return Ws(w!=null,`<Router basename="${d}"> is not able to match the URL "${g}${m}${x}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:v.createElement(er.Provider,{value:h},v.createElement(Jl.Provider,{children:e,value:w}))}function m1({children:n,location:e}){return e1(Af(n),e)}function Af(n,e=[]){let t=[];return v.Children.forEach(n,(i,o)=>{if(!v.isValidElement(i))return;let c=[...e,o];if(i.type===v.Fragment){t.push.apply(t,Af(i.props.children,c));return}ot(i.type===Kt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Af(i.props.children,c)),t.push(d)}),t}var qc="get",Vc="application/x-www-form-urlencoded";function du(n){return n!=null&&typeof n.tagName=="string"}function g1(n){return du(n)&&n.tagName.toLowerCase()==="button"}function p1(n){return du(n)&&n.tagName.toLowerCase()==="form"}function x1(n){return du(n)&&n.tagName.toLowerCase()==="input"}function y1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function v1(n,e){return n.button===0&&(!e||e==="_self")&&!y1(n)}var bc=null;function b1(){if(bc===null)try{new FormData(document.createElement("form"),0),bc=!1}catch{bc=!0}return bc}var w1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qh(n){return n!=null&&!w1.has(n)?(Ws(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vc}"`),null):n}function j1(n,e){let t,i,o,c,d;if(p1(n)){let h=n.getAttribute("action");i=h?Hr(h,e):null,t=n.getAttribute("method")||qc,o=Qh(n.getAttribute("enctype"))||Vc,c=new FormData(n)}else if(g1(n)||x1(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=n.getAttribute("formaction")||h.getAttribute("action");if(i=g?Hr(g,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||qc,o=Qh(n.getAttribute("formenctype"))||Qh(h.getAttribute("enctype"))||Vc,c=new FormData(h,n),!b1()){let{name:m,type:x,value:y}=n;if(x==="image"){let b=m?`${m}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else m&&c.append(m,y)}}else{if(du(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qc,i=null,o=Vc,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:d}}function xm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function N1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _1(n,e,t){let i=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await N1(c,t);return d.links?d.links():[]}return[]}));return T1(i.flat(1).filter(S1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function e0(n,e,t,i,o,c){let d=(g,m)=>t[m]?g.route.id!==t[m].route.id:!0,h=(g,m)=>{var x;return t[m].pathname!==g.pathname||((x=t[m].route.path)==null?void 0:x.endsWith("*"))&&t[m].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,m)=>d(g,m)||h(g,m)):c==="data"?e.filter((g,m)=>{var y;let x=i.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(d(g,m)||h(g,m))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function E1(n,e,{includeHydrateFallback:t}={}){return C1(n.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function C1(n){return[...new Set(n)]}function A1(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function T1(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let c=JSON.stringify(A1(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k1=new Set([100,101,204,205]);function R1(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Hr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function kv(){let n=v.useContext(bi);return xm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function O1(){let n=v.useContext(uu);return xm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ym=v.createContext(void 0);ym.displayName="FrameworkContext";function Rv(){let n=v.useContext(ym);return xm(n,"You must render this element inside a <HydratedRouter> element"),n}function D1(n,e){let t=v.useContext(ym),[i,o]=v.useState(!1),[c,d]=v.useState(!1),{onFocus:h,onBlur:g,onMouseEnter:m,onMouseLeave:x,onTouchStart:y}=e,b=v.useRef(null);v.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let j=E=>{E.forEach(C=>{d(C.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),v.useEffect(()=>{if(i){let j=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(j)}}},[i]);let w=()=>{o(!0)},_=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,b,{}]:[c,b,{onFocus:Dl(h,w),onBlur:Dl(g,_),onMouseEnter:Dl(m,w),onMouseLeave:Dl(x,_),onTouchStart:Dl(y,w)}]:[!1,b,{}]}function Dl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function M1({page:n,...e}){let{router:t}=kv(),i=v.useMemo(()=>wv(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?v.createElement(P1,{page:n,matches:i,...e}):null}function L1(n){let{manifest:e,routeModules:t}=Rv(),[i,o]=v.useState([]);return v.useEffect(()=>{let c=!1;return _1(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),i}function P1({page:n,matches:e,...t}){let i=sr(),{manifest:o,routeModules:c}=Rv(),{basename:d}=kv(),{loaderData:h,matches:g}=O1(),m=v.useMemo(()=>e0(n,e,g,o,i,"data"),[n,e,g,o,i]),x=v.useMemo(()=>e0(n,e,g,o,i,"assets"),[n,e,g,o,i]),y=v.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let _=new Set,j=!1;if(e.forEach(E=>{var T;let C=o.routes[E.route.id];!C||!C.hasLoader||(!m.some(O=>O.route.id===E.route.id)&&E.route.id in h&&((T=c[E.route.id])!=null&&T.shouldRevalidate)||C.hasClientLoader?j=!0:_.add(E.route.id))}),_.size===0)return[];let N=R1(n,d);return j&&_.size>0&&N.searchParams.set("_routes",e.filter(E=>_.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[d,h,i,o,m,e,n,c]),b=v.useMemo(()=>E1(x,o),[x,o]),w=L1(x);return v.createElement(v.Fragment,null,y.map(_=>v.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),b.map(_=>v.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),w.map(({key:_,link:j})=>v.createElement("link",{key:_,...j})))}function U1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ov=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ov&&(window.__reactRouterVersion="7.6.1")}catch{}function $1({basename:n,children:e,window:t}){let i=v.useRef();i.current==null&&(i.current=__({window:t,v5Compat:!0}));let o=i.current,[c,d]=v.useState({action:o.action,location:o.location}),h=v.useCallback(g=>{v.startTransition(()=>d(g))},[d]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.createElement(f1,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var Dv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=v.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:d,state:h,target:g,to:m,preventScrollReset:x,viewTransition:y,...b},w){let{basename:_}=v.useContext(er),j=typeof m=="string"&&Dv.test(m),N,E=!1;if(typeof m=="string"&&j&&(N=m,Ov))try{let Y=new URL(window.location.href),D=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),I=Hr(D.pathname,_);D.origin===Y.origin&&I!=null?m=I+D.search+D.hash:E=!0}catch{Ws(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=J_(m,{relative:o}),[T,O,U]=D1(i,b),G=z1(m,{replace:d,state:h,target:g,preventScrollReset:x,relative:o,viewTransition:y});function L(Y){e&&e(Y),Y.defaultPrevented||G(Y)}let P=v.createElement("a",{...b,...U,href:N||C,onClick:E||c?e:L,ref:U1(w,O),target:g,"data-discover":!j&&t==="render"?"true":void 0});return T&&!j?v.createElement(v.Fragment,null,P,v.createElement(M1,{page:C})):P});gt.displayName="Link";var I1=v.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:d,viewTransition:h,children:g,...m},x){let y=Zl(d,{relative:m.relative}),b=sr(),w=v.useContext(uu),{navigator:_,basename:j}=v.useContext(er),N=w!=null&&Y1(y)&&h===!0,E=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,C=b.pathname,T=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(C=C.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&j&&(T=Hr(T,j)||T);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let U=C===E||!o&&C.startsWith(E)&&C.charAt(O)==="/",G=T!=null&&(T===E||!o&&T.startsWith(E)&&T.charAt(E.length)==="/"),L={isActive:U,isPending:G,isTransitioning:N},P=U?e:void 0,Y;typeof i=="function"?Y=i(L):Y=[i,U?"active":null,G?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(L):c;return v.createElement(gt,{...m,"aria-current":P,className:Y,ref:x,style:D,to:d,viewTransition:h},typeof g=="function"?g(L):g)});I1.displayName="NavLink";var B1=v.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:d=qc,action:h,onSubmit:g,relative:m,preventScrollReset:x,viewTransition:y,...b},w)=>{let _=F1(),j=G1(h,{relative:m}),N=d.toLowerCase()==="get"?"get":"post",E=typeof h=="string"&&Dv.test(h),C=T=>{if(g&&g(T),T.defaultPrevented)return;T.preventDefault();let O=T.nativeEvent.submitter,U=(O==null?void 0:O.getAttribute("formmethod"))||d;_(O||T.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:c,relative:m,preventScrollReset:x,viewTransition:y})};return v.createElement("form",{ref:w,method:N,action:j,onSubmit:i?g:C,...b,"data-discover":!E&&n==="render"?"true":void 0})});B1.displayName="Form";function H1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mv(n){let e=v.useContext(bi);return ot(e,H1(n)),e}function z1(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:d}={}){let h=rr(),g=sr(),m=Zl(n,{relative:c});return v.useCallback(x=>{if(v1(x,e)){x.preventDefault();let y=t!==void 0?t:Vl(g)===Vl(m);h(n,{replace:y,state:i,preventScrollReset:o,relative:c,viewTransition:d})}},[g,h,m,t,i,e,n,o,c,d])}var q1=0,V1=()=>`__${String(++q1)}__`;function F1(){let{router:n}=Mv("useSubmit"),{basename:e}=v.useContext(er),t=c1();return v.useCallback(async(i,o={})=>{let{action:c,method:d,encType:h,formData:g,body:m}=j1(i,e);if(o.navigate===!1){let x=o.fetcherKey||V1();await n.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:m,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function G1(n,{relative:e}={}){let{basename:t}=v.useContext(er),i=v.useContext(tr);ot(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...Zl(n||".",{relative:e})},d=sr();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),g=h.getAll("index");if(g.some(x=>x==="")){h.delete("index"),g.filter(y=>y).forEach(y=>h.append("index",y));let x=h.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ir([t,c.pathname])),Vl(c)}function Y1(n,e={}){let t=v.useContext(_v);ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Mv("useViewTransitionState"),o=Zl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let c=Hr(t.currentLocation.pathname,i)||t.currentLocation.pathname,d=Hr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Qc(o.pathname,d)!=null||Qc(o.pathname,c)!=null}[...k1];var eo=bv();const K1=yi(eo);function t0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function W1(...n){return e=>{let t=!1;const i=n.map(o=>{const c=t0(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():t0(n[o],null)}}}}function nt(...n){return v.useCallback(W1(...n),n)}function Fl(n){const e=Q1(n),t=v.forwardRef((i,o)=>{const{children:c,...d}=i,h=v.Children.toArray(c),g=h.find(J1);if(g){const m=g.props.children,x=h.map(y=>y===g?v.Children.count(m)>1?v.Children.only(null):v.isValidElement(m)?m.props.children:null:y);return r.jsx(e,{...d,ref:o,children:v.isValidElement(m)?v.cloneElement(m,void 0,x):null})}return r.jsx(e,{...d,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var Lv=Fl("Slot");function Q1(n){const e=v.forwardRef((t,i)=>{const{children:o,...c}=t,d=v.isValidElement(o)?e2(o):void 0,h=nt(d,i);if(v.isValidElement(o)){const g=Z1(c,o.props);return o.type!==v.Fragment&&(g.ref=h),v.cloneElement(o,g)}return v.Children.count(o)>1?v.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var X1=Symbol("radix.slottable");function J1(n){return v.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===X1}function Z1(n,e){const t={...e};for(const i in e){const o=n[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?t[i]=(...h)=>{const g=c(...h);return o(...h),g}:o&&(t[i]=o):i==="style"?t[i]={...o,...c}:i==="className"&&(t[i]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function e2(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Pv(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Pv(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function Uv(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Pv(n))&&(i&&(i+=" "),i+=e);return i}const s0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,r0=Uv,vm=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return r0(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,d=Object.keys(o).map(m=>{const x=t==null?void 0:t[m],y=c==null?void 0:c[m];if(x===null)return null;const b=s0(x)||s0(y);return o[m][b]}),h=t&&Object.entries(t).reduce((m,x)=>{let[y,b]=x;return b===void 0||(m[y]=b),m},{}),g=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,x)=>{let{class:y,className:b,...w}=x;return Object.entries(w).every(_=>{let[j,N]=_;return Array.isArray(N)?N.includes({...c,...h}[j]):{...c,...h}[j]===N})?[...m,y,b]:m},[]);return r0(n,d,g,t==null?void 0:t.class,t==null?void 0:t.className)},bm="-",t2=n=>{const e=r2(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:d=>{const h=d.split(bm);return h[0]===""&&h.length!==1&&h.shift(),$v(h,e)||s2(d)},getConflictingClassGroupIds:(d,h)=>{const g=t[d]||[];return h&&i[d]?[...g,...i[d]]:g}}},$v=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?$v(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(bm);return(d=e.validators.find(({validator:h})=>h(c)))==null?void 0:d.classGroupId},a0=/^\[(.+)\]$/,s2=n=>{if(a0.test(n)){const e=a0.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},r2=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const o in t)Tf(t[o],i,o,e);return i},Tf=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:n0(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(a2(o)){Tf(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,d])=>{Tf(d,n0(e,c),t,i)})})},n0=(n,e)=>{let t=n;return e.split(bm).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},a2=n=>n.isThemeGetter,n2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(c,d)=>{t.set(c,d),e++,e>n&&(e=0,i=t,t=new Map)};return{get(c){let d=t.get(c);if(d!==void 0)return d;if((d=i.get(c))!==void 0)return o(c,d),d},set(c,d){t.has(c)?t.set(c,d):o(c,d)}}},kf="!",Rf=":",i2=Rf.length,l2=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=o=>{const c=[];let d=0,h=0,g=0,m;for(let _=0;_<o.length;_++){let j=o[_];if(d===0&&h===0){if(j===Rf){c.push(o.slice(g,_)),g=_+i2;continue}if(j==="/"){m=_;continue}}j==="["?d++:j==="]"?d--:j==="("?h++:j===")"&&h--}const x=c.length===0?o:o.substring(g),y=o2(x),b=y!==x,w=m&&m>g?m-g:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:w}};if(e){const o=e+Rf,c=i;i=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const o=i;i=c=>t({className:c,parseClassName:o})}return i},o2=n=>n.endsWith(kf)?n.substring(0,n.length-1):n.startsWith(kf)?n.substring(1):n,c2=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const o=[];let c=[];return i.forEach(d=>{d[0]==="["||e[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},u2=n=>({cache:n2(n.cacheSize),parseClassName:l2(n),sortModifiers:c2(n),...t2(n)}),d2=/\s+/,h2=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:c}=e,d=[],h=n.trim().split(d2);let g="";for(let m=h.length-1;m>=0;m-=1){const x=h[m],{isExternal:y,modifiers:b,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:j}=t(x);if(y){g=x+(g.length>0?" "+g:g);continue}let N=!!j,E=i(N?_.substring(0,j):_);if(!E){if(!N){g=x+(g.length>0?" "+g:g);continue}if(E=i(_),!E){g=x+(g.length>0?" "+g:g);continue}N=!1}const C=c(b).join(":"),T=w?C+kf:C,O=T+E;if(d.includes(O))continue;d.push(O);const U=o(E,N);for(let G=0;G<U.length;++G){const L=U[G];d.push(T+L)}g=x+(g.length>0?" "+g:g)}return g};function f2(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Iv(e))&&(i&&(i+=" "),i+=t);return i}const Iv=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=Iv(n[i]))&&(t&&(t+=" "),t+=e);return t};function m2(n,...e){let t,i,o,c=d;function d(g){const m=e.reduce((x,y)=>y(x),n());return t=u2(m),i=t.cache.get,o=t.cache.set,c=h,h(g)}function h(g){const m=i(g);if(m)return m;const x=h2(g,t);return o(g,x),x}return function(){return c(f2.apply(null,arguments))}}const St=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Bv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Hv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g2=/^\d+\/\d+$/,p2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,v2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wn=n=>g2.test(n),$e=n=>!!n&&!Number.isNaN(Number(n)),fa=n=>!!n&&Number.isInteger(Number(n)),Xh=n=>n.endsWith("%")&&$e(n.slice(0,-1)),Ur=n=>p2.test(n),w2=()=>!0,j2=n=>x2.test(n)&&!y2.test(n),zv=()=>!1,N2=n=>v2.test(n),S2=n=>b2.test(n),_2=n=>!be(n)&&!we(n),E2=n=>Ni(n,Fv,zv),be=n=>Bv.test(n),Ka=n=>Ni(n,Gv,j2),Jh=n=>Ni(n,R2,$e),i0=n=>Ni(n,qv,zv),C2=n=>Ni(n,Vv,S2),wc=n=>Ni(n,Yv,N2),we=n=>Hv.test(n),Ml=n=>Si(n,Gv),A2=n=>Si(n,O2),l0=n=>Si(n,qv),T2=n=>Si(n,Fv),k2=n=>Si(n,Vv),jc=n=>Si(n,Yv,!0),Ni=(n,e,t)=>{const i=Bv.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},Si=(n,e,t=!1)=>{const i=Hv.exec(n);return i?i[1]?e(i[1]):t:!1},qv=n=>n==="position"||n==="percentage",Vv=n=>n==="image"||n==="url",Fv=n=>n==="length"||n==="size"||n==="bg-size",Gv=n=>n==="length",R2=n=>n==="number",O2=n=>n==="family-name",Yv=n=>n==="shadow",D2=()=>{const n=St("color"),e=St("font"),t=St("text"),i=St("font-weight"),o=St("tracking"),c=St("leading"),d=St("breakpoint"),h=St("container"),g=St("spacing"),m=St("radius"),x=St("shadow"),y=St("inset-shadow"),b=St("text-shadow"),w=St("drop-shadow"),_=St("blur"),j=St("perspective"),N=St("aspect"),E=St("ease"),C=St("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],U=()=>[...O(),we,be],G=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],P=()=>[we,be,g],Y=()=>[Wn,"full","auto",...P()],D=()=>[fa,"none","subgrid",we,be],I=()=>["auto",{span:["full",fa,we,be]},fa,we,be],Q=()=>[fa,"auto",we,be],oe=()=>["auto","min","max","fr",we,be],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],de=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...P()],V=()=>[Wn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],z=()=>[n,we,be],q=()=>[...O(),l0,i0,{position:[we,be]}],R=()=>["no-repeat",{repeat:["","x","y","space","round"]}],X=()=>["auto","cover","contain",T2,E2,{size:[we,be]}],H=()=>[Xh,Ml,Ka],Z=()=>["","none","full",m,we,be],ce=()=>["",$e,Ml,Ka],pe=()=>["solid","dashed","dotted","double"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[$e,Xh,l0,i0],me=()=>["","none",_,we,be],Re=()=>["none",$e,we,be],ke=()=>["none",$e,we,be],Me=()=>[$e,we,be],Pe=()=>[Wn,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ur],breakpoint:[Ur],color:[w2],container:[Ur],"drop-shadow":[Ur],ease:["in","out","in-out"],font:[_2],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ur],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ur],shadow:[Ur],spacing:["px",$e],text:[Ur],"text-shadow":[Ur],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wn,be,we,N]}],container:["container"],columns:[{columns:[$e,be,we,h]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:U()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[fa,"auto",we,be]}],basis:[{basis:[Wn,"full","auto",h,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[$e,Wn,"auto","initial","none",be]}],grow:[{grow:["",$e,we,be]}],shrink:[{shrink:["",$e,we,be]}],order:[{order:[fa,"first","last","none",we,be]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:I()}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:I()}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":oe()}],"auto-rows":[{"auto-rows":oe()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...de(),"normal"]}],"justify-self":[{"justify-self":["auto",...de()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...de(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...de(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...de(),"baseline"]}],"place-self":[{"place-self":["auto",...de()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[h,"screen",...V()]}],"min-w":[{"min-w":[h,"screen","none",...V()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",t,Ml,Ka]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,we,Jh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Xh,be]}],"font-family":[{font:[A2,be,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,we,be]}],"line-clamp":[{"line-clamp":[$e,"none",we,Jh]}],leading:[{leading:[c,...P()]}],"list-image":[{"list-image":["none",we,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",we,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[$e,"from-font","auto",we,Ka]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[$e,"auto",we,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:R()}],"bg-size":[{bg:X()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},fa,we,be],radial:["",we,be],conic:[fa,we,be]},k2,C2]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ce()}],"border-w-x":[{"border-x":ce()}],"border-w-y":[{"border-y":ce()}],"border-w-s":[{"border-s":ce()}],"border-w-e":[{"border-e":ce()}],"border-w-t":[{"border-t":ce()}],"border-w-r":[{"border-r":ce()}],"border-w-b":[{"border-b":ce()}],"border-w-l":[{"border-l":ce()}],"divide-x":[{"divide-x":ce()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ce()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[$e,we,be]}],"outline-w":[{outline:["",$e,Ml,Ka]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",x,jc,wc]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",y,jc,wc]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:ce()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[$e,Ka]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":ce()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",b,jc,wc]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[$e,we,be]}],"mix-blend":[{"mix-blend":[...B(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":B()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[$e]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[we,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[$e]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:R()}],"mask-size":[{mask:X()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",we,be]}],filter:[{filter:["","none",we,be]}],blur:[{blur:me()}],brightness:[{brightness:[$e,we,be]}],contrast:[{contrast:[$e,we,be]}],"drop-shadow":[{"drop-shadow":["","none",w,jc,wc]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",$e,we,be]}],"hue-rotate":[{"hue-rotate":[$e,we,be]}],invert:[{invert:["",$e,we,be]}],saturate:[{saturate:[$e,we,be]}],sepia:[{sepia:["",$e,we,be]}],"backdrop-filter":[{"backdrop-filter":["","none",we,be]}],"backdrop-blur":[{"backdrop-blur":me()}],"backdrop-brightness":[{"backdrop-brightness":[$e,we,be]}],"backdrop-contrast":[{"backdrop-contrast":[$e,we,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",$e,we,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[$e,we,be]}],"backdrop-invert":[{"backdrop-invert":["",$e,we,be]}],"backdrop-opacity":[{"backdrop-opacity":[$e,we,be]}],"backdrop-saturate":[{"backdrop-saturate":[$e,we,be]}],"backdrop-sepia":[{"backdrop-sepia":["",$e,we,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",we,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[$e,"initial",we,be]}],ease:[{ease:["linear","initial",E,we,be]}],delay:[{delay:[$e,we,be]}],animate:[{animate:["none",C,we,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,we,be]}],"perspective-origin":[{"perspective-origin":U()}],rotate:[{rotate:Re()}],"rotate-x":[{"rotate-x":Re()}],"rotate-y":[{"rotate-y":Re()}],"rotate-z":[{"rotate-z":Re()}],scale:[{scale:ke()}],"scale-x":[{"scale-x":ke()}],"scale-y":[{"scale-y":ke()}],"scale-z":[{"scale-z":ke()}],"scale-3d":["scale-3d"],skew:[{skew:Me()}],"skew-x":[{"skew-x":Me()}],"skew-y":[{"skew-y":Me()}],transform:[{transform:[we,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:U()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Pe()}],"translate-x":[{"translate-x":Pe()}],"translate-y":[{"translate-y":Pe()}],"translate-z":[{"translate-z":Pe()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we,be]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[$e,Ml,Ka,Jh]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},M2=m2(D2);function ct(...n){return M2(Uv(n))}const L2=vm("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function te({className:n,variant:e,size:t,asChild:i=!1,...o}){const c=i?Lv:"button";return r.jsx(c,{"data-slot":"button",className:ct(L2({variant:e,size:t,className:n})),...o})}function he({className:n,...e}){return r.jsx("div",{"data-slot":"card",className:ct("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...e})}function Oe({className:n,...e}){return r.jsx("div",{"data-slot":"card-header",className:ct("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n),...e})}function De({className:n,...e}){return r.jsx("div",{"data-slot":"card-title",className:ct("leading-none font-semibold",n),...e})}function us({className:n,...e}){return r.jsx("div",{"data-slot":"card-description",className:ct("text-muted-foreground text-sm",n),...e})}function fe({className:n,...e}){return r.jsx("div",{"data-slot":"card-content",className:ct("px-6",n),...e})}function Ne({className:n,type:e,...t}){return r.jsx("input",{type:e,"data-slot":"input",className:ct("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n),...t})}const P2=vm("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function ze({className:n,variant:e,asChild:t=!1,...i}){const o=t?Lv:"span";return r.jsx(o,{"data-slot":"badge",className:ct(P2({variant:e}),n),...i})}/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$2=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),o0=n=>{const e=$2(n);return e.charAt(0).toUpperCase()+e.slice(1)},Kv=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),I2=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var B2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=v.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:d,...h},g)=>v.createElement("svg",{ref:g,...B2,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:Kv("lucide",o),...!c&&!I2(h)&&{"aria-hidden":"true"},...h},[...d.map(([m,x])=>v.createElement(m,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=(n,e)=>{const t=v.forwardRef(({className:i,...o},c)=>v.createElement(H2,{ref:c,iconNode:e,className:Kv(`lucide-${U2(o0(n))}`,`lucide-${n}`,i),...o}));return t.displayName=o0(n),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],li=ye("activity",z2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gr=ye("arrow-left",q2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],F2=ye("award",V2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],hu=ye("bath",G2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],fu=ye("bed",Y2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],W2=ye("bell",K2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],X2=ye("book-open",Q2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Z2=ye("briefcase",J2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],tE=ye("building",eE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qs=ye("calendar",sE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Wv=ye("camera",rE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nE=ye("check",aE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wm=ye("chevron-down",iE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Qv=ye("chevron-up",lE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],va=ye("circle-alert",oE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],at=ye("circle-check-big",cE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xc=ye("circle-x",uE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mu=ye("clock",dE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xv=ye("copy",hE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],_i=ye("dollar-sign",fE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],rn=ye("download",mE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Jv=ye("external-link",gE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xE=ye("eye-off",pE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gu=ye("eye",yE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Zv=ye("facebook",vE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fr=ye("file-text",bE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],jm=ye("funnel",wE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],eb=ye("heart",jE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ht=ye("house",NE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Of=ye("image",SE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],EE=ye("link",_E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],tb=ye("linkedin",CE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],TE=ye("loader-circle",AE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c0=ye("lock",kE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Nm=ye("log-out",RE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],it=ye("mail",OE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ar=ye("map-pin",DE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],LE=ye("maximize",ME);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],UE=ye("menu",PE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Df=ye("message-circle",$E);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Pt=ye("message-square",IE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fc=ye("phone-call",BE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],rs=ye("phone",HE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xs=ye("plus",zE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],u0=ye("refresh-cw",qE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],on=ye("save",VE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pr=ye("search",FE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fi=ye("send",GE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],KE=ye("settings",YE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Ss=ye("share-2",WE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],sb=ye("sparkles",QE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Na=ye("square-pen",XE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],rb=ye("square",JE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],eC=ye("star",ZE);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],pu=ye("trash-2",tC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Jc=ye("trending-up",sC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ab=ye("triangle-alert",rC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],nb=ye("twitter",aC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Zc=ye("upload",nC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],d0=ye("user-check",iC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oC=ye("user-cog",lC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],en=ye("user-plus",cC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xt=ye("user",uC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sm=ye("users",dC);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Lt=ye("x",hC);function eu(n,[e,t]){return Math.min(t,Math.max(e,n))}function Ve(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function Ei(n,e=[]){let t=[];function i(c,d){const h=v.createContext(d),g=t.length;t=[...t,d];const m=y=>{var E;const{scope:b,children:w,..._}=y,j=((E=b==null?void 0:b[n])==null?void 0:E[g])||h,N=v.useMemo(()=>_,Object.values(_));return r.jsx(j.Provider,{value:N,children:w})};m.displayName=c+"Provider";function x(y,b){var j;const w=((j=b==null?void 0:b[n])==null?void 0:j[g])||h,_=v.useContext(w);if(_)return _;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[m,x]}const o=()=>{const c=t.map(d=>v.createContext(d));return function(h){const g=(h==null?void 0:h[n])||c;return v.useMemo(()=>({[`__scope${n}`]:{...h,[n]:g}}),[h,g])}};return o.scopeName=n,[i,fC(o,...e)]}function fC(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=i.reduce((h,{useScope:g,scopeName:m})=>{const y=g(c)[`__scope${m}`];return{...h,...y}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return t.scopeName=e.scopeName,t}function _m(n){const e=n+"CollectionProvider",[t,i]=Ei(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),d=j=>{const{scope:N,children:E}=j,C=Qt.useRef(null),T=Qt.useRef(new Map).current;return r.jsx(o,{scope:N,itemMap:T,collectionRef:C,children:E})};d.displayName=e;const h=n+"CollectionSlot",g=Fl(h),m=Qt.forwardRef((j,N)=>{const{scope:E,children:C}=j,T=c(h,E),O=nt(N,T.collectionRef);return r.jsx(g,{ref:O,children:C})});m.displayName=h;const x=n+"CollectionItemSlot",y="data-radix-collection-item",b=Fl(x),w=Qt.forwardRef((j,N)=>{const{scope:E,children:C,...T}=j,O=Qt.useRef(null),U=nt(N,O),G=c(x,E);return Qt.useEffect(()=>(G.itemMap.set(O,{ref:O,...T}),()=>void G.itemMap.delete(O))),r.jsx(b,{[y]:"",ref:U,children:C})});w.displayName=x;function _(j){const N=c(n+"CollectionConsumer",j);return Qt.useCallback(()=>{const C=N.collectionRef.current;if(!C)return[];const T=Array.from(C.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((G,L)=>T.indexOf(G.ref.current)-T.indexOf(L.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:m,ItemSlot:w},_,i]}var mC=v.createContext(void 0);function xu(n){const e=v.useContext(mC);return n||e||"ltr"}var gC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=gC.reduce((n,e)=>{const t=Fl(`Primitive.${e}`),i=v.forwardRef((o,c)=>{const{asChild:d,...h}=o,g=d?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(g,{...h,ref:c})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{});function pC(n,e){n&&eo.flushSync(()=>n.dispatchEvent(e))}function ba(n){const e=v.useRef(n);return v.useEffect(()=>{e.current=n}),v.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function xC(n,e=globalThis==null?void 0:globalThis.document){const t=ba(n);v.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var yC="DismissableLayer",Mf="dismissableLayer.update",vC="dismissableLayer.pointerDownOutside",bC="dismissableLayer.focusOutside",h0,ib=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lb=v.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...g}=n,m=v.useContext(ib),[x,y]=v.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=v.useState({}),_=nt(e,L=>y(L)),j=Array.from(m.layers),[N]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),E=j.indexOf(N),C=x?j.indexOf(x):-1,T=m.layersWithOutsidePointerEventsDisabled.size>0,O=C>=E,U=NC(L=>{const P=L.target,Y=[...m.branches].some(D=>D.contains(P));!O||Y||(o==null||o(L),d==null||d(L),L.defaultPrevented||h==null||h())},b),G=SC(L=>{const P=L.target;[...m.branches].some(D=>D.contains(P))||(c==null||c(L),d==null||d(L),L.defaultPrevented||h==null||h())},b);return xC(L=>{C===m.layers.size-1&&(i==null||i(L),!L.defaultPrevented&&h&&(L.preventDefault(),h()))},b),v.useEffect(()=>{if(x)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(h0=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),f0(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=h0)}},[x,b,t,m]),v.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),f0())},[x,m]),v.useEffect(()=>{const L=()=>w({});return document.addEventListener(Mf,L),()=>document.removeEventListener(Mf,L)},[]),r.jsx(Ye.div,{...g,ref:_,style:{pointerEvents:T?O?"auto":"none":void 0,...n.style},onFocusCapture:Ve(n.onFocusCapture,G.onFocusCapture),onBlurCapture:Ve(n.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Ve(n.onPointerDownCapture,U.onPointerDownCapture)})});lb.displayName=yC;var wC="DismissableLayerBranch",jC=v.forwardRef((n,e)=>{const t=v.useContext(ib),i=v.useRef(null),o=nt(e,i);return v.useEffect(()=>{const c=i.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),r.jsx(Ye.div,{...n,ref:o})});jC.displayName=wC;function NC(n,e=globalThis==null?void 0:globalThis.document){const t=ba(n),i=v.useRef(!1),o=v.useRef(()=>{});return v.useEffect(()=>{const c=h=>{if(h.target&&!i.current){let g=function(){ob(vC,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=g,e.addEventListener("click",o.current,{once:!0})):g()}else e.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function SC(n,e=globalThis==null?void 0:globalThis.document){const t=ba(n),i=v.useRef(!1);return v.useEffect(()=>{const o=c=>{c.target&&!i.current&&ob(bC,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function f0(){const n=new CustomEvent(Mf);document.dispatchEvent(n)}function ob(n,e,t,{discrete:i}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?pC(o,c):o.dispatchEvent(c)}var Zh=0;function _C(){v.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??m0()),document.body.insertAdjacentElement("beforeend",n[1]??m0()),Zh++,()=>{Zh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Zh--}},[])}function m0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var ef="focusScope.autoFocusOnMount",tf="focusScope.autoFocusOnUnmount",g0={bubbles:!1,cancelable:!0},EC="FocusScope",cb=v.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...d}=n,[h,g]=v.useState(null),m=ba(o),x=ba(c),y=v.useRef(null),b=nt(e,j=>g(j)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(i){let j=function(T){if(w.paused||!h)return;const O=T.target;h.contains(O)?y.current=O:pa(y.current,{select:!0})},N=function(T){if(w.paused||!h)return;const O=T.relatedTarget;O!==null&&(h.contains(O)||pa(y.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const U of T)U.removedNodes.length>0&&pa(h)};document.addEventListener("focusin",j),document.addEventListener("focusout",N);const C=new MutationObserver(E);return h&&C.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",N),C.disconnect()}}},[i,h,w.paused]),v.useEffect(()=>{if(h){x0.add(w);const j=document.activeElement;if(!h.contains(j)){const E=new CustomEvent(ef,g0);h.addEventListener(ef,m),h.dispatchEvent(E),E.defaultPrevented||(CC(OC(ub(h)),{select:!0}),document.activeElement===j&&pa(h))}return()=>{h.removeEventListener(ef,m),setTimeout(()=>{const E=new CustomEvent(tf,g0);h.addEventListener(tf,x),h.dispatchEvent(E),E.defaultPrevented||pa(j??document.body,{select:!0}),h.removeEventListener(tf,x),x0.remove(w)},0)}}},[h,m,x,w]);const _=v.useCallback(j=>{if(!t&&!i||w.paused)return;const N=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,E=document.activeElement;if(N&&E){const C=j.currentTarget,[T,O]=AC(C);T&&O?!j.shiftKey&&E===O?(j.preventDefault(),t&&pa(T,{select:!0})):j.shiftKey&&E===T&&(j.preventDefault(),t&&pa(O,{select:!0})):E===C&&j.preventDefault()}},[t,i,w.paused]);return r.jsx(Ye.div,{tabIndex:-1,...d,ref:b,onKeyDown:_})});cb.displayName=EC;function CC(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(pa(i,{select:e}),document.activeElement!==t)return}function AC(n){const e=ub(n),t=p0(e,n),i=p0(e.reverse(),n);return[t,i]}function ub(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function p0(n,e){for(const t of n)if(!TC(t,{upTo:e}))return t}function TC(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function kC(n){return n instanceof HTMLInputElement&&"select"in n}function pa(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&kC(n)&&e&&n.select()}}var x0=RC();function RC(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=y0(n,e),n.unshift(e)},remove(e){var t;n=y0(n,e),(t=n[0])==null||t.resume()}}}function y0(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function OC(n){return n.filter(e=>e.tagName!=="A")}var Zt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},DC=vv[" useId ".trim().toString()]||(()=>{}),MC=0;function to(n){const[e,t]=v.useState(DC());return Zt(()=>{t(i=>i??String(MC++))},[n]),n||(e?`radix-${e}`:"")}const LC=["top","right","bottom","left"],wa=Math.min,ws=Math.max,tu=Math.round,Nc=Math.floor,mr=n=>({x:n,y:n}),PC={left:"right",right:"left",bottom:"top",top:"bottom"},UC={start:"end",end:"start"};function Lf(n,e,t){return ws(n,wa(e,t))}function zr(n,e){return typeof n=="function"?n(e):n}function qr(n){return n.split("-")[0]}function Ci(n){return n.split("-")[1]}function Em(n){return n==="x"?"y":"x"}function Cm(n){return n==="y"?"height":"width"}function Br(n){return["top","bottom"].includes(qr(n))?"y":"x"}function Am(n){return Em(Br(n))}function $C(n,e,t){t===void 0&&(t=!1);const i=Ci(n),o=Am(n),c=Cm(o);let d=o==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(d=su(d)),[d,su(d)]}function IC(n){const e=su(n);return[Pf(n),e,Pf(e)]}function Pf(n){return n.replace(/start|end/g,e=>UC[e])}function BC(n,e,t){const i=["left","right"],o=["right","left"],c=["top","bottom"],d=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:i:e?i:o;case"left":case"right":return e?c:d;default:return[]}}function HC(n,e,t,i){const o=Ci(n);let c=BC(qr(n),t==="start",i);return o&&(c=c.map(d=>d+"-"+o),e&&(c=c.concat(c.map(Pf)))),c}function su(n){return n.replace(/left|right|bottom|top/g,e=>PC[e])}function zC(n){return{top:0,right:0,bottom:0,left:0,...n}}function db(n){return typeof n!="number"?zC(n):{top:n,right:n,bottom:n,left:n}}function ru(n){const{x:e,y:t,width:i,height:o}=n;return{width:i,height:o,top:t,left:e,right:e+i,bottom:t+o,x:e,y:t}}function v0(n,e,t){let{reference:i,floating:o}=n;const c=Br(e),d=Am(e),h=Cm(d),g=qr(e),m=c==="y",x=i.x+i.width/2-o.width/2,y=i.y+i.height/2-o.height/2,b=i[h]/2-o[h]/2;let w;switch(g){case"top":w={x,y:i.y-o.height};break;case"bottom":w={x,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y};break;case"left":w={x:i.x-o.width,y};break;default:w={x:i.x,y:i.y}}switch(Ci(e)){case"start":w[d]-=b*(t&&m?-1:1);break;case"end":w[d]+=b*(t&&m?-1:1);break}return w}const qC=async(n,e,t)=>{const{placement:i="bottom",strategy:o="absolute",middleware:c=[],platform:d}=t,h=c.filter(Boolean),g=await(d.isRTL==null?void 0:d.isRTL(e));let m=await d.getElementRects({reference:n,floating:e,strategy:o}),{x,y}=v0(m,i,g),b=i,w={},_=0;for(let j=0;j<h.length;j++){const{name:N,fn:E}=h[j],{x:C,y:T,data:O,reset:U}=await E({x,y,initialPlacement:i,placement:b,strategy:o,middlewareData:w,rects:m,platform:d,elements:{reference:n,floating:e}});x=C??x,y=T??y,w={...w,[N]:{...w[N],...O}},U&&_<=50&&(_++,typeof U=="object"&&(U.placement&&(b=U.placement),U.rects&&(m=U.rects===!0?await d.getElementRects({reference:n,floating:e,strategy:o}):U.rects),{x,y}=v0(m,b,g)),j=-1)}return{x,y,placement:b,strategy:o,middlewareData:w}};async function Gl(n,e){var t;e===void 0&&(e={});const{x:i,y:o,platform:c,rects:d,elements:h,strategy:g}=n,{boundary:m="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:b=!1,padding:w=0}=zr(e,n),_=db(w),N=h[b?y==="floating"?"reference":"floating":y],E=ru(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(N)))==null||t?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:m,rootBoundary:x,strategy:g})),C=y==="floating"?{x:i,y:o,width:d.floating.width,height:d.floating.height}:d.reference,T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),O=await(c.isElement==null?void 0:c.isElement(T))?await(c.getScale==null?void 0:c.getScale(T))||{x:1,y:1}:{x:1,y:1},U=ru(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:C,offsetParent:T,strategy:g}):C);return{top:(E.top-U.top+_.top)/O.y,bottom:(U.bottom-E.bottom+_.bottom)/O.y,left:(E.left-U.left+_.left)/O.x,right:(U.right-E.right+_.right)/O.x}}const VC=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:i,placement:o,rects:c,platform:d,elements:h,middlewareData:g}=e,{element:m,padding:x=0}=zr(n,e)||{};if(m==null)return{};const y=db(x),b={x:t,y:i},w=Am(o),_=Cm(w),j=await d.getDimensions(m),N=w==="y",E=N?"top":"left",C=N?"bottom":"right",T=N?"clientHeight":"clientWidth",O=c.reference[_]+c.reference[w]-b[w]-c.floating[_],U=b[w]-c.reference[w],G=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m));let L=G?G[T]:0;(!L||!await(d.isElement==null?void 0:d.isElement(G)))&&(L=h.floating[T]||c.floating[_]);const P=O/2-U/2,Y=L/2-j[_]/2-1,D=wa(y[E],Y),I=wa(y[C],Y),Q=D,oe=L-j[_]-I,le=L/2-j[_]/2+P,de=Lf(Q,le,oe),k=!g.arrow&&Ci(o)!=null&&le!==de&&c.reference[_]/2-(le<Q?D:I)-j[_]/2<0,V=k?le<Q?le-Q:le-oe:0;return{[w]:b[w]+V,data:{[w]:de,centerOffset:le-de-V,...k&&{alignmentOffset:V}},reset:k}}}),FC=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,i;const{placement:o,middlewareData:c,rects:d,initialPlacement:h,platform:g,elements:m}=e,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...N}=zr(n,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const E=qr(o),C=Br(h),T=qr(h)===h,O=await(g.isRTL==null?void 0:g.isRTL(m.floating)),U=b||(T||!j?[su(h)]:IC(h)),G=_!=="none";!b&&G&&U.push(...HC(h,j,_,O));const L=[h,...U],P=await Gl(e,N),Y=[];let D=((i=c.flip)==null?void 0:i.overflows)||[];if(x&&Y.push(P[E]),y){const de=$C(o,d,O);Y.push(P[de[0]],P[de[1]])}if(D=[...D,{placement:o,overflows:Y}],!Y.every(de=>de<=0)){var I,Q;const de=(((I=c.flip)==null?void 0:I.index)||0)+1,k=L[de];if(k){var oe;const z=y==="alignment"?C!==Br(k):!1,q=((oe=D[0])==null?void 0:oe.overflows[0])>0;if(!z||q)return{data:{index:de,overflows:D},reset:{placement:k}}}let V=(Q=D.filter(z=>z.overflows[0]<=0).sort((z,q)=>z.overflows[1]-q.overflows[1])[0])==null?void 0:Q.placement;if(!V)switch(w){case"bestFit":{var le;const z=(le=D.filter(q=>{if(G){const R=Br(q.placement);return R===C||R==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(R=>R>0).reduce((R,X)=>R+X,0)]).sort((q,R)=>q[1]-R[1])[0])==null?void 0:le[0];z&&(V=z);break}case"initialPlacement":V=h;break}if(o!==V)return{reset:{placement:V}}}return{}}}};function b0(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function w0(n){return LC.some(e=>n[e]>=0)}const GC=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:i="referenceHidden",...o}=zr(n,e);switch(i){case"referenceHidden":{const c=await Gl(e,{...o,elementContext:"reference"}),d=b0(c,t.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:w0(d)}}}case"escaped":{const c=await Gl(e,{...o,altBoundary:!0}),d=b0(c,t.floating);return{data:{escapedOffsets:d,escaped:w0(d)}}}default:return{}}}}};async function YC(n,e){const{placement:t,platform:i,elements:o}=n,c=await(i.isRTL==null?void 0:i.isRTL(o.floating)),d=qr(t),h=Ci(t),g=Br(t)==="y",m=["left","top"].includes(d)?-1:1,x=c&&g?-1:1,y=zr(e,n);let{mainAxis:b,crossAxis:w,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof _=="number"&&(w=h==="end"?_*-1:_),g?{x:w*x,y:b*m}:{x:b*m,y:w*x}}const KC=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,i;const{x:o,y:c,placement:d,middlewareData:h}=e,g=await YC(e,n);return d===((t=h.offset)==null?void 0:t.placement)&&(i=h.arrow)!=null&&i.alignmentOffset?{}:{x:o+g.x,y:c+g.y,data:{...g,placement:d}}}}},WC=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:i,placement:o}=e,{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:N=>{let{x:E,y:C}=N;return{x:E,y:C}}},...g}=zr(n,e),m={x:t,y:i},x=await Gl(e,g),y=Br(qr(o)),b=Em(y);let w=m[b],_=m[y];if(c){const N=b==="y"?"top":"left",E=b==="y"?"bottom":"right",C=w+x[N],T=w-x[E];w=Lf(C,w,T)}if(d){const N=y==="y"?"top":"left",E=y==="y"?"bottom":"right",C=_+x[N],T=_-x[E];_=Lf(C,_,T)}const j=h.fn({...e,[b]:w,[y]:_});return{...j,data:{x:j.x-t,y:j.y-i,enabled:{[b]:c,[y]:d}}}}}},QC=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:i,placement:o,rects:c,middlewareData:d}=e,{offset:h=0,mainAxis:g=!0,crossAxis:m=!0}=zr(n,e),x={x:t,y:i},y=Br(o),b=Em(y);let w=x[b],_=x[y];const j=zr(h,e),N=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const T=b==="y"?"height":"width",O=c.reference[b]-c.floating[T]+N.mainAxis,U=c.reference[b]+c.reference[T]-N.mainAxis;w<O?w=O:w>U&&(w=U)}if(m){var E,C;const T=b==="y"?"width":"height",O=["top","left"].includes(qr(o)),U=c.reference[y]-c.floating[T]+(O&&((E=d.offset)==null?void 0:E[y])||0)+(O?0:N.crossAxis),G=c.reference[y]+c.reference[T]+(O?0:((C=d.offset)==null?void 0:C[y])||0)-(O?N.crossAxis:0);_<U?_=U:_>G&&(_=G)}return{[b]:w,[y]:_}}}},XC=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,i;const{placement:o,rects:c,platform:d,elements:h}=e,{apply:g=()=>{},...m}=zr(n,e),x=await Gl(e,m),y=qr(o),b=Ci(o),w=Br(o)==="y",{width:_,height:j}=c.floating;let N,E;y==="top"||y==="bottom"?(N=y,E=b===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(E=y,N=b==="end"?"top":"bottom");const C=j-x.top-x.bottom,T=_-x.left-x.right,O=wa(j-x[N],C),U=wa(_-x[E],T),G=!e.middlewareData.shift;let L=O,P=U;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(P=T),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(L=C),G&&!b){const D=ws(x.left,0),I=ws(x.right,0),Q=ws(x.top,0),oe=ws(x.bottom,0);w?P=_-2*(D!==0||I!==0?D+I:ws(x.left,x.right)):L=j-2*(Q!==0||oe!==0?Q+oe:ws(x.top,x.bottom))}await g({...e,availableWidth:P,availableHeight:L});const Y=await d.getDimensions(h.floating);return _!==Y.width||j!==Y.height?{reset:{rects:!0}}:{}}}};function yu(){return typeof window<"u"}function Ai(n){return hb(n)?(n.nodeName||"").toLowerCase():"#document"}function _s(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function yr(n){var e;return(e=(hb(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function hb(n){return yu()?n instanceof Node||n instanceof _s(n).Node:!1}function Js(n){return yu()?n instanceof Element||n instanceof _s(n).Element:!1}function xr(n){return yu()?n instanceof HTMLElement||n instanceof _s(n).HTMLElement:!1}function j0(n){return!yu()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _s(n).ShadowRoot}function so(n){const{overflow:e,overflowX:t,overflowY:i,display:o}=Zs(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(o)}function JC(n){return["table","td","th"].includes(Ai(n))}function vu(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Tm(n){const e=km(),t=Js(n)?Zs(n):n;return["transform","translate","scale","rotate","perspective"].some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(t.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(t.contain||"").includes(i))}function ZC(n){let e=ja(n);for(;xr(e)&&!mi(e);){if(Tm(e))return e;if(vu(e))return null;e=ja(e)}return null}function km(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function mi(n){return["html","body","#document"].includes(Ai(n))}function Zs(n){return _s(n).getComputedStyle(n)}function bu(n){return Js(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ja(n){if(Ai(n)==="html")return n;const e=n.assignedSlot||n.parentNode||j0(n)&&n.host||yr(n);return j0(e)?e.host:e}function fb(n){const e=ja(n);return mi(e)?n.ownerDocument?n.ownerDocument.body:n.body:xr(e)&&so(e)?e:fb(e)}function Yl(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=fb(n),c=o===((i=n.ownerDocument)==null?void 0:i.body),d=_s(o);if(c){const h=Uf(d);return e.concat(d,d.visualViewport||[],so(o)?o:[],h&&t?Yl(h):[])}return e.concat(o,Yl(o,[],t))}function Uf(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function mb(n){const e=Zs(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=xr(n),c=o?n.offsetWidth:t,d=o?n.offsetHeight:i,h=tu(t)!==c||tu(i)!==d;return h&&(t=c,i=d),{width:t,height:i,$:h}}function Rm(n){return Js(n)?n:n.contextElement}function oi(n){const e=Rm(n);if(!xr(e))return mr(1);const t=e.getBoundingClientRect(),{width:i,height:o,$:c}=mb(e);let d=(c?tu(t.width):t.width)/i,h=(c?tu(t.height):t.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const eA=mr(0);function gb(n){const e=_s(n);return!km()||!e.visualViewport?eA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tA(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==_s(n)?!1:e}function an(n,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),c=Rm(n);let d=mr(1);e&&(i?Js(i)&&(d=oi(i)):d=oi(n));const h=tA(c,t,i)?gb(c):mr(0);let g=(o.left+h.x)/d.x,m=(o.top+h.y)/d.y,x=o.width/d.x,y=o.height/d.y;if(c){const b=_s(c),w=i&&Js(i)?_s(i):i;let _=b,j=Uf(_);for(;j&&i&&w!==_;){const N=oi(j),E=j.getBoundingClientRect(),C=Zs(j),T=E.left+(j.clientLeft+parseFloat(C.paddingLeft))*N.x,O=E.top+(j.clientTop+parseFloat(C.paddingTop))*N.y;g*=N.x,m*=N.y,x*=N.x,y*=N.y,g+=T,m+=O,_=_s(j),j=Uf(_)}}return ru({width:x,height:y,x:g,y:m})}function Om(n,e){const t=bu(n).scrollLeft;return e?e.left+t:an(yr(n)).left+t}function pb(n,e,t){t===void 0&&(t=!1);const i=n.getBoundingClientRect(),o=i.left+e.scrollLeft-(t?0:Om(n,i)),c=i.top+e.scrollTop;return{x:o,y:c}}function sA(n){let{elements:e,rect:t,offsetParent:i,strategy:o}=n;const c=o==="fixed",d=yr(i),h=e?vu(e.floating):!1;if(i===d||h&&c)return t;let g={scrollLeft:0,scrollTop:0},m=mr(1);const x=mr(0),y=xr(i);if((y||!y&&!c)&&((Ai(i)!=="body"||so(d))&&(g=bu(i)),xr(i))){const w=an(i);m=oi(i),x.x=w.x+i.clientLeft,x.y=w.y+i.clientTop}const b=d&&!y&&!c?pb(d,g,!0):mr(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-g.scrollLeft*m.x+x.x+b.x,y:t.y*m.y-g.scrollTop*m.y+x.y+b.y}}function rA(n){return Array.from(n.getClientRects())}function aA(n){const e=yr(n),t=bu(n),i=n.ownerDocument.body,o=ws(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=ws(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let d=-t.scrollLeft+Om(n);const h=-t.scrollTop;return Zs(i).direction==="rtl"&&(d+=ws(e.clientWidth,i.clientWidth)-o),{width:o,height:c,x:d,y:h}}function nA(n,e){const t=_s(n),i=yr(n),o=t.visualViewport;let c=i.clientWidth,d=i.clientHeight,h=0,g=0;if(o){c=o.width,d=o.height;const m=km();(!m||m&&e==="fixed")&&(h=o.offsetLeft,g=o.offsetTop)}return{width:c,height:d,x:h,y:g}}function iA(n,e){const t=an(n,!0,e==="fixed"),i=t.top+n.clientTop,o=t.left+n.clientLeft,c=xr(n)?oi(n):mr(1),d=n.clientWidth*c.x,h=n.clientHeight*c.y,g=o*c.x,m=i*c.y;return{width:d,height:h,x:g,y:m}}function N0(n,e,t){let i;if(e==="viewport")i=nA(n,t);else if(e==="document")i=aA(yr(n));else if(Js(e))i=iA(e,t);else{const o=gb(n);i={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ru(i)}function xb(n,e){const t=ja(n);return t===e||!Js(t)||mi(t)?!1:Zs(t).position==="fixed"||xb(t,e)}function lA(n,e){const t=e.get(n);if(t)return t;let i=Yl(n,[],!1).filter(h=>Js(h)&&Ai(h)!=="body"),o=null;const c=Zs(n).position==="fixed";let d=c?ja(n):n;for(;Js(d)&&!mi(d);){const h=Zs(d),g=Tm(d);!g&&h.position==="fixed"&&(o=null),(c?!g&&!o:!g&&h.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||so(d)&&!g&&xb(n,d))?i=i.filter(x=>x!==d):o=h,d=ja(d)}return e.set(n,i),i}function oA(n){let{element:e,boundary:t,rootBoundary:i,strategy:o}=n;const d=[...t==="clippingAncestors"?vu(e)?[]:lA(e,this._c):[].concat(t),i],h=d[0],g=d.reduce((m,x)=>{const y=N0(e,x,o);return m.top=ws(y.top,m.top),m.right=wa(y.right,m.right),m.bottom=wa(y.bottom,m.bottom),m.left=ws(y.left,m.left),m},N0(e,h,o));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function cA(n){const{width:e,height:t}=mb(n);return{width:e,height:t}}function uA(n,e,t){const i=xr(e),o=yr(e),c=t==="fixed",d=an(n,!0,c,e);let h={scrollLeft:0,scrollTop:0};const g=mr(0);function m(){g.x=Om(o)}if(i||!i&&!c)if((Ai(e)!=="body"||so(o))&&(h=bu(e)),i){const w=an(e,!0,c,e);g.x=w.x+e.clientLeft,g.y=w.y+e.clientTop}else o&&m();c&&!i&&o&&m();const x=o&&!i&&!c?pb(o,h):mr(0),y=d.left+h.scrollLeft-g.x-x.x,b=d.top+h.scrollTop-g.y-x.y;return{x:y,y:b,width:d.width,height:d.height}}function sf(n){return Zs(n).position==="static"}function S0(n,e){if(!xr(n)||Zs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return yr(n)===t&&(t=t.ownerDocument.body),t}function yb(n,e){const t=_s(n);if(vu(n))return t;if(!xr(n)){let o=ja(n);for(;o&&!mi(o);){if(Js(o)&&!sf(o))return o;o=ja(o)}return t}let i=S0(n,e);for(;i&&JC(i)&&sf(i);)i=S0(i,e);return i&&mi(i)&&sf(i)&&!Tm(i)?t:i||ZC(n)||t}const dA=async function(n){const e=this.getOffsetParent||yb,t=this.getDimensions,i=await t(n.floating);return{reference:uA(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function hA(n){return Zs(n).direction==="rtl"}const fA={convertOffsetParentRelativeRectToViewportRelativeRect:sA,getDocumentElement:yr,getClippingRect:oA,getOffsetParent:yb,getElementRects:dA,getClientRects:rA,getDimensions:cA,getScale:oi,isElement:Js,isRTL:hA};function vb(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function mA(n,e){let t=null,i;const o=yr(n);function c(){var h;clearTimeout(i),(h=t)==null||h.disconnect(),t=null}function d(h,g){h===void 0&&(h=!1),g===void 0&&(g=1),c();const m=n.getBoundingClientRect(),{left:x,top:y,width:b,height:w}=m;if(h||e(),!b||!w)return;const _=Nc(y),j=Nc(o.clientWidth-(x+b)),N=Nc(o.clientHeight-(y+w)),E=Nc(x),T={rootMargin:-_+"px "+-j+"px "+-N+"px "+-E+"px",threshold:ws(0,wa(1,g))||1};let O=!0;function U(G){const L=G[0].intersectionRatio;if(L!==g){if(!O)return d();L?d(!1,L):i=setTimeout(()=>{d(!1,1e-7)},1e3)}L===1&&!vb(m,n.getBoundingClientRect())&&d(),O=!1}try{t=new IntersectionObserver(U,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(U,T)}t.observe(n)}return d(!0),c}function gA(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:g=!1}=i,m=Rm(n),x=o||c?[...m?Yl(m):[],...Yl(e)]:[];x.forEach(E=>{o&&E.addEventListener("scroll",t,{passive:!0}),c&&E.addEventListener("resize",t)});const y=m&&h?mA(m,t):null;let b=-1,w=null;d&&(w=new ResizeObserver(E=>{let[C]=E;C&&C.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(e)})),t()}),m&&!g&&w.observe(m),w.observe(e));let _,j=g?an(n):null;g&&N();function N(){const E=an(n);j&&!vb(j,E)&&t(),j=E,_=requestAnimationFrame(N)}return t(),()=>{var E;x.forEach(C=>{o&&C.removeEventListener("scroll",t),c&&C.removeEventListener("resize",t)}),y==null||y(),(E=w)==null||E.disconnect(),w=null,g&&cancelAnimationFrame(_)}}const pA=KC,xA=WC,yA=FC,vA=XC,bA=GC,_0=VC,wA=QC,jA=(n,e,t)=>{const i=new Map,o={platform:fA,...t},c={...o.platform,_c:i};return qC(n,e,{...o,platform:c})};var Gc=typeof document<"u"?v.useLayoutEffect:v.useEffect;function au(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(i=t;i--!==0;)if(!au(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(i=t;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=t;i--!==0;){const c=o[i];if(!(c==="_owner"&&n.$$typeof)&&!au(n[c],e[c]))return!1}return!0}return n!==n&&e!==e}function bb(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function E0(n,e){const t=bb(n);return Math.round(e*t)/t}function rf(n){const e=v.useRef(n);return Gc(()=>{e.current=n}),e}function NA(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:i=[],platform:o,elements:{reference:c,floating:d}={},transform:h=!0,whileElementsMounted:g,open:m}=n,[x,y]=v.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,w]=v.useState(i);au(b,i)||w(i);const[_,j]=v.useState(null),[N,E]=v.useState(null),C=v.useCallback(z=>{z!==G.current&&(G.current=z,j(z))},[]),T=v.useCallback(z=>{z!==L.current&&(L.current=z,E(z))},[]),O=c||_,U=d||N,G=v.useRef(null),L=v.useRef(null),P=v.useRef(x),Y=g!=null,D=rf(g),I=rf(o),Q=rf(m),oe=v.useCallback(()=>{if(!G.current||!L.current)return;const z={placement:e,strategy:t,middleware:b};I.current&&(z.platform=I.current),jA(G.current,L.current,z).then(q=>{const R={...q,isPositioned:Q.current!==!1};le.current&&!au(P.current,R)&&(P.current=R,eo.flushSync(()=>{y(R)}))})},[b,e,t,I,Q]);Gc(()=>{m===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,y(z=>({...z,isPositioned:!1})))},[m]);const le=v.useRef(!1);Gc(()=>(le.current=!0,()=>{le.current=!1}),[]),Gc(()=>{if(O&&(G.current=O),U&&(L.current=U),O&&U){if(D.current)return D.current(O,U,oe);oe()}},[O,U,oe,D,Y]);const de=v.useMemo(()=>({reference:G,floating:L,setReference:C,setFloating:T}),[C,T]),k=v.useMemo(()=>({reference:O,floating:U}),[O,U]),V=v.useMemo(()=>{const z={position:t,left:0,top:0};if(!k.floating)return z;const q=E0(k.floating,x.x),R=E0(k.floating,x.y);return h?{...z,transform:"translate("+q+"px, "+R+"px)",...bb(k.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:q,top:R}},[t,h,k.floating,x.x,x.y]);return v.useMemo(()=>({...x,update:oe,refs:de,elements:k,floatingStyles:V}),[x,oe,de,k,V])}const SA=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:i,padding:o}=typeof n=="function"?n(t):n;return i&&e(i)?i.current!=null?_0({element:i.current,padding:o}).fn(t):{}:i?_0({element:i,padding:o}).fn(t):{}}}},_A=(n,e)=>({...pA(n),options:[n,e]}),EA=(n,e)=>({...xA(n),options:[n,e]}),CA=(n,e)=>({...wA(n),options:[n,e]}),AA=(n,e)=>({...yA(n),options:[n,e]}),TA=(n,e)=>({...vA(n),options:[n,e]}),kA=(n,e)=>({...bA(n),options:[n,e]}),RA=(n,e)=>({...SA(n),options:[n,e]});var OA="Arrow",wb=v.forwardRef((n,e)=>{const{children:t,width:i=10,height:o=5,...c}=n;return r.jsx(Ye.svg,{...c,ref:e,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});wb.displayName=OA;var DA=wb;function jb(n){const[e,t]=v.useState(void 0);return Zt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let d,h;if("borderBoxSize"in c){const g=c.borderBoxSize,m=Array.isArray(g)?g[0]:g;d=m.inlineSize,h=m.blockSize}else d=n.offsetWidth,h=n.offsetHeight;t({width:d,height:h})});return i.observe(n,{box:"border-box"}),()=>i.unobserve(n)}else t(void 0)},[n]),e}var Dm="Popper",[Nb,Sb]=Ei(Dm),[MA,_b]=Nb(Dm),Eb=n=>{const{__scopePopper:e,children:t}=n,[i,o]=v.useState(null);return r.jsx(MA,{scope:e,anchor:i,onAnchorChange:o,children:t})};Eb.displayName=Dm;var Cb="PopperAnchor",Ab=v.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:i,...o}=n,c=_b(Cb,t),d=v.useRef(null),h=nt(e,d);return v.useEffect(()=>{c.onAnchorChange((i==null?void 0:i.current)||d.current)}),i?null:r.jsx(Ye.div,{...o,ref:h})});Ab.displayName=Cb;var Mm="PopperContent",[LA,PA]=Nb(Mm),Tb=v.forwardRef((n,e)=>{var ie,me,Re,ke,Me,Pe;const{__scopePopper:t,side:i="bottom",sideOffset:o=0,align:c="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:g=!0,collisionBoundary:m=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:w="optimized",onPlaced:_,...j}=n,N=_b(Mm,t),[E,C]=v.useState(null),T=nt(e,wt=>C(wt)),[O,U]=v.useState(null),G=jb(O),L=(G==null?void 0:G.width)??0,P=(G==null?void 0:G.height)??0,Y=i+(c!=="center"?"-"+c:""),D=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},I=Array.isArray(m)?m:[m],Q=I.length>0,oe={padding:D,boundary:I.filter($A),altBoundary:Q},{refs:le,floatingStyles:de,placement:k,isPositioned:V,middlewareData:z}=NA({strategy:"fixed",placement:Y,whileElementsMounted:(...wt)=>gA(...wt,{animationFrame:w==="always"}),elements:{reference:N.anchor},middleware:[_A({mainAxis:o+P,alignmentAxis:d}),g&&EA({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?CA():void 0,...oe}),g&&AA({...oe}),TA({...oe,apply:({elements:wt,rects:zt,availableWidth:vr,availableHeight:br})=>{const{width:kt,height:Aa}=zt.reference,ir=wt.floating.style;ir.setProperty("--radix-popper-available-width",`${vr}px`),ir.setProperty("--radix-popper-available-height",`${br}px`),ir.setProperty("--radix-popper-anchor-width",`${kt}px`),ir.setProperty("--radix-popper-anchor-height",`${Aa}px`)}}),O&&RA({element:O,padding:h}),IA({arrowWidth:L,arrowHeight:P}),b&&kA({strategy:"referenceHidden",...oe})]}),[q,R]=Ob(k),X=ba(_);Zt(()=>{V&&(X==null||X())},[V,X]);const H=(ie=z.arrow)==null?void 0:ie.x,Z=(me=z.arrow)==null?void 0:me.y,ce=((Re=z.arrow)==null?void 0:Re.centerOffset)!==0,[pe,B]=v.useState();return Zt(()=>{E&&B(window.getComputedStyle(E).zIndex)},[E]),r.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:V?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:pe,"--radix-popper-transform-origin":[(ke=z.transformOrigin)==null?void 0:ke.x,(Me=z.transformOrigin)==null?void 0:Me.y].join(" "),...((Pe=z.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:r.jsx(LA,{scope:t,placedSide:q,onArrowChange:U,arrowX:H,arrowY:Z,shouldHideArrow:ce,children:r.jsx(Ye.div,{"data-side":q,"data-align":R,...j,ref:T,style:{...j.style,animation:V?void 0:"none"}})})})});Tb.displayName=Mm;var kb="PopperArrow",UA={top:"bottom",right:"left",bottom:"top",left:"right"},Rb=v.forwardRef(function(e,t){const{__scopePopper:i,...o}=e,c=PA(kb,i),d=UA[c.placedSide];return r.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:r.jsx(DA,{...o,ref:t,style:{...o.style,display:"block"}})})});Rb.displayName=kb;function $A(n){return n!==null}var IA=n=>({name:"transformOrigin",options:n,fn(e){var N,E,C;const{placement:t,rects:i,middlewareData:o}=e,d=((N=o.arrow)==null?void 0:N.centerOffset)!==0,h=d?0:n.arrowWidth,g=d?0:n.arrowHeight,[m,x]=Ob(t),y={start:"0%",center:"50%",end:"100%"}[x],b=(((E=o.arrow)==null?void 0:E.x)??0)+h/2,w=(((C=o.arrow)==null?void 0:C.y)??0)+g/2;let _="",j="";return m==="bottom"?(_=d?y:`${b}px`,j=`${-g}px`):m==="top"?(_=d?y:`${b}px`,j=`${i.floating.height+g}px`):m==="right"?(_=`${-g}px`,j=d?y:`${w}px`):m==="left"&&(_=`${i.floating.width+g}px`,j=d?y:`${w}px`),{data:{x:_,y:j}}}});function Ob(n){const[e,t="center"]=n.split("-");return[e,t]}var BA=Eb,HA=Ab,zA=Tb,qA=Rb,VA="Portal",Db=v.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,c]=v.useState(!1);Zt(()=>c(!0),[]);const d=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?K1.createPortal(r.jsx(Ye.div,{...i,ref:e}),d):null});Db.displayName=VA;var FA=vv[" useInsertionEffect ".trim().toString()]||Zt;function Kl({prop:n,defaultProp:e,onChange:t=()=>{},caller:i}){const[o,c,d]=GA({defaultProp:e,onChange:t}),h=n!==void 0,g=h?n:o;{const x=v.useRef(n!==void 0);v.useEffect(()=>{const y=x.current;y!==h&&console.warn(`${i} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=h},[h,i])}const m=v.useCallback(x=>{var y;if(h){const b=YA(x)?x(n):x;b!==n&&((y=d.current)==null||y.call(d,b))}else c(x)},[h,n,c,d]);return[g,m]}function GA({defaultProp:n,onChange:e}){const[t,i]=v.useState(n),o=v.useRef(t),c=v.useRef(e);return FA(()=>{c.current=e},[e]),v.useEffect(()=>{var d;o.current!==t&&((d=c.current)==null||d.call(c,t),o.current=t)},[t,o]),[t,i,c]}function YA(n){return typeof n=="function"}function Mb(n){const e=v.useRef({value:n,previous:n});return v.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Lb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KA="VisuallyHidden",WA=v.forwardRef((n,e)=>r.jsx(Ye.span,{...n,ref:e,style:{...Lb,...n.style}}));WA.displayName=KA;var QA=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Qn=new WeakMap,Sc=new WeakMap,_c={},af=0,Pb=function(n){return n&&(n.host||Pb(n.parentNode))},XA=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=Pb(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},JA=function(n,e,t,i){var o=XA(e,Array.isArray(n)?n:[n]);_c[t]||(_c[t]=new WeakMap);var c=_c[t],d=[],h=new Set,g=new Set(o),m=function(y){!y||h.has(y)||(h.add(y),m(y.parentNode))};o.forEach(m);var x=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(b){if(h.has(b))x(b);else try{var w=b.getAttribute(i),_=w!==null&&w!=="false",j=(Qn.get(b)||0)+1,N=(c.get(b)||0)+1;Qn.set(b,j),c.set(b,N),d.push(b),j===1&&_&&Sc.set(b,!0),N===1&&b.setAttribute(t,"true"),_||b.setAttribute(i,"true")}catch(E){console.error("aria-hidden: cannot operate on ",b,E)}})};return x(e),h.clear(),af++,function(){d.forEach(function(y){var b=Qn.get(y)-1,w=c.get(y)-1;Qn.set(y,b),c.set(y,w),b||(Sc.has(y)||y.removeAttribute(i),Sc.delete(y)),w||y.removeAttribute(t)}),af--,af||(Qn=new WeakMap,Qn=new WeakMap,Sc=new WeakMap,_c={})}},ZA=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=QA(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),JA(i,o,t,"aria-hidden")):function(){return null}},$f=function(n,e){return $f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])},$f(n,e)};function Ub(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");$f(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Us=function(){return Us=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Us.apply(this,arguments)};function Sa(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function $b(n,e,t,i){var o=arguments.length,c=o<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(n,e,t,i);else for(var h=n.length-1;h>=0;h--)(d=n[h])&&(c=(o<3?d(c):o>3?d(e,t,c):d(e,t))||c);return o>3&&c&&Object.defineProperty(e,t,c),c}function Ib(n,e){return function(t,i){e(t,i,n)}}function Bb(n,e,t,i,o,c){function d(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var h=i.kind,g=h==="getter"?"get":h==="setter"?"set":"value",m=!e&&n?i.static?n:n.prototype:null,x=e||(m?Object.getOwnPropertyDescriptor(m,i.name):{}),y,b=!1,w=t.length-1;w>=0;w--){var _={};for(var j in i)_[j]=j==="access"?{}:i[j];for(var j in i.access)_.access[j]=i.access[j];_.addInitializer=function(E){if(b)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(E||null))};var N=(0,t[w])(h==="accessor"?{get:x.get,set:x.set}:x[g],_);if(h==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(y=d(N.get))&&(x.get=y),(y=d(N.set))&&(x.set=y),(y=d(N.init))&&o.unshift(y)}else(y=d(N))&&(h==="field"?o.unshift(y):x[g]=y)}m&&Object.defineProperty(m,i.name,x),b=!0}function Hb(n,e,t){for(var i=arguments.length>2,o=0;o<e.length;o++)t=i?e[o].call(n,t):e[o].call(n);return i?t:void 0}function zb(n){return typeof n=="symbol"?n:"".concat(n)}function qb(n,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(n,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Vb(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function je(n,e,t,i){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{m(i.next(x))}catch(y){d(y)}}function g(x){try{m(i.throw(x))}catch(y){d(y)}}function m(x){x.done?c(x.value):o(x.value).then(h,g)}m((i=i.apply(n,e||[])).next())})}function Fb(n,e){var t={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(m){return function(x){return g([m,x])}}function g(m){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(t=0)),t;)try{if(i=1,o&&(c=m[0]&2?o.return:m[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,m[1])).done)return c;switch(o=0,c&&(m=[m[0]&2,c.value]),m[0]){case 0:case 1:c=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(c=t.trys,!(c=c.length>0&&c[c.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!c||m[1]>c[0]&&m[1]<c[3])){t.label=m[1];break}if(m[0]===6&&t.label<c[1]){t.label=c[1],c=m;break}if(c&&t.label<c[2]){t.label=c[2],t.ops.push(m);break}c[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(x){m=[6,x],o=0}finally{i=c=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var wu=Object.create?function(n,e,t,i){i===void 0&&(i=t);var o=Object.getOwnPropertyDescriptor(e,t);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,i,o)}:function(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]};function Gb(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&wu(e,n,t)}function nu(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lm(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),o,c=[],d;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)c.push(o.value)}catch(h){d={error:h}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(d)throw d.error}}return c}function Yb(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Lm(arguments[e]));return n}function Kb(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),o=0,e=0;e<t;e++)for(var c=arguments[e],d=0,h=c.length;d<h;d++,o++)i[o]=c[d];return i}function Pm(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,c;i<o;i++)(c||!(i in e))&&(c||(c=Array.prototype.slice.call(e,0,i)),c[i]=e[i]);return n.concat(c||Array.prototype.slice.call(e))}function gi(n){return this instanceof gi?(this.v=n,this):new gi(n)}function Wb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(w){return function(_){return Promise.resolve(_).then(w,y)}}function h(w,_){i[w]&&(o[w]=function(j){return new Promise(function(N,E){c.push([w,j,N,E])>1||g(w,j)})},_&&(o[w]=_(o[w])))}function g(w,_){try{m(i[w](_))}catch(j){b(c[0][3],j)}}function m(w){w.value instanceof gi?Promise.resolve(w.value.v).then(x,y):b(c[0][2],w)}function x(w){g("next",w)}function y(w){g("throw",w)}function b(w,_){w(_),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Qb(n){var e,t;return e={},i("next"),i("throw",function(o){throw o}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(o,c){e[o]=n[o]?function(d){return(t=!t)?{value:gi(n[o](d)),done:!1}:c?c(d):d}:c}}function Xb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof nu=="function"?nu(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(c){t[c]=n[c]&&function(d){return new Promise(function(h,g){d=n[c](d),o(h,g,d.done,d.value)})}}function o(c,d,h,g){Promise.resolve(g).then(function(m){c({value:m,done:h})},d)}}function Jb(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}var eT=Object.create?function(n,e){Object.defineProperty(n,"default",{enumerable:!0,value:e})}:function(n,e){n.default=e},If=function(n){return If=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},If(n)};function Zb(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t=If(n),i=0;i<t.length;i++)t[i]!=="default"&&wu(e,n,t[i]);return eT(e,n),e}function ew(n){return n&&n.__esModule?n:{default:n}}function tw(n,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(n):i?i.value:e.get(n)}function sw(n,e,t,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!o:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(n,t):o?o.value=t:e.set(n,t),t}function rw(n,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof n=="function"?e===n:n.has(e)}function aw(n,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,o;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),n.stack.push({value:e,dispose:i,async:t})}else t&&n.stack.push({async:!0});return e}var tT=typeof SuppressedError=="function"?SuppressedError:function(n,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=n,i.suppressed=e,i};function nw(n){function e(c){n.error=n.hasError?new tT(c,n.error,"An error was suppressed during disposal."):c,n.hasError=!0}var t,i=0;function o(){for(;t=n.stack.pop();)try{if(!t.async&&i===1)return i=0,n.stack.push(t),Promise.resolve().then(o);if(t.dispose){var c=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(c).then(o,function(d){return e(d),o()})}else i|=1}catch(d){e(d)}if(i===1)return n.hasError?Promise.reject(n.error):Promise.resolve();if(n.hasError)throw n.error}return o()}function iw(n,e){return typeof n=="string"&&/^\.\.?\//.test(n)?n.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,o,c,d){return i?e?".jsx":".js":o&&(!c||!d)?t:o+c+"."+d.toLowerCase()+"js"}):n}const sT={__extends:Ub,__assign:Us,__rest:Sa,__decorate:$b,__param:Ib,__esDecorate:Bb,__runInitializers:Hb,__propKey:zb,__setFunctionName:qb,__metadata:Vb,__awaiter:je,__generator:Fb,__createBinding:wu,__exportStar:Gb,__values:nu,__read:Lm,__spread:Yb,__spreadArrays:Kb,__spreadArray:Pm,__await:gi,__asyncGenerator:Wb,__asyncDelegator:Qb,__asyncValues:Xb,__makeTemplateObject:Jb,__importStar:Zb,__importDefault:ew,__classPrivateFieldGet:tw,__classPrivateFieldSet:sw,__classPrivateFieldIn:rw,__addDisposableResource:aw,__disposeResources:nw,__rewriteRelativeImportExtension:iw},rT=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:aw,get __assign(){return Us},__asyncDelegator:Qb,__asyncGenerator:Wb,__asyncValues:Xb,__await:gi,__awaiter:je,__classPrivateFieldGet:tw,__classPrivateFieldIn:rw,__classPrivateFieldSet:sw,__createBinding:wu,__decorate:$b,__disposeResources:nw,__esDecorate:Bb,__exportStar:Gb,__extends:Ub,__generator:Fb,__importDefault:ew,__importStar:Zb,__makeTemplateObject:Jb,__metadata:Vb,__param:Ib,__propKey:zb,__read:Lm,__rest:Sa,__rewriteRelativeImportExtension:iw,__runInitializers:Hb,__setFunctionName:qb,__spread:Yb,__spreadArray:Pm,__spreadArrays:Kb,__values:nu,default:sT},Symbol.toStringTag,{value:"Module"}));var Yc="right-scroll-bar-position",Kc="width-before-scroll-bar",aT="with-scroll-bars-hidden",nT="--removed-body-scroll-bar-size";function nf(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function iT(n,e){var t=v.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var lT=typeof window<"u"?v.useLayoutEffect:v.useEffect,C0=new WeakMap;function oT(n,e){var t=iT(null,function(i){return n.forEach(function(o){return nf(o,i)})});return lT(function(){var i=C0.get(t);if(i){var o=new Set(i),c=new Set(n),d=t.current;o.forEach(function(h){c.has(h)||nf(h,null)}),c.forEach(function(h){o.has(h)||nf(h,d)})}C0.set(t,n)},[n]),t}function cT(n){return n}function uT(n,e){e===void 0&&(e=cT);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var d=e(c,i);return t.push(d),function(){t=t.filter(function(h){return h!==d})}},assignSyncMedium:function(c){for(i=!0;t.length;){var d=t;t=[],d.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){i=!0;var d=[];if(t.length){var h=t;t=[],h.forEach(c),d=t}var g=function(){var x=d;d=[],x.forEach(c)},m=function(){return Promise.resolve().then(g)};m(),t={push:function(x){d.push(x),m()},filter:function(x){return d=d.filter(x),t}}}};return o}function dT(n){n===void 0&&(n={});var e=uT(null);return e.options=Us({async:!0,ssr:!1},n),e}var lw=function(n){var e=n.sideCar,t=Sa(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return v.createElement(i,Us({},t))};lw.isSideCarExport=!0;function hT(n,e){return n.useMedium(e),lw}var ow=dT(),lf=function(){},ju=v.forwardRef(function(n,e){var t=v.useRef(null),i=v.useState({onScrollCapture:lf,onWheelCapture:lf,onTouchMoveCapture:lf}),o=i[0],c=i[1],d=n.forwardProps,h=n.children,g=n.className,m=n.removeScrollBar,x=n.enabled,y=n.shards,b=n.sideCar,w=n.noIsolation,_=n.inert,j=n.allowPinchZoom,N=n.as,E=N===void 0?"div":N,C=n.gapMode,T=Sa(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=b,U=oT([t,e]),G=Us(Us({},T),o);return v.createElement(v.Fragment,null,x&&v.createElement(O,{sideCar:ow,removeScrollBar:m,shards:y,noIsolation:w,inert:_,setCallbacks:c,allowPinchZoom:!!j,lockRef:t,gapMode:C}),d?v.cloneElement(v.Children.only(h),Us(Us({},G),{ref:U})):v.createElement(E,Us({},G,{className:g,ref:U}),h))});ju.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ju.classNames={fullWidth:Kc,zeroRight:Yc};var fT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function mT(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fT();return e&&n.setAttribute("nonce",e),n}function gT(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function pT(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var xT=function(){var n=0,e=null;return{add:function(t){n==0&&(e=mT())&&(gT(e,t),pT(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yT=function(){var n=xT();return function(e,t){v.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},cw=function(){var n=yT(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},vT={left:0,top:0,right:0,gap:0},of=function(n){return parseInt(n||"",10)||0},bT=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[of(t),of(i),of(o)]},wT=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return vT;var e=bT(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},jT=cw(),ci="data-scroll-locked",NT=function(n,e,t,i){var o=n.left,c=n.top,d=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(aT,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(ci,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Kc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Yc," .").concat(Yc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Kc," .").concat(Kc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(ci,`] {
    `).concat(nT,": ").concat(h,`px;
  }
`)},A0=function(){var n=parseInt(document.body.getAttribute(ci)||"0",10);return isFinite(n)?n:0},ST=function(){v.useEffect(function(){return document.body.setAttribute(ci,(A0()+1).toString()),function(){var n=A0()-1;n<=0?document.body.removeAttribute(ci):document.body.setAttribute(ci,n.toString())}},[])},_T=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;ST();var c=v.useMemo(function(){return wT(o)},[o]);return v.createElement(jT,{styles:NT(c,!e,o,t?"":"!important")})},Bf=!1;if(typeof window<"u")try{var Ec=Object.defineProperty({},"passive",{get:function(){return Bf=!0,!0}});window.addEventListener("test",Ec,Ec),window.removeEventListener("test",Ec,Ec)}catch{Bf=!1}var Xn=Bf?{passive:!1}:!1,ET=function(n){return n.tagName==="TEXTAREA"},uw=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!ET(n)&&t[e]==="visible")},CT=function(n){return uw(n,"overflowY")},AT=function(n){return uw(n,"overflowX")},T0=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=dw(n,i);if(o){var c=hw(n,i),d=c[1],h=c[2];if(d>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},TT=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},kT=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},dw=function(n,e){return n==="v"?CT(e):AT(e)},hw=function(n,e){return n==="v"?TT(e):kT(e)},RT=function(n,e){return n==="h"&&e==="rtl"?-1:1},OT=function(n,e,t,i,o){var c=RT(n,window.getComputedStyle(e).direction),d=c*i,h=t.target,g=e.contains(h),m=!1,x=d>0,y=0,b=0;do{var w=hw(n,h),_=w[0],j=w[1],N=w[2],E=j-N-c*_;(_||E)&&dw(n,h)&&(y+=E,b+=_),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!g&&h!==document.body||g&&(e.contains(h)||e===h));return(x&&Math.abs(y)<1||!x&&Math.abs(b)<1)&&(m=!0),m},Cc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},k0=function(n){return[n.deltaX,n.deltaY]},R0=function(n){return n&&"current"in n?n.current:n},DT=function(n,e){return n[0]===e[0]&&n[1]===e[1]},MT=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},LT=0,Jn=[];function PT(n){var e=v.useRef([]),t=v.useRef([0,0]),i=v.useRef(),o=v.useState(LT++)[0],c=v.useState(cw)[0],d=v.useRef(n);v.useEffect(function(){d.current=n},[n]),v.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var j=Pm([n.lockRef.current],(n.shards||[]).map(R0),!0).filter(Boolean);return j.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=v.useCallback(function(j,N){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!d.current.allowPinchZoom;var E=Cc(j),C=t.current,T="deltaX"in j?j.deltaX:C[0]-E[0],O="deltaY"in j?j.deltaY:C[1]-E[1],U,G=j.target,L=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in j&&L==="h"&&G.type==="range")return!1;var P=T0(L,G);if(!P)return!0;if(P?U=L:(U=L==="v"?"h":"v",P=T0(L,G)),!P)return!1;if(!i.current&&"changedTouches"in j&&(T||O)&&(i.current=U),!U)return!0;var Y=i.current||U;return OT(Y,N,j,Y==="h"?T:O)},[]),g=v.useCallback(function(j){var N=j;if(!(!Jn.length||Jn[Jn.length-1]!==c)){var E="deltaY"in N?k0(N):Cc(N),C=e.current.filter(function(U){return U.name===N.type&&(U.target===N.target||N.target===U.shadowParent)&&DT(U.delta,E)})[0];if(C&&C.should){N.cancelable&&N.preventDefault();return}if(!C){var T=(d.current.shards||[]).map(R0).filter(Boolean).filter(function(U){return U.contains(N.target)}),O=T.length>0?h(N,T[0]):!d.current.noIsolation;O&&N.cancelable&&N.preventDefault()}}},[]),m=v.useCallback(function(j,N,E,C){var T={name:j,delta:N,target:E,should:C,shadowParent:UT(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(O){return O!==T})},1)},[]),x=v.useCallback(function(j){t.current=Cc(j),i.current=void 0},[]),y=v.useCallback(function(j){m(j.type,k0(j),j.target,h(j,n.lockRef.current))},[]),b=v.useCallback(function(j){m(j.type,Cc(j),j.target,h(j,n.lockRef.current))},[]);v.useEffect(function(){return Jn.push(c),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",g,Xn),document.addEventListener("touchmove",g,Xn),document.addEventListener("touchstart",x,Xn),function(){Jn=Jn.filter(function(j){return j!==c}),document.removeEventListener("wheel",g,Xn),document.removeEventListener("touchmove",g,Xn),document.removeEventListener("touchstart",x,Xn)}},[]);var w=n.removeScrollBar,_=n.inert;return v.createElement(v.Fragment,null,_?v.createElement(c,{styles:MT(o)}):null,w?v.createElement(_T,{gapMode:n.gapMode}):null)}function UT(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const $T=hT(ow,PT);var fw=v.forwardRef(function(n,e){return v.createElement(ju,Us({},n,{ref:e,sideCar:$T}))});fw.classNames=ju.classNames;var IT=[" ","Enter","ArrowUp","ArrowDown"],BT=[" ","Enter"],nn="Select",[Nu,Su,HT]=_m(nn),[Ti,a3]=Ei(nn,[HT,Sb]),_u=Sb(),[zT,_a]=Ti(nn),[qT,VT]=Ti(nn),mw=n=>{const{__scopeSelect:e,children:t,open:i,defaultOpen:o,onOpenChange:c,value:d,defaultValue:h,onValueChange:g,dir:m,name:x,autoComplete:y,disabled:b,required:w,form:_}=n,j=_u(e),[N,E]=v.useState(null),[C,T]=v.useState(null),[O,U]=v.useState(!1),G=xu(m),[L,P]=Kl({prop:i,defaultProp:o??!1,onChange:c,caller:nn}),[Y,D]=Kl({prop:d,defaultProp:h,onChange:g,caller:nn}),I=v.useRef(null),Q=N?_||!!N.closest("form"):!0,[oe,le]=v.useState(new Set),de=Array.from(oe).map(k=>k.props.value).join(";");return r.jsx(BA,{...j,children:r.jsxs(zT,{required:w,scope:e,trigger:N,onTriggerChange:E,valueNode:C,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:U,contentId:to(),value:Y,onValueChange:D,open:L,onOpenChange:P,dir:G,triggerPointerDownPosRef:I,disabled:b,children:[r.jsx(Nu.Provider,{scope:e,children:r.jsx(qT,{scope:n.__scopeSelect,onNativeOptionAdd:v.useCallback(k=>{le(V=>new Set(V).add(k))},[]),onNativeOptionRemove:v.useCallback(k=>{le(V=>{const z=new Set(V);return z.delete(k),z})},[]),children:t})}),Q?r.jsxs(Pw,{"aria-hidden":!0,required:w,tabIndex:-1,name:x,autoComplete:y,value:Y,onChange:k=>D(k.target.value),disabled:b,form:_,children:[Y===void 0?r.jsx("option",{value:""}):null,Array.from(oe)]},de):null]})})};mw.displayName=nn;var gw="SelectTrigger",pw=v.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:i=!1,...o}=n,c=_u(t),d=_a(gw,t),h=d.disabled||i,g=nt(e,d.onTriggerChange),m=Su(t),x=v.useRef("touch"),[y,b,w]=$w(j=>{const N=m().filter(T=>!T.disabled),E=N.find(T=>T.value===d.value),C=Iw(N,j,E);C!==void 0&&d.onValueChange(C.value)}),_=j=>{h||(d.onOpenChange(!0),w()),j&&(d.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return r.jsx(HA,{asChild:!0,...c,children:r.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Uw(d.value)?"":void 0,...o,ref:g,onClick:Ve(o.onClick,j=>{j.currentTarget.focus(),x.current!=="mouse"&&_(j)}),onPointerDown:Ve(o.onPointerDown,j=>{x.current=j.pointerType;const N=j.target;N.hasPointerCapture(j.pointerId)&&N.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(_(j),j.preventDefault())}),onKeyDown:Ve(o.onKeyDown,j=>{const N=y.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&b(j.key),!(N&&j.key===" ")&&IT.includes(j.key)&&(_(),j.preventDefault())})})})});pw.displayName=gw;var xw="SelectValue",yw=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,children:c,placeholder:d="",...h}=n,g=_a(xw,t),{onValueNodeHasChildrenChange:m}=g,x=c!==void 0,y=nt(e,g.onValueNodeChange);return Zt(()=>{m(x)},[m,x]),r.jsx(Ye.span,{...h,ref:y,style:{pointerEvents:"none"},children:Uw(g.value)?r.jsx(r.Fragment,{children:d}):c})});yw.displayName=xw;var FT="SelectIcon",vw=v.forwardRef((n,e)=>{const{__scopeSelect:t,children:i,...o}=n;return r.jsx(Ye.span,{"aria-hidden":!0,...o,ref:e,children:i||""})});vw.displayName=FT;var GT="SelectPortal",bw=n=>r.jsx(Db,{asChild:!0,...n});bw.displayName=GT;var ln="SelectContent",ww=v.forwardRef((n,e)=>{const t=_a(ln,n.__scopeSelect),[i,o]=v.useState();if(Zt(()=>{o(new DocumentFragment)},[]),!t.open){const c=i;return c?eo.createPortal(r.jsx(jw,{scope:n.__scopeSelect,children:r.jsx(Nu.Slot,{scope:n.__scopeSelect,children:r.jsx("div",{children:n.children})})}),c):null}return r.jsx(Nw,{...n,ref:e})});ww.displayName=ln;var Fs=10,[jw,Ea]=Ti(ln),YT="SelectContentImpl",KT=Fl("SelectContent.RemoveScroll"),Nw=v.forwardRef((n,e)=>{const{__scopeSelect:t,position:i="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:d,side:h,sideOffset:g,align:m,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:w,sticky:_,hideWhenDetached:j,avoidCollisions:N,...E}=n,C=_a(ln,t),[T,O]=v.useState(null),[U,G]=v.useState(null),L=nt(e,ie=>O(ie)),[P,Y]=v.useState(null),[D,I]=v.useState(null),Q=Su(t),[oe,le]=v.useState(!1),de=v.useRef(!1);v.useEffect(()=>{if(T)return ZA(T)},[T]),_C();const k=v.useCallback(ie=>{const[me,...Re]=Q().map(Pe=>Pe.ref.current),[ke]=Re.slice(-1),Me=document.activeElement;for(const Pe of ie)if(Pe===Me||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===me&&U&&(U.scrollTop=0),Pe===ke&&U&&(U.scrollTop=U.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==Me))return},[Q,U]),V=v.useCallback(()=>k([P,T]),[k,P,T]);v.useEffect(()=>{oe&&V()},[oe,V]);const{onOpenChange:z,triggerPointerDownPosRef:q}=C;v.useEffect(()=>{if(T){let ie={x:0,y:0};const me=ke=>{var Me,Pe;ie={x:Math.abs(Math.round(ke.pageX)-(((Me=q.current)==null?void 0:Me.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Pe=q.current)==null?void 0:Pe.y)??0))}},Re=ke=>{ie.x<=10&&ie.y<=10?ke.preventDefault():T.contains(ke.target)||z(!1),document.removeEventListener("pointermove",me),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",me),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",me),document.removeEventListener("pointerup",Re,{capture:!0})}}},[T,z,q]),v.useEffect(()=>{const ie=()=>z(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[z]);const[R,X]=$w(ie=>{const me=Q().filter(Me=>!Me.disabled),Re=me.find(Me=>Me.ref.current===document.activeElement),ke=Iw(me,ie,Re);ke&&setTimeout(()=>ke.ref.current.focus())}),H=v.useCallback((ie,me,Re)=>{const ke=!de.current&&!Re;(C.value!==void 0&&C.value===me||ke)&&(Y(ie),ke&&(de.current=!0))},[C.value]),Z=v.useCallback(()=>T==null?void 0:T.focus(),[T]),ce=v.useCallback((ie,me,Re)=>{const ke=!de.current&&!Re;(C.value!==void 0&&C.value===me||ke)&&I(ie)},[C.value]),pe=i==="popper"?Hf:Sw,B=pe===Hf?{side:h,sideOffset:g,align:m,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:w,sticky:_,hideWhenDetached:j,avoidCollisions:N}:{};return r.jsx(jw,{scope:t,content:T,viewport:U,onViewportChange:G,itemRefCallback:H,selectedItem:P,onItemLeave:Z,itemTextRefCallback:ce,focusSelectedItem:V,selectedItemText:D,position:i,isPositioned:oe,searchRef:R,children:r.jsx(fw,{as:KT,allowPinchZoom:!0,children:r.jsx(cb,{asChild:!0,trapped:C.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:Ve(o,ie=>{var me;(me=C.trigger)==null||me.focus({preventScroll:!0}),ie.preventDefault()}),children:r.jsx(lb,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:r.jsx(pe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ie=>ie.preventDefault(),...E,...B,onPlaced:()=>le(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Ve(E.onKeyDown,ie=>{const me=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!me&&ie.key.length===1&&X(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let ke=Q().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Me=ie.target,Pe=ke.indexOf(Me);ke=ke.slice(Pe+1)}setTimeout(()=>k(ke)),ie.preventDefault()}})})})})})})});Nw.displayName=YT;var WT="SelectItemAlignedPosition",Sw=v.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:i,...o}=n,c=_a(ln,t),d=Ea(ln,t),[h,g]=v.useState(null),[m,x]=v.useState(null),y=nt(e,L=>x(L)),b=Su(t),w=v.useRef(!1),_=v.useRef(!0),{viewport:j,selectedItem:N,selectedItemText:E,focusSelectedItem:C}=d,T=v.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&m&&j&&N&&E){const L=c.trigger.getBoundingClientRect(),P=m.getBoundingClientRect(),Y=c.valueNode.getBoundingClientRect(),D=E.getBoundingClientRect();if(c.dir!=="rtl"){const Me=D.left-P.left,Pe=Y.left-Me,wt=L.left-Pe,zt=L.width+wt,vr=Math.max(zt,P.width),br=window.innerWidth-Fs,kt=eu(Pe,[Fs,Math.max(Fs,br-vr)]);h.style.minWidth=zt+"px",h.style.left=kt+"px"}else{const Me=P.right-D.right,Pe=window.innerWidth-Y.right-Me,wt=window.innerWidth-L.right-Pe,zt=L.width+wt,vr=Math.max(zt,P.width),br=window.innerWidth-Fs,kt=eu(Pe,[Fs,Math.max(Fs,br-vr)]);h.style.minWidth=zt+"px",h.style.right=kt+"px"}const I=b(),Q=window.innerHeight-Fs*2,oe=j.scrollHeight,le=window.getComputedStyle(m),de=parseInt(le.borderTopWidth,10),k=parseInt(le.paddingTop,10),V=parseInt(le.borderBottomWidth,10),z=parseInt(le.paddingBottom,10),q=de+k+oe+z+V,R=Math.min(N.offsetHeight*5,q),X=window.getComputedStyle(j),H=parseInt(X.paddingTop,10),Z=parseInt(X.paddingBottom,10),ce=L.top+L.height/2-Fs,pe=Q-ce,B=N.offsetHeight/2,ie=N.offsetTop+B,me=de+k+ie,Re=q-me;if(me<=ce){const Me=I.length>0&&N===I[I.length-1].ref.current;h.style.bottom="0px";const Pe=m.clientHeight-j.offsetTop-j.offsetHeight,wt=Math.max(pe,B+(Me?Z:0)+Pe+V),zt=me+wt;h.style.height=zt+"px"}else{const Me=I.length>0&&N===I[0].ref.current;h.style.top="0px";const wt=Math.max(ce,de+j.offsetTop+(Me?H:0)+B)+Re;h.style.height=wt+"px",j.scrollTop=me-ce+j.offsetTop}h.style.margin=`${Fs}px 0`,h.style.minHeight=R+"px",h.style.maxHeight=Q+"px",i==null||i(),requestAnimationFrame(()=>w.current=!0)}},[b,c.trigger,c.valueNode,h,m,j,N,E,c.dir,i]);Zt(()=>T(),[T]);const[O,U]=v.useState();Zt(()=>{m&&U(window.getComputedStyle(m).zIndex)},[m]);const G=v.useCallback(L=>{L&&_.current===!0&&(T(),C==null||C(),_.current=!1)},[T,C]);return r.jsx(XT,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:w,onScrollButtonChange:G,children:r.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:r.jsx(Ye.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Sw.displayName=WT;var QT="SelectPopperPosition",Hf=v.forwardRef((n,e)=>{const{__scopeSelect:t,align:i="start",collisionPadding:o=Fs,...c}=n,d=_u(t);return r.jsx(zA,{...d,...c,ref:e,align:i,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hf.displayName=QT;var[XT,Um]=Ti(ln,{}),zf="SelectViewport",_w=v.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:i,...o}=n,c=Ea(zf,t),d=Um(zf,t),h=nt(e,c.onViewportChange),g=v.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),r.jsx(Nu.Slot,{scope:t,children:r.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ve(o.onScroll,m=>{const x=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=d;if(b!=null&&b.current&&y){const w=Math.abs(g.current-x.scrollTop);if(w>0){const _=window.innerHeight-Fs*2,j=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),E=Math.max(j,N);if(E<_){const C=E+w,T=Math.min(_,C),O=C-T;y.style.height=T+"px",y.style.bottom==="0px"&&(x.scrollTop=O>0?O:0,y.style.justifyContent="flex-end")}}}g.current=x.scrollTop})})})]})});_w.displayName=zf;var Ew="SelectGroup",[JT,ZT]=Ti(Ew),ek=v.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=to();return r.jsx(JT,{scope:t,id:o,children:r.jsx(Ye.div,{role:"group","aria-labelledby":o,...i,ref:e})})});ek.displayName=Ew;var Cw="SelectLabel",tk=v.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=ZT(Cw,t);return r.jsx(Ye.div,{id:o.id,...i,ref:e})});tk.displayName=Cw;var iu="SelectItem",[sk,Aw]=Ti(iu),Tw=v.forwardRef((n,e)=>{const{__scopeSelect:t,value:i,disabled:o=!1,textValue:c,...d}=n,h=_a(iu,t),g=Ea(iu,t),m=h.value===i,[x,y]=v.useState(c??""),[b,w]=v.useState(!1),_=nt(e,C=>{var T;return(T=g.itemRefCallback)==null?void 0:T.call(g,C,i,o)}),j=to(),N=v.useRef("touch"),E=()=>{o||(h.onValueChange(i),h.onOpenChange(!1))};if(i==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(sk,{scope:t,value:i,disabled:o,textId:j,isSelected:m,onItemTextChange:v.useCallback(C=>{y(T=>T||((C==null?void 0:C.textContent)??"").trim())},[]),children:r.jsx(Nu.ItemSlot,{scope:t,value:i,disabled:o,textValue:x,children:r.jsx(Ye.div,{role:"option","aria-labelledby":j,"data-highlighted":b?"":void 0,"aria-selected":m&&b,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:_,onFocus:Ve(d.onFocus,()=>w(!0)),onBlur:Ve(d.onBlur,()=>w(!1)),onClick:Ve(d.onClick,()=>{N.current!=="mouse"&&E()}),onPointerUp:Ve(d.onPointerUp,()=>{N.current==="mouse"&&E()}),onPointerDown:Ve(d.onPointerDown,C=>{N.current=C.pointerType}),onPointerMove:Ve(d.onPointerMove,C=>{var T;N.current=C.pointerType,o?(T=g.onItemLeave)==null||T.call(g):N.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(d.onPointerLeave,C=>{var T;C.currentTarget===document.activeElement&&((T=g.onItemLeave)==null||T.call(g))}),onKeyDown:Ve(d.onKeyDown,C=>{var O;((O=g.searchRef)==null?void 0:O.current)!==""&&C.key===" "||(BT.includes(C.key)&&E(),C.key===" "&&C.preventDefault())})})})})});Tw.displayName=iu;var Ul="SelectItemText",kw=v.forwardRef((n,e)=>{const{__scopeSelect:t,className:i,style:o,...c}=n,d=_a(Ul,t),h=Ea(Ul,t),g=Aw(Ul,t),m=VT(Ul,t),[x,y]=v.useState(null),b=nt(e,E=>y(E),g.onItemTextChange,E=>{var C;return(C=h.itemTextRefCallback)==null?void 0:C.call(h,E,g.value,g.disabled)}),w=x==null?void 0:x.textContent,_=v.useMemo(()=>r.jsx("option",{value:g.value,disabled:g.disabled,children:w},g.value),[g.disabled,g.value,w]),{onNativeOptionAdd:j,onNativeOptionRemove:N}=m;return Zt(()=>(j(_),()=>N(_)),[j,N,_]),r.jsxs(r.Fragment,{children:[r.jsx(Ye.span,{id:g.textId,...c,ref:b}),g.isSelected&&d.valueNode&&!d.valueNodeHasChildren?eo.createPortal(c.children,d.valueNode):null]})});kw.displayName=Ul;var Rw="SelectItemIndicator",Ow=v.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return Aw(Rw,t).isSelected?r.jsx(Ye.span,{"aria-hidden":!0,...i,ref:e}):null});Ow.displayName=Rw;var qf="SelectScrollUpButton",Dw=v.forwardRef((n,e)=>{const t=Ea(qf,n.__scopeSelect),i=Um(qf,n.__scopeSelect),[o,c]=v.useState(!1),d=nt(e,i.onScrollButtonChange);return Zt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=g.scrollTop>0;c(m)};const g=t.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?r.jsx(Lw,{...n,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=t;h&&g&&(h.scrollTop=h.scrollTop-g.offsetHeight)}}):null});Dw.displayName=qf;var Vf="SelectScrollDownButton",Mw=v.forwardRef((n,e)=>{const t=Ea(Vf,n.__scopeSelect),i=Um(Vf,n.__scopeSelect),[o,c]=v.useState(!1),d=nt(e,i.onScrollButtonChange);return Zt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=g.scrollHeight-g.clientHeight,x=Math.ceil(g.scrollTop)<m;c(x)};const g=t.viewport;return h(),g.addEventListener("scroll",h),()=>g.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?r.jsx(Lw,{...n,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:g}=t;h&&g&&(h.scrollTop=h.scrollTop+g.offsetHeight)}}):null});Mw.displayName=Vf;var Lw=v.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:i,...o}=n,c=Ea("SelectScrollButton",t),d=v.useRef(null),h=Su(t),g=v.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return v.useEffect(()=>()=>g(),[g]),Zt(()=>{var x;const m=h().find(y=>y.ref.current===document.activeElement);(x=m==null?void 0:m.ref.current)==null||x.scrollIntoView({block:"nearest"})},[h]),r.jsx(Ye.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ve(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(i,50))}),onPointerMove:Ve(o.onPointerMove,()=>{var m;(m=c.onItemLeave)==null||m.call(c),d.current===null&&(d.current=window.setInterval(i,50))}),onPointerLeave:Ve(o.onPointerLeave,()=>{g()})})}),rk="SelectSeparator",ak=v.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n;return r.jsx(Ye.div,{"aria-hidden":!0,...i,ref:e})});ak.displayName=rk;var Ff="SelectArrow",nk=v.forwardRef((n,e)=>{const{__scopeSelect:t,...i}=n,o=_u(t),c=_a(Ff,t),d=Ea(Ff,t);return c.open&&d.position==="popper"?r.jsx(qA,{...o,...i,ref:e}):null});nk.displayName=Ff;var ik="SelectBubbleInput",Pw=v.forwardRef(({__scopeSelect:n,value:e,...t},i)=>{const o=v.useRef(null),c=nt(i,o),d=Mb(e);return v.useEffect(()=>{const h=o.current;if(!h)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(d!==e&&x){const y=new Event("change",{bubbles:!0});x.call(h,e),h.dispatchEvent(y)}},[d,e]),r.jsx(Ye.select,{...t,style:{...Lb,...t.style},ref:c,defaultValue:e})});Pw.displayName=ik;function Uw(n){return n===""||n===void 0}function $w(n){const e=ba(n),t=v.useRef(""),i=v.useRef(0),o=v.useCallback(d=>{const h=t.current+d;e(h),function g(m){t.current=m,window.clearTimeout(i.current),m!==""&&(i.current=window.setTimeout(()=>g(""),1e3))}(h)},[e]),c=v.useCallback(()=>{t.current="",window.clearTimeout(i.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(i.current),[]),[t,o,c]}function Iw(n,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let d=lk(n,Math.max(c,0));o.length===1&&(d=d.filter(m=>m!==t));const g=d.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return g!==t?g:void 0}function lk(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var ok=mw,ck=pw,uk=yw,dk=vw,hk=bw,fk=ww,mk=_w,gk=Tw,pk=kw,xk=Ow,yk=Dw,vk=Mw;function Et({...n}){return r.jsx(ok,{"data-slot":"select",...n})}function Ct({...n}){return r.jsx(uk,{"data-slot":"select-value",...n})}function At({className:n,size:e="default",children:t,...i}){return r.jsxs(ck,{"data-slot":"select-trigger","data-size":e,className:ct("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...i,children:[t,r.jsx(dk,{asChild:!0,children:r.jsx(wm,{className:"size-4 opacity-50"})})]})}function Tt({className:n,children:e,position:t="popper",...i}){return r.jsx(hk,{children:r.jsxs(fk,{"data-slot":"select-content",className:ct("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...i,children:[r.jsx(bk,{}),r.jsx(mk,{className:ct("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),r.jsx(wk,{})]})})}function ge({className:n,children:e,...t}){return r.jsxs(gk,{"data-slot":"select-item",className:ct("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",n),...t,children:[r.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:r.jsx(xk,{children:r.jsx(nE,{className:"size-4"})})}),r.jsx(pk,{children:e})]})}function bk({className:n,...e}){return r.jsx(yk,{"data-slot":"select-scroll-up-button",className:ct("flex cursor-default items-center justify-center py-1",n),...e,children:r.jsx(Qv,{className:"size-4"})})}function wk({className:n,...e}){return r.jsx(vk,{"data-slot":"select-scroll-down-button",className:ct("flex cursor-default items-center justify-center py-1",n),...e,children:r.jsx(wm,{className:"size-4"})})}var Bw=["PageUp","PageDown"],Hw=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zw={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ki="Slider",[Gf,jk,Nk]=_m(ki),[qw,n3]=Ei(ki,[Nk]),[Sk,Eu]=qw(ki),Vw=v.forwardRef((n,e)=>{const{name:t,min:i=0,max:o=100,step:c=1,orientation:d="horizontal",disabled:h=!1,minStepsBetweenThumbs:g=0,defaultValue:m=[i],value:x,onValueChange:y=()=>{},onValueCommit:b=()=>{},inverted:w=!1,form:_,...j}=n,N=v.useRef(new Set),E=v.useRef(0),T=d==="horizontal"?_k:Ek,[O=[],U]=Kl({prop:x,defaultProp:m,onChange:I=>{var oe;(oe=[...N.current][E.current])==null||oe.focus(),y(I)}}),G=v.useRef(O);function L(I){const Q=Rk(O,I);D(I,Q)}function P(I){D(I,E.current)}function Y(){const I=G.current[E.current];O[E.current]!==I&&b(O)}function D(I,Q,{commit:oe}={commit:!1}){const le=Lk(c),de=Pk(Math.round((I-i)/c)*c+i,le),k=eu(de,[i,o]);U((V=[])=>{const z=Tk(V,k,Q);if(Mk(z,g*c)){E.current=z.indexOf(k);const q=String(z)!==String(V);return q&&oe&&b(z),q?z:V}else return V})}return r.jsx(Sk,{scope:n.__scopeSlider,name:t,disabled:h,min:i,max:o,valueIndexToChangeRef:E,thumbs:N.current,values:O,orientation:d,form:_,children:r.jsx(Gf.Provider,{scope:n.__scopeSlider,children:r.jsx(Gf.Slot,{scope:n.__scopeSlider,children:r.jsx(T,{"aria-disabled":h,"data-disabled":h?"":void 0,...j,ref:e,onPointerDown:Ve(j.onPointerDown,()=>{h||(G.current=O)}),min:i,max:o,inverted:w,onSlideStart:h?void 0:L,onSlideMove:h?void 0:P,onSlideEnd:h?void 0:Y,onHomeKeyDown:()=>!h&&D(i,0,{commit:!0}),onEndKeyDown:()=>!h&&D(o,O.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:Q})=>{if(!h){const de=Bw.includes(I.key)||I.shiftKey&&Hw.includes(I.key)?10:1,k=E.current,V=O[k],z=c*de*Q;D(V+z,k,{commit:!0})}}})})})})});Vw.displayName=ki;var[Fw,Gw]=qw(ki,{startEdge:"left",endEdge:"right",size:"width",direction:1}),_k=v.forwardRef((n,e)=>{const{min:t,max:i,dir:o,inverted:c,onSlideStart:d,onSlideMove:h,onSlideEnd:g,onStepKeyDown:m,...x}=n,[y,b]=v.useState(null),w=nt(e,T=>b(T)),_=v.useRef(void 0),j=xu(o),N=j==="ltr",E=N&&!c||!N&&c;function C(T){const O=_.current||y.getBoundingClientRect(),U=[0,O.width],L=$m(U,E?[t,i]:[i,t]);return _.current=O,L(T-O.left)}return r.jsx(Fw,{scope:n.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:r.jsx(Yw,{dir:j,"data-orientation":"horizontal",...x,ref:w,style:{...x.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const O=C(T.clientX);d==null||d(O)},onSlideMove:T=>{const O=C(T.clientX);h==null||h(O)},onSlideEnd:()=>{_.current=void 0,g==null||g()},onStepKeyDown:T=>{const U=zw[E?"from-left":"from-right"].includes(T.key);m==null||m({event:T,direction:U?-1:1})}})})}),Ek=v.forwardRef((n,e)=>{const{min:t,max:i,inverted:o,onSlideStart:c,onSlideMove:d,onSlideEnd:h,onStepKeyDown:g,...m}=n,x=v.useRef(null),y=nt(e,x),b=v.useRef(void 0),w=!o;function _(j){const N=b.current||x.current.getBoundingClientRect(),E=[0,N.height],T=$m(E,w?[i,t]:[t,i]);return b.current=N,T(j-N.top)}return r.jsx(Fw,{scope:n.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:r.jsx(Yw,{"data-orientation":"vertical",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:j=>{const N=_(j.clientY);c==null||c(N)},onSlideMove:j=>{const N=_(j.clientY);d==null||d(N)},onSlideEnd:()=>{b.current=void 0,h==null||h()},onStepKeyDown:j=>{const E=zw[w?"from-bottom":"from-top"].includes(j.key);g==null||g({event:j,direction:E?-1:1})}})})}),Yw=v.forwardRef((n,e)=>{const{__scopeSlider:t,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onHomeKeyDown:d,onEndKeyDown:h,onStepKeyDown:g,...m}=n,x=Eu(ki,t);return r.jsx(Ye.span,{...m,ref:e,onKeyDown:Ve(n.onKeyDown,y=>{y.key==="Home"?(d(y),y.preventDefault()):y.key==="End"?(h(y),y.preventDefault()):Bw.concat(Hw).includes(y.key)&&(g(y),y.preventDefault())}),onPointerDown:Ve(n.onPointerDown,y=>{const b=y.target;b.setPointerCapture(y.pointerId),y.preventDefault(),x.thumbs.has(b)?b.focus():i(y)}),onPointerMove:Ve(n.onPointerMove,y=>{y.target.hasPointerCapture(y.pointerId)&&o(y)}),onPointerUp:Ve(n.onPointerUp,y=>{const b=y.target;b.hasPointerCapture(y.pointerId)&&(b.releasePointerCapture(y.pointerId),c(y))})})}),Kw="SliderTrack",Ww=v.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=Eu(Kw,t);return r.jsx(Ye.span,{"data-disabled":o.disabled?"":void 0,"data-orientation":o.orientation,...i,ref:e})});Ww.displayName=Kw;var Yf="SliderRange",Qw=v.forwardRef((n,e)=>{const{__scopeSlider:t,...i}=n,o=Eu(Yf,t),c=Gw(Yf,t),d=v.useRef(null),h=nt(e,d),g=o.values.length,m=o.values.map(b=>Zw(b,o.min,o.max)),x=g>1?Math.min(...m):0,y=100-Math.max(...m);return r.jsx(Ye.span,{"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,...i,ref:h,style:{...n.style,[c.startEdge]:x+"%",[c.endEdge]:y+"%"}})});Qw.displayName=Yf;var Kf="SliderThumb",Xw=v.forwardRef((n,e)=>{const t=jk(n.__scopeSlider),[i,o]=v.useState(null),c=nt(e,h=>o(h)),d=v.useMemo(()=>i?t().findIndex(h=>h.ref.current===i):-1,[t,i]);return r.jsx(Ck,{...n,ref:c,index:d})}),Ck=v.forwardRef((n,e)=>{const{__scopeSlider:t,index:i,name:o,...c}=n,d=Eu(Kf,t),h=Gw(Kf,t),[g,m]=v.useState(null),x=nt(e,C=>m(C)),y=g?d.form||!!g.closest("form"):!0,b=jb(g),w=d.values[i],_=w===void 0?0:Zw(w,d.min,d.max),j=kk(i,d.values.length),N=b==null?void 0:b[h.size],E=N?Ok(N,_,h.direction):0;return v.useEffect(()=>{if(g)return d.thumbs.add(g),()=>{d.thumbs.delete(g)}},[g,d.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[h.startEdge]:`calc(${_}% + ${E}px)`},children:[r.jsx(Gf.ItemSlot,{scope:n.__scopeSlider,children:r.jsx(Ye.span,{role:"slider","aria-label":n["aria-label"]||j,"aria-valuemin":d.min,"aria-valuenow":w,"aria-valuemax":d.max,"aria-orientation":d.orientation,"data-orientation":d.orientation,"data-disabled":d.disabled?"":void 0,tabIndex:d.disabled?void 0:0,...c,ref:x,style:w===void 0?{display:"none"}:n.style,onFocus:Ve(n.onFocus,()=>{d.valueIndexToChangeRef.current=i})})}),y&&r.jsx(Jw,{name:o??(d.name?d.name+(d.values.length>1?"[]":""):void 0),form:d.form,value:w},i)]})});Xw.displayName=Kf;var Ak="RadioBubbleInput",Jw=v.forwardRef(({__scopeSlider:n,value:e,...t},i)=>{const o=v.useRef(null),c=nt(o,i),d=Mb(e);return v.useEffect(()=>{const h=o.current;if(!h)return;const g=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(d!==e&&x){const y=new Event("input",{bubbles:!0});x.call(h,e),h.dispatchEvent(y)}},[d,e]),r.jsx(Ye.input,{style:{display:"none"},...t,ref:c,defaultValue:e})});Jw.displayName=Ak;function Tk(n=[],e,t){const i=[...n];return i[t]=e,i.sort((o,c)=>o-c)}function Zw(n,e,t){const c=100/(t-e)*(n-e);return eu(c,[0,100])}function kk(n,e){return e>2?`Value ${n+1} of ${e}`:e===2?["Minimum","Maximum"][n]:void 0}function Rk(n,e){if(n.length===1)return 0;const t=n.map(o=>Math.abs(o-e)),i=Math.min(...t);return t.indexOf(i)}function Ok(n,e,t){const i=n/2,c=$m([0,50],[0,i]);return(i-c(e)*t)*t}function Dk(n){return n.slice(0,-1).map((e,t)=>n[t+1]-e)}function Mk(n,e){if(e>0){const t=Dk(n);return Math.min(...t)>=e}return!0}function $m(n,e){return t=>{if(n[0]===n[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(n[1]-n[0]);return e[0]+i*(t-n[0])}}function Lk(n){return(String(n).split(".")[1]||"").length}function Pk(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}var Uk=Vw,$k=Ww,Ik=Qw,Bk=Xw;function Hk({className:n,defaultValue:e,value:t,min:i=0,max:o=100,...c}){const d=v.useMemo(()=>Array.isArray(t)?t:Array.isArray(e)?e:[i,o],[t,e,i,o]);return r.jsxs(Uk,{"data-slot":"slider",defaultValue:e,value:t,min:i,max:o,className:ct("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",n),...c,children:[r.jsx($k,{"data-slot":"slider-track",className:ct("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:r.jsx(Ik,{"data-slot":"slider-range",className:ct("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:d.length},(h,g)=>r.jsx(Bk,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},g))]})}function zk(n,e){return v.useReducer((t,i)=>e[t][i]??t,n)}var ej=n=>{const{present:e,children:t}=n,i=qk(e),o=typeof t=="function"?t({present:i.isPresent}):v.Children.only(t),c=nt(i.ref,Vk(o));return typeof t=="function"||i.isPresent?v.cloneElement(o,{ref:c}):null};ej.displayName="Presence";function qk(n){const[e,t]=v.useState(),i=v.useRef(null),o=v.useRef(n),c=v.useRef("none"),d=n?"mounted":"unmounted",[h,g]=zk(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const m=Ac(i.current);c.current=h==="mounted"?m:"none"},[h]),Zt(()=>{const m=i.current,x=o.current;if(x!==n){const b=c.current,w=Ac(m);n?g("MOUNT"):w==="none"||(m==null?void 0:m.display)==="none"?g("UNMOUNT"):g(x&&b!==w?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,g]),Zt(()=>{if(e){let m;const x=e.ownerDocument.defaultView??window,y=w=>{const j=Ac(i.current).includes(w.animationName);if(w.target===e&&j&&(g("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",m=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=w=>{w.target===e&&(c.current=Ac(i.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{x.clearTimeout(m),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[e,g]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:v.useCallback(m=>{i.current=m?getComputedStyle(m):null,t(m)},[])}}function Ac(n){return(n==null?void 0:n.animationName)||"none"}function Vk(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}const Fk=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ht(async()=>{const{default:i}=await Promise.resolve().then(()=>cn);return{default:i}},[]).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)};class Im extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class O0 extends Im{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class D0 extends Im{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class M0 extends Im{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Wf;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Wf||(Wf={}));class Gk{constructor(e,{headers:t={},customFetch:i,region:o=Wf.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=Fk(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return je(this,arguments,void 0,function*(t,i={}){var o;try{const{headers:c,method:d,body:h,signal:g}=i;let m={},{region:x}=i;x||(x=this.region);const y=new URL(`${this.url}/${t}`);x&&x!=="any"&&(m["x-region"]=x,y.searchParams.set("forceFunctionRegion",x));let b;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(m["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(m["Content-Type"]="application/json",b=JSON.stringify(h)):b=h;const w=yield this.fetch(y.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),c),body:b,signal:g}).catch(E=>{throw E.name==="AbortError"?E:new O0(E)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new D0(w);if(!w.ok)throw new M0(w);let j=((o=w.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield w.json():j==="application/octet-stream"||j==="application/pdf"?N=yield w.blob():j==="text/event-stream"?N=w:j==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null,response:w}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new O0(c)}:{data:null,error:c,response:c instanceof M0||c instanceof D0?c.context:void 0}}})}}var Yt={};const Ri=yv(rT);var Tc={},kc={},Rc={},Oc={},Dc={},Yk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pi=Yk();const Kk=pi.fetch,tj=pi.fetch.bind(pi),sj=pi.Headers,Wk=pi.Request,Qk=pi.Response,cn=Object.freeze(Object.defineProperty({__proto__:null,Headers:sj,Request:Wk,Response:Qk,default:tj,fetch:Kk},Symbol.toStringTag,{value:"Module"})),Xk=yv(cn);var Mc={},L0;function rj(){if(L0)return Mc;L0=1,Object.defineProperty(Mc,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Mc.default=n,Mc}var P0;function aj(){if(P0)return Dc;P0=1,Object.defineProperty(Dc,"__esModule",{value:!0});const n=Ri,e=n.__importDefault(Xk),t=n.__importDefault(rj());class i{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var x,y,b,w;let _=null,j=null,N=null,E=m.status,C=m.statusText;if(m.ok){if(this.method!=="HEAD"){const G=await m.text();G===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?j=G:j=JSON.parse(G))}const O=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),U=(b=m.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");O&&U&&U.length>1&&(N=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(_={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,N=null,E=406,C="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const O=await m.text();try{_=JSON.parse(O),Array.isArray(_)&&m.status===404&&(j=[],_=null,E=200,C="OK")}catch{m.status===404&&O===""?(E=204,C="No Content"):_={message:O}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,E=200,C="OK"),_&&this.shouldThrowOnError)throw new t.default(_)}return{error:_,data:j,count:N,status:E,statusText:C}});return this.shouldThrowOnError||(g=g.catch(m=>{var x,y,b;return{error:{message:`${(x=m==null?void 0:m.name)!==null&&x!==void 0?x:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(y=m==null?void 0:m.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=m==null?void 0:m.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,d)}returns(){return this}overrideTypes(){return this}}return Dc.default=i,Dc}var U0;function nj(){if(U0)return Oc;U0=1,Object.defineProperty(Oc,"__esModule",{value:!0});const e=Ri.__importDefault(aj());class t extends e.default{select(o){let c=!1;const d=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.order`:"order",x=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(m,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:g=!1,format:m="text"}={}){var x;const y=[o?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${b}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Oc.default=t,Oc}var $0;function Bm(){if($0)return Rc;$0=1,Object.defineProperty(Rc,"__esModule",{value:!0});const e=Ri.__importDefault(nj()),t=new RegExp("[,()]");class i extends e.default{eq(c,d){return this.url.searchParams.append(c,`eq.${d}`),this}neq(c,d){return this.url.searchParams.append(c,`neq.${d}`),this}gt(c,d){return this.url.searchParams.append(c,`gt.${d}`),this}gte(c,d){return this.url.searchParams.append(c,`gte.${d}`),this}lt(c,d){return this.url.searchParams.append(c,`lt.${d}`),this}lte(c,d){return this.url.searchParams.append(c,`lte.${d}`),this}like(c,d){return this.url.searchParams.append(c,`like.${d}`),this}likeAllOf(c,d){return this.url.searchParams.append(c,`like(all).{${d.join(",")}}`),this}likeAnyOf(c,d){return this.url.searchParams.append(c,`like(any).{${d.join(",")}}`),this}ilike(c,d){return this.url.searchParams.append(c,`ilike.${d}`),this}ilikeAllOf(c,d){return this.url.searchParams.append(c,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(c,d){return this.url.searchParams.append(c,`ilike(any).{${d.join(",")}}`),this}is(c,d){return this.url.searchParams.append(c,`is.${d}`),this}in(c,d){const h=Array.from(new Set(d)).map(g=>typeof g=="string"&&t.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(c,`in.(${h})`),this}contains(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cs.{${d.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(d)}`),this}containedBy(c,d){return typeof d=="string"?this.url.searchParams.append(c,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(c,`cd.{${d.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(d)}`),this}rangeGt(c,d){return this.url.searchParams.append(c,`sr.${d}`),this}rangeGte(c,d){return this.url.searchParams.append(c,`nxl.${d}`),this}rangeLt(c,d){return this.url.searchParams.append(c,`sl.${d}`),this}rangeLte(c,d){return this.url.searchParams.append(c,`nxr.${d}`),this}rangeAdjacent(c,d){return this.url.searchParams.append(c,`adj.${d}`),this}overlaps(c,d){return typeof d=="string"?this.url.searchParams.append(c,`ov.${d}`):this.url.searchParams.append(c,`ov.{${d.join(",")}}`),this}textSearch(c,d,{config:h,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const x=h===void 0?"":`(${h})`;return this.url.searchParams.append(c,`${m}fts${x}.${d}`),this}match(c){return Object.entries(c).forEach(([d,h])=>{this.url.searchParams.append(d,`eq.${h}`)}),this}not(c,d,h){return this.url.searchParams.append(c,`not.${d}.${h}`),this}or(c,{foreignTable:d,referencedTable:h=d}={}){const g=h?`${h}.or`:"or";return this.url.searchParams.append(g,`(${c})`),this}filter(c,d,h){return this.url.searchParams.append(c,`${d}.${h}`),this}}return Rc.default=i,Rc}var I0;function ij(){if(I0)return kc;I0=1,Object.defineProperty(kc,"__esModule",{value:!0});const e=Ri.__importDefault(Bm());class t{constructor(o,{headers:c={},schema:d,fetch:h}){this.url=o,this.headers=new Headers(c),this.schema=d,this.fetch=h}select(o,c){const{head:d=!1,count:h}=c??{},g=d?"HEAD":"GET";let m=!1;const x=(o??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",x),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:d=!0}={}){var h;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const m=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(m.length>0){const x=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:g=!0}={}){var m;const x="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(y.length>0){const b=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(o,{count:c}={}){var d;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var c;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return kc.default=t,kc}var B0;function Jk(){if(B0)return Tc;B0=1,Object.defineProperty(Tc,"__esModule",{value:!0});const n=Ri,e=n.__importDefault(ij()),t=n.__importDefault(Bm());class i{constructor(c,{headers:d={},schema:h,fetch:g}={}){this.url=c,this.headers=new Headers(d),this.schemaName=h,this.fetch=g}from(c){const d=new URL(`${this.url}/${c}`);return new e.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:g=!1,count:m}={}){var x;let y;const b=new URL(`${this.url}/rpc/${c}`);let w;h||g?(y=h?"HEAD":"GET",Object.entries(d).filter(([j,N])=>N!==void 0).map(([j,N])=>[j,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([j,N])=>{b.searchParams.append(j,N)})):(y="POST",w=d);const _=new Headers(this.headers);return m&&_.set("Prefer",`count=${m}`),new t.default({method:y,url:b,headers:_,schema:this.schemaName,body:w,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Tc.default=i,Tc}var H0;function Zk(){if(H0)return Yt;H0=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.PostgrestError=Yt.PostgrestBuilder=Yt.PostgrestTransformBuilder=Yt.PostgrestFilterBuilder=Yt.PostgrestQueryBuilder=Yt.PostgrestClient=void 0;const n=Ri,e=n.__importDefault(Jk());Yt.PostgrestClient=e.default;const t=n.__importDefault(ij());Yt.PostgrestQueryBuilder=t.default;const i=n.__importDefault(Bm());Yt.PostgrestFilterBuilder=i.default;const o=n.__importDefault(nj());Yt.PostgrestTransformBuilder=o.default;const c=n.__importDefault(aj());Yt.PostgrestBuilder=c.default;const d=n.__importDefault(rj());return Yt.PostgrestError=d.default,Yt.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},Yt}var lj=Zk();const oj=yi(lj),eR=xv({__proto__:null,default:oj},[lj]),{PostgrestClient:tR,PostgrestQueryBuilder:i3,PostgrestFilterBuilder:l3,PostgrestTransformBuilder:o3,PostgrestBuilder:c3,PostgrestError:u3}=oj||eR;class sR{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const rR="2.78.0",aR=`realtime-js/${rR}`,nR="1.0.0",Qf=1e4,iR=1e3,lR=100;var Il;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Il||(Il={}));var _t;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(_t||(_t={}));var Ys;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ys||(Ys={}));var Xf;(function(n){n.websocket="websocket"})(Xf||(Xf={}));var Ja;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ja||(Ja={}));class oR{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const o=t.getUint8(1),c=t.getUint8(2);let d=this.HEADER_LENGTH+2;const h=i.decode(e.slice(d,d+o));d=d+o;const g=i.decode(e.slice(d,d+c));d=d+c;const m=JSON.parse(i.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class cj{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var rt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(rt||(rt={}));const z0=(n,e,t={})=>{var i;const o=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=cR(d,n,e,o),c),{}):{}},cR=(n,e,t,i)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,d=t[n];return c&&!i.includes(c)?uj(c,d):Jf(d)},uj=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return fR(e,t)}switch(n){case rt.bool:return uR(e);case rt.float4:case rt.float8:case rt.int2:case rt.int4:case rt.int8:case rt.numeric:case rt.oid:return dR(e);case rt.json:case rt.jsonb:return hR(e);case rt.timestamp:return mR(e);case rt.abstime:case rt.date:case rt.daterange:case rt.int4range:case rt.int8range:case rt.money:case rt.reltime:case rt.text:case rt.time:case rt.timestamptz:case rt.timetz:case rt.tsrange:case rt.tstzrange:return Jf(e);default:return Jf(e)}},Jf=n=>n,uR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},dR=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},hR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},fR=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,i=n[t];if(n[0]==="{"&&i==="}"){let c;const d=n.slice(1,t);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>uj(e,h))}return n},mR=n=>typeof n=="string"?n.replace(" ","T"):n,dj=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class cf{constructor(e,t,i={},o=Qf){this.channel=e,this.event=t,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var q0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(q0||(q0={}));class Bl{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,o,c,d),this.pendingDiffs.forEach(g=>{this.state=Bl.syncDiff(this.state,g,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bl.syncDiff(this.state,o,c,d),h())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,o){const c=this.cloneDeep(e),d=this.transformState(t),h={},g={};return this.map(c,(m,x)=>{d[m]||(g[m]=x)}),this.map(d,(m,x)=>{const y=c[m];if(y){const b=x.map(N=>N.presence_ref),w=y.map(N=>N.presence_ref),_=x.filter(N=>w.indexOf(N.presence_ref)<0),j=y.filter(N=>b.indexOf(N.presence_ref)<0);_.length>0&&(h[m]=_),j.length>0&&(g[m]=j)}else h[m]=x}),this.syncDiff(c,{joins:h,leaves:g},i,o)}static syncDiff(e,t,i,o){const{joins:c,leaves:d}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,g)=>{var m;const x=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(g),x.length>0){const y=e[h].map(w=>w.presence_ref),b=x.filter(w=>y.indexOf(w.presence_ref)<0);e[h].unshift(...b)}i(h,x,g)}),this.map(d,(h,g)=>{let m=e[h];if(!m)return;const x=g.map(y=>y.presence_ref);m=m.filter(y=>x.indexOf(y.presence_ref)<0),e[h]=m,o(h,m,g),m.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const o=e[i];return"metas"in o?t[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[i]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var V0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(V0||(V0={}));var Hl;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Hl||(Hl={}));var $r;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class Hm{constructor(e,t={config:{}},i){var o,c;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new cf(this,Ys.join,this.params,this.timeout),this.rejoinTimer=new cj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ys.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Bl(this),this.broadcastEndpointURL=dj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:d,presence:h,private:g}}=this.params,m=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&o!==void 0?o:[],x=!!this.bindings[Hl.PRESENCE]&&this.bindings[Hl.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},b={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e($r.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e($r.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:w})=>{var _;if(this.socket.setAuth(),w===void 0){e==null||e($r.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,N=(_=j==null?void 0:j.length)!==null&&_!==void 0?_:0,E=[];for(let C=0;C<N;C++){const T=j[C],{filter:{event:O,schema:U,table:G,filter:L}}=T,P=w&&w[C];if(P&&P.event===O&&P.schema===U&&P.table===G&&P.filter===L)E.push(Object.assign(Object.assign({},T),{id:P.id}));else{this.unsubscribe(),this.state=_t.errored,e==null||e($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e($r.SUBSCRIBED);return}}).receive("error",w=>{this.state=_t.errored,e==null||e($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===_t.joined&&e===Hl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const m=await h.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(e,t={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=m.body)===null||o===void 0?void 0:o.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,g;const m=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ys.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new cf(this,Ys.leave,{},e),i.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_t.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),d}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new cf(this,e,t,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>lR){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var o,c;const d=e.toLocaleLowerCase(),{close:h,error:g,leave:m,join:x}=Ys;if(i&&[h,g,m,x].indexOf(d)>=0&&i!==this._joinRef())return;let b=this._onMessage(d,t,i);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var _,j,N;return((_=w.filter)===null||_===void 0?void 0:_.event)==="*"||((N=(j=w.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===d}).map(w=>w.callback(b,i)):(c=this.bindings[d])===null||c===void 0||c.filter(w=>{var _,j,N,E,C,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const O=w.id,U=(_=w.filter)===null||_===void 0?void 0:_.event;return O&&((j=t.ids)===null||j===void 0?void 0:j.includes(O))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const O=(C=(E=w==null?void 0:w.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return O==="*"||O===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof b=="object"&&"ids"in b){const _=b.data,{schema:j,table:N,commit_timestamp:E,type:C,errors:T}=_;b=Object.assign(Object.assign({},{schema:j,table:N,commit_timestamp:E,eventType:C,new:{},old:{},errors:T}),this._getPayloadRecords(_))}w.callback(b,i)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Hm.isEqual(o.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ys.close,{},e)}_onError(e){this._on(Ys.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=z0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=z0(e.columns,e.old_record)),t}}const uf=()=>{},Lc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},gR=[1e3,2e3,5e3,1e4],pR=1e4,xR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class yR{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qf,this.transport=null,this.heartbeatIntervalMs=Lc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=uf,this.ref=0,this.reconnectTimer=null,this.logger=uf,this.conn=null,this.sendBuffer=[],this.serializer=new oR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...d)=>Ht(async()=>{const{default:h}=await Promise.resolve().then(()=>cn);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((i=t==null?void 0:t.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${Xf.websocket}`,this.httpEndpoint=dj(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:nR}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Il.connecting:return Ja.Connecting;case Il.open:return Ja.Open;case Il.closing:return Ja.Closing;default:return Ja.Closed}}isConnected(){return this.connectionState()===Ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Hm(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:i,payload:o,ref:c}=e,d=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${t} ${i} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iR,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Lc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:d}=t,h=d?`(${d})`:"",g=c.status||"";this.log("receive",`${g} ${i} ${o} ${h}`.trim(),c),this.channels.filter(m=>m._isMember(i)).forEach(m=>m._trigger(o,c,d)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ys.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${i}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([xR],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const o={access_token:t,version:aR};t&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ys.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new cj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Lc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,o,c,d,h,g,m,x;if(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Qf,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Lc.HEARTBEAT_INTERVAL,this.worker=(c=e==null?void 0:e.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e==null?void 0:e.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:uf,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:y=>gR[y-1]||pR,this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:(y,b)=>b(JSON.stringify(y)),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class zm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class vR extends zm{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zf extends zm{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const qm=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ht(async()=>{const{default:i}=await Promise.resolve().then(()=>cn);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},bR=()=>je(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ht(()=>Promise.resolve().then(()=>cn),void 0)).Response:Response}),em=n=>{if(Array.isArray(n))return n.map(t=>em(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,i])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=em(i)}),e},wR=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},df=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},jR=(n,e,t)=>je(void 0,void 0,void 0,function*(){const i=yield bR();n instanceof i&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const c=n.status||500,d=(o==null?void 0:o.statusCode)||c+"";e(new vR(df(o),c,d))}).catch(o=>{e(new Zf(df(o),o))}):e(new Zf(df(n),n))}),NR=(n,e,t,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?o:(wR(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),t))};function ro(n,e,t,i,o,c){return je(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(t,NR(e,i,o,c)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>jR(g,h,i))})})}function Wl(n,e,t,i){return je(this,void 0,void 0,function*(){return ro(n,"GET",e,t,i)})}function Gs(n,e,t,i,o){return je(this,void 0,void 0,function*(){return ro(n,"POST",e,i,o,t)})}function tm(n,e,t,i,o){return je(this,void 0,void 0,function*(){return ro(n,"PUT",e,i,o,t)})}function SR(n,e,t,i){return je(this,void 0,void 0,function*(){return ro(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Vm(n,e,t,i,o){return je(this,void 0,void 0,function*(){return ro(n,"DELETE",e,i,o,t)})}class _R{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return je(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dt(e))return{data:null,error:e};throw e}})}}var hj;class ER{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[hj]="BlobDownloadBuilder",this.promise=null}asStream(){return new _R(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return je(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(dt(e))return{data:null,error:e};throw e}})}}hj=Symbol.toStringTag;const CR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AR{constructor(e,t={},i,o){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=qm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,o){return je(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},F0),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",d.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=i,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const m=this._removeEmptyFolders(t),x=this._getFinalPath(m),y=yield(e=="PUT"?tm:Gs)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(dt(c))return{data:null,error:c};throw c}})}upload(e,t,i){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,o){return je(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",t);try{let g;const m=Object.assign({upsert:F0.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",m.cacheControl)):(g=i,x["cache-control"]=`max-age=${m.cacheControl}`,x["content-type"]=m.contentType);const y=yield tm(this.fetch,h.toString(),g,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(dt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,t){return je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield Gs(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new zm("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}update(e,t,i){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return je(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}copy(e,t,i){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield Gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,i){return je(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield Gs(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,i){return je(this,void 0,void 0,function*(){try{const o=yield Gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}download(e,t){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),d=c?`?${c}`:"",h=this._getFinalPath(e),g=()=>Wl(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new ER(g,this.shouldThrowOnError)}info(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield Wl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:em(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}exists(e){return je(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield SR(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i)&&i instanceof Zf){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});g!==""&&o.push(g);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${m}`)}}}remove(e){return je(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}list(e,t,i){return je(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},CR),t),{prefix:e||""});return{data:yield Gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}listV2(e,t){return je(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Gs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const fj="2.78.0",mj={"X-Client-Info":`storage-js/${fj}`};class TR{constructor(e,t={},i,o){this.shouldThrowOnError=!1;const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mj),t),this.fetch=qm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return je(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield Wl(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}getBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Wl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}createBucket(e){return je(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(dt(o))return{data:null,error:o};throw o}})}updateBucket(e,t){return je(this,void 0,void 0,function*(){try{return{data:yield tm(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(dt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class kR{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mj),t),this.fetch=qm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Gs(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}listBuckets(e){return je(this,void 0,void 0,function*(){try{const t=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&t.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&t.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&t.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&t.set("sortOrder",e.sortOrder),e!=null&&e.search&&t.set("search",e.search);const i=t.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Wl(this.fetch,o,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Vm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(dt(t))return{data:null,error:t};throw t}})}}const Fm={"X-Client-Info":`storage-js/${fj}`,"Content-Type":"application/json"};class gj extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function js(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}class hf extends gj{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class RR extends gj{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var G0;(function(n){n.InternalError="InternalError",n.S3VectorConflictException="S3VectorConflictException",n.S3VectorNotFoundException="S3VectorNotFoundException",n.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",n.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",n.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(G0||(G0={}));const Gm=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ht(async()=>{const{default:i}=await Promise.resolve().then(()=>cn);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},OR=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Y0=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),DR=(n,e,t)=>je(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const o=n.status||500,c=n;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||o+"";e(new hf(Y0(d),o,h))}).catch(()=>{const d=o+"",h=c.statusText||`HTTP ${o} error`;e(new hf(h,o,d))});else{const d=o+"",h=c.statusText||`HTTP ${o} error`;e(new hf(h,o,d))}}else e(new RR(Y0(n),n))}),MR=(n,e,t,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return i?(OR(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),t)):o};function LR(n,e,t,i,o,c){return je(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(t,MR(e,i,o,c)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>DR(g,h,i))})})}function Ns(n,e,t,i,o){return je(this,void 0,void 0,function*(){return LR(n,"POST",e,i,o,t)})}class PR{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fm),t),this.fetch=Gm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return je(this,void 0,void 0,function*(){try{return{data:(yield Ns(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}getIndex(e,t){return je(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(js(i))return{data:null,error:i};throw i}})}listIndexes(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return je(this,void 0,void 0,function*(){try{return{data:(yield Ns(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(js(i))return{data:null,error:i};throw i}})}}class UR{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fm),t),this.fetch=Gm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return je(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ns(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}getVectors(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}listVectors(e){return je(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ns(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}queryVectors(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}deleteVectors(e){return je(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ns(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}}class $R{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Fm),t),this.fetch=Gm(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return je(this,void 0,void 0,function*(){try{return{data:(yield Ns(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}getBucket(e){return je(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}listBuckets(){return je(this,arguments,void 0,function*(e={}){try{return{data:yield Ns(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}deleteBucket(e){return je(this,void 0,void 0,function*(){try{return{data:(yield Ns(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(js(t))return{data:null,error:t};throw t}})}}class IR extends $R{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new BR(this.url,this.headers,e,this.fetch)}}class BR extends PR{constructor(e,t,i,o){super(e,t,o),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return je(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return je(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return je(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return je(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new HR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class HR extends UR{constructor(e,t,i,o,c){super(e,t,c),this.vectorBucketName=i,this.indexName=o}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return je(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return je(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return je(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return je(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return je(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class zR extends TR{constructor(e,t={},i,o){super(e,t,i,o)}from(e){return new AR(this.url,this.headers,e,this.fetch)}get vectors(){return new IR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kR(this.url+"/iceberg",this.headers,this.fetch)}}const qR="2.78.0";let $l="";typeof Deno<"u"?$l="deno":typeof document<"u"?$l="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$l="react-native":$l="node";const VR={"X-Client-Info":`supabase-js-${$l}/${qR}`},FR={headers:VR},GR={schema:"public"},YR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},KR={},WR=n=>{let e;return n?e=n:typeof fetch>"u"?e=tj:e=fetch,(...t)=>e(...t)},QR=()=>typeof Headers>"u"?sj:Headers,XR=(n,e,t)=>{const i=WR(t),o=QR();return async(c,d)=>{var h;const g=(h=await e())!==null&&h!==void 0?h:n;let m=new o(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),i(c,Object.assign(Object.assign({},d),{headers:m}))}};function JR(n){return n.endsWith("/")?n:n+"/"}function ZR(n,e){var t,i;const{db:o,auth:c,realtime:d,global:h}=n,{db:g,auth:m,realtime:x,global:y}=e,b={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}function e4(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(JR(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pj="2.78.0",ni=30*1e3,sm=3,ff=sm*ni,t4="http://localhost:9999",s4="supabase.auth.token",r4={"X-Client-Info":`gotrue-js/${pj}`},rm="X-Supabase-Api-Version",xj={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n4=10*60*1e3;class Ql extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function _e(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class i4 extends Ql{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function l4(n){return _e(n)&&n.name==="AuthApiError"}class Za extends Ql{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ca extends Ql{constructor(e,t,i,o){super(e,i,o),this.name=t,this.status=i}}class zs extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o4(n){return _e(n)&&n.name==="AuthSessionMissingError"}class Zn extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pc extends Ca{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Uc extends Ca{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c4(n){return _e(n)&&n.name==="AuthImplicitGrantRedirectError"}class K0 extends Ca{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class am extends Ca{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function mf(n){return _e(n)&&n.name==="AuthRetryableFetchError"}class W0 extends Ca{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class nm extends Ca{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Q0=` 	
\r=`.split(""),u4=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Q0.length;e+=1)n[Q0[e].charCodeAt(0)]=-2;for(let e=0;e<lu.length;e+=1)n[lu[e].charCodeAt(0)]=e;return n})();function X0(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(lu[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(lu[i]),e.queuedBits-=6}}function yj(n,e,t){const i=u4[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function J0(n){const e=[],t=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{f4(d,i,t)};for(let d=0;d<n.length;d+=1)yj(n.charCodeAt(d),o,c);return e.join("")}function d4(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function h4(n,e){for(let t=0;t<n.length;t+=1){let i=n.charCodeAt(t);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}d4(i,e)}}function f4(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function ui(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)yj(n.charCodeAt(o),t,i);return new Uint8Array(e)}function m4(n){const e=[];return h4(n,t=>e.push(t)),new Uint8Array(e)}function tn(n){const e=[],t={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>X0(o,t,i)),X0(null,t,i),e.join("")}function g4(n){return Math.round(Date.now()/1e3)+n}function p4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ss=()=>typeof window<"u"&&typeof document<"u",Wa={tested:!1,writable:!1},vj=()=>{if(!ss())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wa.tested)return Wa.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Wa.tested=!0,Wa.writable=!0}catch{Wa.tested=!0,Wa.writable=!1}return Wa.writable};function x4(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((i,o)=>{e[o]=i}),e}const bj=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>Ht(async()=>{const{default:i}=await Promise.resolve().then(()=>cn);return{default:i}},void 0).then(({default:i})=>i(...t)):e=fetch,(...t)=>e(...t)},y4=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",ii=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Qa=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ma=async(n,e)=>{await n.removeItem(e)};class Cu{constructor(){this.promise=new Cu.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Cu.promiseConstructor=Promise;function gf(n){const e=n.split(".");if(e.length!==3)throw new nm("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!a4.test(e[i]))throw new nm("JWT not in base64url format");return{header:JSON.parse(J0(e[0])),payload:JSON.parse(J0(e[1])),signature:ui(e[2]),raw:{header:e[0],payload:e[1]}}}async function v4(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function b4(n,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await n(c);if(!e(c,null,d)){i(d);return}}catch(d){if(!e(c,d)){o(d);return}}})()})}function w4(n){return("0"+n.toString(16)).substr(-2)}function j4(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,w4).join("")}async function N4(n){const t=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function S4(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await N4(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ei(n,e,t=!1){const i=j4();let o=i;t&&(o+="/PASSWORD_RECOVERY"),await ii(n,`${e}-code-verifier`,o);const c=await S4(i);return[c,i===c?"plain":"s256"]}const _4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function E4(n){const e=n.headers.get(rm);if(!e||!e.match(_4))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function C4(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function A4(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ti(n){if(!T4.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pf(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function k4(n,e){return new Proxy(n,{get:(t,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,o)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,o)}})}function Z0(n){return JSON.parse(JSON.stringify(n))}const Xa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),R4=[502,503,504];async function ev(n){var e;if(!y4(n))throw new am(Xa(n),0);if(R4.includes(n.status))throw new am(Xa(n),n.status);let t;try{t=await n.json()}catch(c){throw new Za(Xa(c),c)}let i;const o=E4(n);if(o&&o.getTime()>=xj["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new W0(Xa(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new zs}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new W0(Xa(t),n.status,t.weak_password.reasons);throw new i4(Xa(t),n.status||500,i)}const O4=(n,e,t,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),t))};async function Te(n,e,t,i){var o;const c=Object.assign({},i==null?void 0:i.headers);c[rm]||(c[rm]=xj["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const d=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await D4(n,e,t+h,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function D4(n,e,t,i,o,c){const d=O4(e,i,o,c);let h;try{h=await n(t,Object.assign({},d))}catch(g){throw console.error(g),new am(Xa(g),0)}if(h.ok||await ev(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(g){await ev(g)}}function qs(n){var e;let t=null;P4(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=g4(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:i},error:null}}function tv(n){const e=qs(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ya(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function M4(n){return{data:n,error:null}}function L4(n){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c}=n,d=Sa(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:i,redirect_to:o,verification_type:c},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function sv(n){return n}function P4(n){return n.access_token&&n.refresh_token&&n.expires_in}const xf=["global","local","others"];class U4{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=bj(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=xf[0]){if(xf.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${xf.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ya})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=Sa(e,["options"]),o=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:L4,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(_e(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ya})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,o,c,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},x=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:sv});if(x.error)throw x.error;const y=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(g=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);m[`${N}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(_e(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){ti(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ya})}catch(t){if(_e(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){ti(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ya})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){ti(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ya})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ti(e.userId);try{const{data:t,error:i}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:i}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _deleteFactor(e){ti(e.userId),ti(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,o,c,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},x=await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:sv});if(x.error)throw x.error;const y=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(g=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return w.length>0&&(w.forEach(_=>{const j=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(_.split(";")[1].split("=")[1]);m[`${N}Page`]=j}),m.total=parseInt(b)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(_e(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await Te(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await Te(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await Te(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}}function rv(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const si={debug:!!(globalThis&&vj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wj extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $4 extends wj{}async function I4(n,e,t){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new $4(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(si.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function B4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jj(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function H4(n){return parseInt(n,16)}function z4(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function q4(n){var e;const{chainId:t,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:g,resources:m,scheme:x,uri:y,version:b}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const w=jj(n.address),_=x?`${x}://${i}`:i,j=n.statement?`${n.statement}
`:"",N=`${_} wants you to sign in with your Ethereum account:
${w}

${j}`;let E=`URI: ${y}
Version: ${b}
Chain ID: ${t}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(E+=`
Expiration Time: ${o.toISOString()}`),h&&(E+=`
Not Before: ${h.toISOString()}`),g&&(E+=`
Request ID: ${g}`),m){let C=`
Resources:`;for(const T of m){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);C+=`
- ${T}`}E+=C}return`${N}
${E}`}class bt extends Error{constructor({message:e,code:t,cause:i,name:o}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=t}}class ou extends bt{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function V4({error:n,options:e}){var t,i,o;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=c.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new bt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new bt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new bt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new bt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new bt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new bt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new bt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Nj(d)){if(c.rp.id!==d)return new bt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new bt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function F4({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new bt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new bt({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const i=window.location.hostname;if(Nj(i)){if(t.rpId!==i)return new bt({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new bt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new bt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new bt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class G4{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Y4=new G4;function K4(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:i}=n,o=Sa(n,["challenge","user","excludeCredentials"]),c=ui(e).buffer,d=Object.assign(Object.assign({},t),{id:ui(t.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:d});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const m=i[g];h.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:ui(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return h}function W4(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,i=Sa(n,["challenge","allowCredentials"]),o=ui(e).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(t&&t.length>0){c.allowCredentials=new Array(t.length);for(let d=0;d<t.length;d++){const h=t[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:ui(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Q4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:tn(new Uint8Array(n.response.attestationObject)),clientDataJSON:tn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function X4(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,i=n.getClientExtensionResults(),o=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tn(new Uint8Array(o.authenticatorData)),clientDataJSON:tn(new Uint8Array(o.clientDataJSON)),signature:tn(new Uint8Array(o.signature)),userHandle:o.userHandle?tn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Nj(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function av(){var n,e;return!!(ss()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function J4(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ou("Browser returned unexpected credential type",e)}:{data:null,error:new ou("Empty credential response",e)}}catch(e){return{data:null,error:V4({error:e,options:n})}}}async function Z4(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new ou("Browser returned unexpected credential type",e)}:{data:null,error:new ou("Empty credential response",e)}}catch(e){return{data:null,error:F4({error:e,options:n})}}}const eO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},tO={userVerification:"preferred",hints:["security-key"]};function cu(...n){const e=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),t=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of n)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))i[c]=d;else if(t(d))i[c]=d;else if(e(d)){const h=i[c];e(h)?i[c]=cu(h,d):i[c]=cu(d)}else i[c]=d}return i}function sO(n,e){return cu(eO,n,e||{})}function rO(n,e){return cu(tO,n,e||{})}class aO{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:o},c){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!d)return{data:null,error:h};const g=o??Y4.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${i}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=sO(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:x,error:y}=await J4({publicKey:m,signal:g});return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}case"request":{const m=rO(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:x,error:y}=await Z4(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:g}));return x?{data:{factorId:e,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:x}},error:null}:{data:null,error:y}}}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new Za("Unexpected error in challenge",d)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!t)return{data:null,error:new Ql("rpId is required for WebAuthn authentication")};try{if(!av())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:o},{request:c});if(!d)return{data:null,error:h};const{webauthn:g}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:g.type,rpId:t,rpOrigins:i,credential_response:g.credential_response}})}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new Za("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!t)return{data:null,error:new Ql("rpId is required for WebAuthn registration")};try{if(!av())return{data:null,error:new Za("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(x=>{var y;return(y=x.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:h};const{data:g,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:o},{create:c});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:t,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(d){return _e(d)?{data:null,error:d}:{data:null,error:new Za("Unexpected error in register",d)}}}}B4();const nO={url:t4,storageKey:s4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:r4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function nv(n,e,t){return await t()}const ri={};class Xl{get jwks(){var e,t;return(t=(e=ri[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=ri[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ri[this.storageKey]=Object.assign(Object.assign({},ri[this.storageKey]),{cachedAt:e})}constructor(e){var t,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xl.nextInstanceID,Xl.nextInstanceID+=1,this.instanceID>0&&ss()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},nO),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new U4({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=bj(o.fetch),this.lock=o.lock||nv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ss()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=I4:this.lock=nv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new aO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:vj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=rv(this.memoryStorage)),ss()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pj}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=x4(window.location.href);let i="none";if(this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce"),ss()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),c4(c)){const g=(e=c.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return _e(t)?{error:t}:{error:new Za("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,o;try{const c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:qs}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,i,o;try{let c;if("email"in e){const{email:x,password:y,options:b}=e;let w=null,_=null;this.flowType==="pkce"&&([w,_]=await ei(this.storage,this.storageKey)),c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:w,code_challenge_method:_},xform:qs})}else if("phone"in e){const{phone:x,password:y,options:b}=e;c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:qs})}else throw new Pc("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(c){if(_e(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:d,options:h}=e;t=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tv})}else if("phone"in e){const{phone:c,password:d,options:h}=e;t=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:tv})}else throw new Pc("You must provide either an email or phone number and a password");const{data:i,error:o}=t;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,o,c,d,h,g,m,x,y,b;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:j,wallet:N,statement:E,options:C}=e;let T;if(ss())if(typeof N=="object")T=N;else{const Y=window;if("ethereum"in Y&&typeof Y.ethereum=="object"&&"request"in Y.ethereum&&typeof Y.ethereum.request=="function")T=Y.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=N}const O=new URL((t=C==null?void 0:C.url)!==null&&t!==void 0?t:window.location.href),U=await T.request({method:"eth_requestAccounts"}).then(Y=>Y).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!U||U.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=jj(U[0]);let L=(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const Y=await T.request({method:"eth_chainId"});L=H4(Y)}const P={domain:O.host,address:G,statement:E,uri:O.href,version:"1",chainId:L,nonce:(o=C==null?void 0:C.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=C==null?void 0:C.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=C==null?void 0:C.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=C==null?void 0:C.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(x=C==null?void 0:C.signInWithEthereum)===null||x===void 0?void 0:x.resources};w=q4(P),_=await T.request({method:"personal_sign",params:[z4(w),G]})}try{const{data:j,error:N}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:_},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:qs});if(N)throw N;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Zn}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:N})}catch(j){if(_e(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(e){var t,i,o,c,d,h,g,m,x,y,b,w;let _,j;if("message"in e)_=e.message,j=e.signature;else{const{chain:N,wallet:E,statement:C,options:T}=e;let O;if(ss())if(typeof E=="object")O=E;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))O=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const U=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const G=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),C?{statement:C}:null));let L;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")L=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)L=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)_=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),j=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${U.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(o=(i=T==null?void 0:T.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const G=await O.signMessage(new TextEncoder().encode(_),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=G}}try{const{data:N,error:E}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:tn(j)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:qs});if(E)throw E;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Zn}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:E})}catch(N){if(_e(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const t=await Qa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(t??"").split("/");try{const{data:c,error:d}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:qs});if(await ma(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Zn}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(_e(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:i,token:o,access_token:c,nonce:d}=e,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:qs}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Zn}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,i,o,c,d;try{if("email"in e){const{email:h,options:g}=e;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await ei(this.storage,this.storageKey));const{error:y}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=g==null?void 0:g.data)!==null&&t!==void 0?t:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:g}=e,{data:m,error:x}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:x}}throw new Pc("You must provide either an email or phone number.")}catch(h){if(_e(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,i;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:h}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:qs});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,i,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await ei(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:M4})}catch(c){if(_e(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new zs;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(_e(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:d}=await Te(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:d,error:h}=await Te(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Pc("You must provide either an email or phone number and a type")}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ff:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await Qa(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=pf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=k4(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ya}):await this._useSession(async t=>{var i,o,c;const{data:d,error:h}=t;if(h)throw h;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zs}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ya})})}catch(t){if(_e(t))return o4(t)&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new zs;const d=o.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await ei(this.storage,this.storageKey));const{data:m,error:x}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:ya});if(x)throw x;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(_e(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new zs;const t=Date.now()/1e3;let i=t,o=!0,c=null;const{payload:d}=gf(e.access_token);if(d.exp&&(i=d.exp,o=i<=t),o){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(_e(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:d,error:h}=t;if(h)throw h;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new zs;const{data:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(_e(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ss())throw new Uc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Uc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new K0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Uc("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new K0("No code detected.");const{data:C,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:h,expires_at:g,token_type:m}=e;if(!c||!h||!d||!m)throw new Uc("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let b=x+y;g&&(b=parseInt(g));const w=b-x;w*1e3<=ni&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const _=b-y;x-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,b,x):x-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,b,x);const{data:j,error:N}=await this._getUser(c);if(N)throw N;const E={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:b,refresh_token:d,token_type:m,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(i){if(_e(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{error:c};const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(l4(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=p4(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,o;try{const{data:{session:c},error:d}=t;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ei(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(_e(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:o}=await this._useSession(async c=>{var d,h,g,m,x;const{data:y,error:b}=c;if(b)throw b;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",w,{headers:this.headers,jwt:(x=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return ss()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(_e(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:o,data:{session:c}}=t;if(o)throw o;const{options:d,provider:h,token:g,access_token:m,nonce:x}=e,y=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c==null?void 0:c.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:g,access_token:m,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:qs}),{data:b,error:w}=y;return w?{data:{user:null,session:null},error:w}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new Zn}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:w})}catch(o){if(_e(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:d}=t;if(d)throw d;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await b4(async o=>(o>0&&await v4(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:qs})),(o,c)=>{const d=200*Math.pow(2,o);return c&&mf(c)&&Date.now()+d-i<ni})}catch(i){if(this._debug(t,"error",i),_e(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),ss()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Qa(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await ii(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:pf()}else if(o&&!o.user&&!o.user){const d=await Qa(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await ma(this.storage,this.storageKey+"-user"),await ii(this.storage,this.storageKey,o)):o.user=pf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ff;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${ff}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),mf(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new zs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Cu;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new zs;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),_e(c)){const d={data:null,error:c};return mf(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(g){c.push(g)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await ii(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=Z0(o);await ii(this.storage,this.storageKey,c)}else{const o=Z0(t);await ii(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ma(this.storage,this.storageKey),await ma(this.storage,this.storageKey+"-code-verifier"),await ma(this.storage,this.storageKey+"-user"),this.userStorage&&await ma(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ss()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ni);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/ni);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ni}ms, refresh threshold is ${sm} ticks`),o<=sm&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wj)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ss()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const o=[`provider=${encodeURIComponent(t)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,d]=await ei(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;return c?{data:null,error:c}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,o;const{data:c,error:d}=t;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:m}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Q4(e.webauthn.credential_response):X4(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:o,error:c}=t;if(c)return{data:null,error:c};const d=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:K4(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:W4(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(_e(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:o}=await this.getSession();if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=gf(i.access_token);let d=null;c.aal&&(d=c.aal);let h=d;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(h="aal2");const m=c.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:o}=t;return o?{data:null,error:o}:i?await Te(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):{data:null,error:new zs}})}catch(t){if(_e(t))return{data:null,error:t};throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return{data:null,error:c};if(!o)return{data:null,error:new zs};const d=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&ss()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:o},error:c}=i;if(c)return{data:null,error:c};if(!o)return{data:null,error:new zs};const d=await Te(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&ss()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(i){if(_e(i))return{data:null,error:i};throw i}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+n4>o)return i;const{data:c,error:d}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:w,error:_}=await this.getSession();if(_||!w.session)return{data:null,error:_};i=w.session.access_token}const{header:o,payload:c,signature:d,raw:{header:h,payload:g}}=gf(i);t!=null&&t.allowExpired||C4(c.exp);const m=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!m){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:c,header:o,signature:d},error:null}}const x=A4(o.alg),y=await crypto.subtle.importKey("jwk",m,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,m4(`${h}.${g}`)))throw new nm("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(i){if(_e(i))return{data:null,error:i};throw i}}}Xl.nextInstanceID=0;const iO=Xl;class lO extends iO{constructor(e){super(e)}}class oO{constructor(e,t,i){var o,c,d;this.supabaseUrl=e,this.supabaseKey=t;const h=e4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:GR,realtime:KR,auth:Object.assign(Object.assign({},YR),{storageKey:g}),global:FR},x=ZR(i??{},m);this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,x.global.fetch),this.fetch=XR(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new tR(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new zR(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Gk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:c,storageKey:d,flowType:h,lock:g,debug:m},x,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lO({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),x),storageKey:d,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:o,userStorage:c,flowType:h,lock:g,debug:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new yR(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cO=(n,e,t)=>new oO(n,e,t);function uO(){if(typeof window<"u"||typeof process>"u")return!1;const n=process.version;if(n==null)return!1;const e=n.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}uO()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dO="YOUR_SUPABASE_URL",hO="YOUR_SUPABASE_ANON_KEY",ue=cO(dO,hO,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},db:{schema:"public"},global:{headers:{"x-application-name":"usahudhomes"}}}),xe={PROPERTIES:"properties",CUSTOMERS:"customers",AGENTS:"agents",CONSULTATIONS:"consultations",LEADS:"leads",ACTIVITIES:"activities",CUSTOMER_EVENTS:"customer_events"},fO=n=>(console.error("Supabase Error:",n),{success:!1,error:n.message||"Database operation failed",details:n}),qe=(n,e)=>e?fO(e):{success:!0,data:n||[]};class mO{async getAllProperties(e={}){try{let t=ue.from(xe.PROPERTIES).select("*").eq("is_active",!0).order("created_at",{ascending:!1});e.state&&(t=t.eq("state",e.state)),e.city&&(t=t.ilike("city",`%${e.city}%`)),e.status&&(t=t.eq("status",e.status)),e.minPrice&&(t=t.gte("price",e.minPrice)),e.maxPrice&&(t=t.lte("price",e.maxPrice)),e.beds&&(t=t.gte("beds",e.beds)),e.baths&&(t=t.gte("baths",e.baths));const{data:i,error:o}=await t;return qe(i,o)}catch(t){return console.error("Error fetching properties:",t),{success:!1,error:t.message,data:[]}}}async getPropertyByCaseNumber(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).select("*").eq("case_number",e).eq("is_active",!0).single();return qe(t,i)}catch(t){return console.error("Error fetching property:",t),{success:!1,error:t.message,data:null}}}async getPropertyById(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).select("*").eq("id",e).single();return qe(t,i)}catch(t){return console.error("Error fetching property:",t),{success:!1,error:t.message,data:null}}}async getPropertyByCaseNumber(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).select("*").eq("case_number",e).eq("is_active",!0).single();return qe(t,i)}catch(t){return console.error("Error fetching property by case number:",t),{success:!1,error:t.message,data:null}}}async searchProperties(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).select("*").eq("is_active",!0).or(`address.ilike.%${e}%,city.ilike.%${e}%,county.ilike.%${e}%,case_number.ilike.%${e}%`).order("price",{ascending:!1});return qe(t,i)}catch(t){return console.error("Error searching properties:",t),{success:!1,error:t.message,data:[]}}}async addProperty(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).insert([{case_number:e.case_number||e.caseNumber,address:e.address,city:e.city,state:e.state,zip_code:e.zip_code||e.zipCode,county:e.county,price:e.price,beds:e.beds,baths:e.baths,sq_ft:e.sq_ft||e.sqFt,lot_size:e.lot_size||e.lotSize,year_built:e.year_built||e.yearBuilt,status:e.status||"AVAILABLE",property_type:e.property_type||e.propertyType||"Single Family",description:e.description,features:e.features||[],images:e.images||[],main_image:e.main_image||e.mainImage,bid_deadline:e.bid_deadline||e.bidDeadline,is_active:!0}]).select();return i?(console.error("Supabase insert error:",i),{success:!1,error:i.message,data:null}):{success:!0,data:t&&t.length>0?t[0]:null}}catch(t){return console.error("Error adding property:",t),{success:!1,error:t.message,data:null}}}async updateProperty(e,t){try{const i={};(t.case_number||t.caseNumber)&&(i.case_number=t.case_number||t.caseNumber),t.address&&(i.address=t.address),t.city&&(i.city=t.city),t.state&&(i.state=t.state),(t.zip_code||t.zipCode)&&(i.zip_code=t.zip_code||t.zipCode),t.county&&(i.county=t.county),t.price!==void 0&&(i.price=t.price),t.beds!==void 0&&(i.beds=t.beds),t.baths!==void 0&&(i.baths=t.baths),(t.sq_ft!==void 0||t.sqFt!==void 0)&&(i.sq_ft=t.sq_ft||t.sqFt),(t.lot_size||t.lotSize)&&(i.lot_size=t.lot_size||t.lotSize),(t.year_built||t.yearBuilt)&&(i.year_built=t.year_built||t.yearBuilt),t.status&&(i.status=t.status),(t.property_type||t.propertyType)&&(i.property_type=t.property_type||t.propertyType),t.description!==void 0&&(i.description=t.description),t.features&&(i.features=t.features),t.images&&(i.images=t.images),(t.main_image||t.mainImage)&&(i.main_image=t.main_image||t.mainImage),(t.bid_deadline||t.bidDeadline)&&(i.bid_deadline=t.bid_deadline||t.bidDeadline),(t.is_active!==void 0||t.isActive!==void 0)&&(i.is_active=t.is_active!==void 0?t.is_active:t.isActive),i.updated_at=new Date().toISOString();const{data:o,error:c}=await ue.from(xe.PROPERTIES).update(i).eq("id",e).select();return c?(console.error("Supabase update error:",c),{success:!1,error:c.message,data:null}):!o||o.length===0?{success:!1,error:"Property not found",data:null}:{success:!0,data:o[0]}}catch(i){return console.error("Error updating property:",i),{success:!1,error:i.message,data:null}}}async deleteProperty(e){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",e).select();return i?(console.error("Supabase delete error:",i),{success:!1,error:i.message,data:null}):!t||t.length===0?{success:!1,error:"Property not found",data:null}:{success:!0,data:t[0]}}catch(t){return console.error("Error deleting property:",t),{success:!1,error:t.message,data:null}}}async getPropertyStats(){try{const{data:e,error:t}=await ue.from(xe.PROPERTIES).select("price, status").eq("is_active",!0);if(t)throw t;return{success:!0,data:{total:e.length,averagePrice:e.length>0?e.reduce((o,c)=>o+parseFloat(c.price),0)/e.length:0,bidsOpen:e.filter(o=>o.status==="BIDS OPEN").length,priceReduced:e.filter(o=>o.status==="PRICE REDUCED").length,available:e.filter(o=>o.status==="AVAILABLE").length}}}catch(e){return console.error("Error getting property stats:",e),{success:!1,error:e.message,data:null}}}async getPropertiesByState(e){return this.getAllProperties({state:e})}async getFeaturedProperties(e=6){try{const{data:t,error:i}=await ue.from(xe.PROPERTIES).select("*").eq("is_active",!0).order("created_at",{ascending:!1}).limit(e);return qe(t,i)}catch(t){return console.error("Error fetching featured properties:",t),{success:!1,error:t.message,data:[]}}}}const Wt=new mO;class gO{async getAllCustomers(e={}){try{let t=ue.from(xe.CUSTOMERS).select("*").eq("is_active",!0).eq("is_deleted",!1).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.state&&(t=t.eq("state",e.state));const{data:i,error:o}=await t;return qe(i,o)}catch(t){return console.error("Error fetching customers:",t),{success:!1,error:t.message,data:[]}}}async getCustomerById(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).select("*").eq("id",e).single();return qe(t,i)}catch(t){return console.error("Error fetching customer:",t),{success:!1,error:t.message,data:null}}}async getCustomerByEmail(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).select("*").eq("email",e).eq("is_active",!0);return!t||t.length===0?{success:!1,error:"Customer not found",data:null}:i?(console.error("Supabase error:",i),{success:!1,error:i.message,data:null}):{success:!0,data:t[0]}}catch(t){return console.error("Error fetching customer:",t),{success:!1,error:t.message,data:null}}}async searchCustomers(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).select("*").eq("is_active",!0).or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%,phone.ilike.%${e}%`).order("created_at",{ascending:!1});return qe(t,i)}catch(t){return console.error("Error searching customers:",t),{success:!1,error:t.message,data:[]}}}async addCustomer(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).insert([{first_name:e.firstName||e.first_name,last_name:e.lastName||e.last_name,email:e.email,phone:e.phone,address:e.address,city:e.city,state:e.state,zip_code:e.zipCode||e.zip_code,status:e.status||"new",lead_source:e.leadSource||e.lead_source,notes:e.notes,tags:e.tags||[],is_active:!0}]).select();return i?(console.error("Supabase insert error:",i),{success:!1,error:i.message,data:null}):{success:!0,data:t&&t.length>0?t[0]:null}}catch(t){return console.error("Error adding customer:",t),{success:!1,error:t.message,data:null}}}async updateCustomer(e,t){try{const i={};(t.firstName||t.first_name)&&(i.first_name=t.firstName||t.first_name),(t.lastName||t.last_name)&&(i.last_name=t.lastName||t.last_name),t.email&&(i.email=t.email),t.phone&&(i.phone=t.phone),t.address&&(i.address=t.address),t.city&&(i.city=t.city),t.state&&(i.state=t.state),(t.zipCode||t.zip_code)&&(i.zip_code=t.zipCode||t.zip_code),t.status&&(i.status=t.status),(t.leadSource||t.lead_source)&&(i.lead_source=t.leadSource||t.lead_source),t.notes&&(i.notes=t.notes),t.tags&&(i.tags=t.tags),(t.isActive!==void 0||t.is_active!==void 0)&&(i.is_active=t.isActive!==void 0?t.isActive:t.is_active),i.updated_at=new Date().toISOString();const{data:o,error:c}=await ue.from(xe.CUSTOMERS).update(i).eq("id",e).select();return c?(console.error("Supabase update error:",c),{success:!1,error:c.message,data:null}):!o||o.length===0?{success:!1,error:"Customer not found",data:null}:{success:!0,data:o[0]}}catch(i){return console.error("Error updating customer:",i),{success:!1,error:i.message,data:null}}}async deleteCustomer(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).update({is_deleted:!0,deleted_at:new Date().toISOString(),is_active:!1,updated_at:new Date().toISOString()}).eq("id",e).select();return i?(console.error("Supabase soft delete error:",i),{success:!1,error:i.message,data:null}):!t||t.length===0?{success:!1,error:"Customer not found",data:null}:{success:!0,data:t[0]}}catch(t){return console.error("Error soft deleting customer:",t),{success:!1,error:t.message,data:null}}}async deleteCustomerWithReferences(e){try{console.log("Starting cascade delete for customer:",e);let t;if(e.includes("@")){const x=await this.getCustomerByEmail(e);if(!x.success)return{success:!1,error:"Customer not found",data:null};t=x.data}else{const x=await this.getCustomerById(e);if(!x.success)return{success:!1,error:"Customer not found",data:null};t=x.data}const i=t.id;console.log("Found customer to delete:",i);const{data:o,error:c}=await ue.from(xe.CONSULTATIONS).select("id").eq("customer_id",i);if(c)return console.error("Error fetching consultations:",c),{success:!1,error:c.message,data:null};const d=(o==null?void 0:o.map(x=>x.id))||[];console.log(`Found ${d.length} consultations to delete`);let h=0;if(d.length>0){const{error:x,count:y}=await ue.from(xe.ACTIVITIES).delete().in("consultation_id",d);x?console.warn("Error deleting activities:",x):(h=y||0,console.log(`Deleted ${h} activities`))}let g=0;if(d.length>0){const{error:x,count:y}=await ue.from(xe.CONSULTATIONS).delete().eq("customer_id",i);if(x)return console.error("Error deleting consultations:",x),{success:!1,error:x.message,data:null};g=y||d.length,console.log(`Deleted ${g} consultations`)}const{error:m}=await ue.from(xe.CUSTOMERS).delete().eq("id",i);return m?(console.error("Error deleting customer:",m),{success:!1,error:m.message,data:null}):(console.log("Customer deleted successfully"),{success:!0,data:{customerId:i,customerName:`${t.first_name} ${t.last_name}`,customerEmail:t.email,consultationsDeleted:g,activitiesDeleted:h,message:`Successfully deleted customer and ${g} consultation(s)`}})}catch(t){return console.error("Error in cascade delete:",t),{success:!1,error:t.message,data:null}}}async restoreCustomer(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMERS).update({is_deleted:!1,deleted_at:null,is_active:!0,updated_at:new Date().toISOString()}).eq("id",e).select();return i?(console.error("Supabase restore error:",i),{success:!1,error:i.message,data:null}):!t||t.length===0?{success:!1,error:"Customer not found",data:null}:{success:!0,data:t[0]}}catch(t){return console.error("Error restoring customer:",t),{success:!1,error:t.message,data:null}}}async getDeletedCustomers(){try{const{data:e,error:t}=await ue.from(xe.CUSTOMERS).select("*").eq("is_deleted",!0).order("deleted_at",{ascending:!1});return qe(e,t)}catch(e){return console.error("Error fetching deleted customers:",e),{success:!1,error:e.message,data:[]}}}async getCustomerStats(){try{const{data:e,error:t}=await ue.from(xe.CUSTOMERS).select("status, created_at").eq("is_active",!0);if(t)throw t;const i=new Date,o=new Date(i.getTime()-7*24*60*60*1e3);return{success:!0,data:{total:e.length,thisWeek:e.filter(d=>new Date(d.created_at)>=o).length,new:e.filter(d=>d.status==="new").length,active:e.filter(d=>d.status==="active").length,closed:e.filter(d=>d.status==="closed").length}}}catch(e){return console.error("Error getting customer stats:",e),{success:!1,error:e.message,data:null}}}}const vs=new gO,pO=Object.freeze(Object.defineProperty({__proto__:null,customerService:vs},Symbol.toStringTag,{value:"Module"}));class xO{async getAllAgents(e={}){try{let t=ue.from(xe.AGENTS).select("*").eq("is_active",!0).order("created_at",{ascending:!1});e.state&&(t=t.contains("states_covered",[e.state]));const{data:i,error:o}=await t;return qe(i,o)}catch(t){return console.error("Error fetching agents:",t),{success:!1,error:t.message,data:[]}}}async getAgentById(e){try{const{data:t,error:i}=await ue.from(xe.AGENTS).select("*").eq("id",e).single();return qe(t,i)}catch(t){return console.error("Error fetching agent:",t),{success:!1,error:t.message,data:null}}}async getAgentByEmail(e){try{const{data:t,error:i}=await ue.from(xe.AGENTS).select("*").eq("email",e).eq("is_active",!0).single();return qe(t,i)}catch(t){return console.error("Error fetching agent:",t),{success:!1,error:t.message,data:null}}}async searchAgents(e){try{const{data:t,error:i}=await ue.from(xe.AGENTS).select("*").eq("is_active",!0).or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%,company.ilike.%${e}%`).order("created_at",{ascending:!1});return qe(t,i)}catch(t){return console.error("Error searching agents:",t),{success:!1,error:t.message,data:[]}}}async addAgent(e){try{const{data:t,error:i}=await ue.from(xe.AGENTS).insert([{first_name:e.firstName,last_name:e.lastName,email:e.email,phone:e.phone,company:e.company,license_number:e.licenseNumber,license_state:e.licenseState,specialties:e.specialties||[],states_covered:e.statesCovered||[],years_experience:e.yearsExperience,bio:e.bio,profile_image:e.profileImage,is_admin:e.isAdmin||!1,is_active:!0,total_listings:0,total_sales:0}]).select().single();return qe(t,i)}catch(t){return console.error("Error adding agent:",t),{success:!1,error:t.message,data:null}}}async updateAgent(e,t){try{const i={};t.firstName&&(i.first_name=t.firstName),t.lastName&&(i.last_name=t.lastName),t.email&&(i.email=t.email),t.phone&&(i.phone=t.phone),t.company&&(i.company=t.company),t.licenseNumber&&(i.license_number=t.licenseNumber),t.licenseState&&(i.license_state=t.licenseState),t.specialties&&(i.specialties=t.specialties),t.statesCovered&&(i.states_covered=t.statesCovered),t.yearsExperience!==void 0&&(i.years_experience=t.yearsExperience),t.bio&&(i.bio=t.bio),t.profileImage&&(i.profile_image=t.profileImage),t.isAdmin!==void 0&&(i.is_admin=t.isAdmin),t.isActive!==void 0&&(i.is_active=t.isActive),t.totalListings!==void 0&&(i.total_listings=t.totalListings),t.totalSales!==void 0&&(i.total_sales=t.totalSales);const{data:o,error:c}=await ue.from(xe.AGENTS).update(i).eq("id",e).select().single();return qe(o,c)}catch(i){return console.error("Error updating agent:",i),{success:!1,error:i.message,data:null}}}async deleteAgent(e){try{const{data:t,error:i}=await ue.from(xe.AGENTS).update({is_active:!1}).eq("id",e).select().single();return qe(t,i)}catch(t){return console.error("Error deleting agent:",t),{success:!1,error:t.message,data:null}}}async getAgentStats(){try{const{data:e,error:t}=await ue.from(xe.AGENTS).select("total_listings, total_sales, is_active").eq("is_active",!0);if(t)throw t;return{success:!0,data:{total:e.length,active:e.filter(o=>o.is_active).length,totalListings:e.reduce((o,c)=>o+(c.total_listings||0),0),totalSales:e.reduce((o,c)=>o+(c.total_sales||0),0)}}}catch(e){return console.error("Error getting agent stats:",e),{success:!1,error:e.message,data:null}}}async getAgentsByState(e){return this.getAllAgents({state:e})}}const bs=new xO,yO=Object.freeze(Object.defineProperty({__proto__:null,agentService:bs},Symbol.toStringTag,{value:"Module"}));async function vO(n){console.log("=== NOTIFICATION SERVICE CALLED ==="),console.log("Consultation data received:",JSON.stringify(n,null,2));try{console.log("Attempting to send notification...");const e={customer_name:n.customer_name,customer_email:n.customer_email,customer_phone:n.customer_phone,case_number:n.case_number,property_address:n.property_address,state:n.state,message:n.message};console.log("API payload:",JSON.stringify(e,null,2)),console.log("Calling /api/send-notification...");const t=await fetch("/api/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(console.log("API response status:",t.status),console.log("API response ok:",t.ok),!t.ok){const o=await t.text();console.error("Notification API error response:",o);try{const c=JSON.parse(o);console.error("Notification API error (parsed):",c)}catch{console.error("Could not parse error as JSON")}return!1}const i=await t.json();return console.log(" Notification sent successfully!",i),!0}catch(e){return console.error(" ERROR sending notification:",e),console.error("Error details:",{name:e.name,message:e.message,stack:e.stack}),!1}}class bO{async assignConsultationToAgent(e,t=null){var i;try{if(!t){const{data:g}=await ue.from(xe.CONSULTATIONS).select("*, properties(state)").eq("id",e).single();if(!g)return{success:!1,error:"Consultation not found"};const m=((i=g.properties)==null?void 0:i.state)||g.state,x=await this.findAvailableAgent(m);if(!x)return{success:!1,error:"No available agents found for this state"};t=x.id}const o=new Date().toISOString(),c=new Date(Date.now()+48*60*60*1e3).toISOString(),{data:d,error:h}=await ue.from(xe.CONSULTATIONS).update({agent_id:t,assigned_at:o,referral_expires_at:c,status:"referred"}).eq("id",e).select("*, agents(*)").single();if(h)throw h;return await this.logReferralActivity(e,t,"assigned"),qe(d,null)}catch(o){return console.error("Error assigning consultation:",o),{success:!1,error:o.message,data:null}}}async findAvailableAgent(e){try{const t=await bs.getAgentsByState(e);return!t.success||!t.data||t.data.length===0?null:t.data[0]}catch(t){return console.error("Error finding available agent:",t),null}}async acceptReferral(e,t){try{const i=new Date().toISOString(),{data:o,error:c}=await ue.from(xe.CONSULTATIONS).update({accepted_at:i,status:"accepted"}).eq("id",e).eq("agent_id",t).select().single();if(c)throw c;if(await this.logReferralActivity(e,t,"accepted"),o&&o.customer_id){const{eventService:d}=await Ht(async()=>{const{eventService:m}=await Promise.resolve().then(()=>xi);return{eventService:m}},void 0),h=await bs.getAgentById(t),g=h.success&&h.data?`${h.data.first_name} ${h.data.last_name}`:"Unknown Agent";d.logReferralAccepted(o.customer_id,e,t,g).catch(m=>console.error("Failed to log referral accepted event:",m))}return qe(o,null)}catch(i){return console.error("Error accepting referral:",i),{success:!1,error:i.message,data:null}}}async declineReferral(e,t,i,o=null){try{const c=new Date().toISOString(),{data:d,error:h}=await ue.from(xe.CONSULTATIONS).update({declined_at:c,decline_reason:i,decline_notes:o,status:"declined"}).eq("id",e).eq("agent_id",t).select().single();if(h)throw h;return await this.logReferralActivity(e,t,"declined",{reason:i,notes:o}),await this.reassignConsultation(e),qe(d,null)}catch(c){return console.error("Error declining referral:",c),{success:!1,error:c.message,data:null}}}async reassignConsultation(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).update({agent_id:null,assigned_at:null,referral_expires_at:null,status:"pending"}).eq("id",e).select().single();if(i)throw i;return await this.assignConsultationToAgent(e)}catch(t){return console.error("Error reassigning consultation:",t),{success:!1,error:t.message,data:null}}}async processExpiredReferrals(){try{const e=new Date().toISOString(),{data:t,error:i}=await ue.from(xe.CONSULTATIONS).select("*").eq("status","referred").lt("referral_expires_at",e).is("accepted_at",null);if(i)throw i;if(!t||t.length===0)return{success:!0,data:{expired:0,reassigned:0}};let o=0;for(const c of t)await ue.from(xe.CONSULTATIONS).update({expired_at:e,status:"expired"}).eq("id",c.id),await this.logReferralActivity(c.id,c.agent_id,"expired"),(await this.reassignConsultation(c.id)).success&&o++;return{success:!0,data:{expired:t.length,reassigned:o}}}catch(e){return console.error("Error processing expired referrals:",e),{success:!1,error:e.message,data:null}}}async getAgentConsultations(e,t=null){try{let i=ue.from(xe.CONSULTATIONS).select("*, customers(*), properties(*)").eq("agent_id",e).order("assigned_at",{ascending:!1});t&&(i=i.eq("status",t));const{data:o,error:c}=await i;return qe(o,c)}catch(i){return console.error("Error fetching agent consultations:",i),{success:!1,error:i.message,data:[]}}}async getPendingReferrals(e){return this.getAgentConsultations(e,"referred")}async getAcceptedConsultations(e){return this.getAgentConsultations(e,"accepted")}async updateConsultationOutcome(e,t,i=null){try{const{data:o,error:c}=await ue.from(xe.CONSULTATIONS).update({outcome:t,outcome_notes:i,updated_at:new Date().toISOString()}).eq("id",e).select().single();return qe(o,c)}catch(o){return console.error("Error updating consultation outcome:",o),{success:!1,error:o.message,data:null}}}async logReferralActivity(e,t,i,o={}){try{const{data:c,error:d}=await ue.from(xe.ACTIVITIES).insert([{consultation_id:e,agent_id:t,activity_type:`referral_${i}`,description:`Referral ${i}`,metadata:o}]).select().single();return qe(c,d)}catch(c){return console.error("Error logging activity:",c),{success:!1,error:c.message,data:null}}}async getAgentReferralStats(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).select("status, outcome").eq("agent_id",e);if(i)throw i;return{success:!0,data:{total:t.length,pending:t.filter(c=>c.status==="referred").length,accepted:t.filter(c=>c.status==="accepted").length,declined:t.filter(c=>c.status==="declined").length,expired:t.filter(c=>c.status==="expired").length,sold:t.filter(c=>c.outcome==="sold").length,lost:t.filter(c=>c.outcome==="lost").length,inProgress:t.filter(c=>c.outcome==="in_progress").length}}}catch(t){return console.error("Error getting agent referral stats:",t),{success:!1,error:t.message,data:null}}}async createReferral({consultation_id:e,agent_id:t,status:i="referred"}){console.log("createReferral called with:",{consultation_id:e,agent_id:t,status:i});try{const o=await this.assignConsultationToAgent(e,t);return console.log("assignConsultationToAgent result:",o),o}catch(o){return console.error("Error in createReferral:",o),{success:!1,error:o.message,data:null}}}}const Au=new bO,wO=Object.freeze(Object.defineProperty({__proto__:null,referralService:Au},Symbol.toStringTag,{value:"Module"}));var jO={};class NO{async autoAssignConsultation(e){var t,i;try{console.log(" Auto-assigning consultation to agent..."),console.log("   Consultation ID:",e.id),console.log("   State:",e.state||"Not specified");const o=await Au.assignConsultationToAgent(e.id);return o.success?(console.log(" Consultation auto-assigned successfully!"),console.log("   Agent:",(t=o.data.agents)==null?void 0:t.first_name,(i=o.data.agents)==null?void 0:i.last_name),console.log("   Expires:",o.data.referral_expires_at)):console.log("  Auto-assignment failed:",o.error),o}catch(o){return console.error(" Error in auto-assignment:",o),{success:!1,error:o.message}}}isAutoAssignEnabled(){return jO.VITE_AUTO_ASSIGN_ENABLED!=="false"}}const iv=new NO;class SO{async getAllConsultations(e={}){try{let t=ue.from(xe.CONSULTATIONS).select(`
          *,
          customer:customers(*),
          property:properties(*),
          agent:agents(*)
        `).eq("is_deleted",!1).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.customerId&&(t=t.eq("customer_id",e.customerId)),e.propertyId&&(t=t.eq("property_id",e.propertyId));const{data:i,error:o}=await t;return qe(i,o)}catch(t){return console.error("Error fetching consultations:",t),{success:!1,error:t.message,data:[]}}}async getConsultationById(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).select(`
          *,
          customer:customers(*),
          property:properties(*),
          agent:agents(*)
        `).eq("id",e).single();return qe(t,i)}catch(t){return console.error("Error fetching consultation:",t),{success:!1,error:t.message,data:null}}}async addConsultation(e){try{let t=e.customerId;if(!t&&e.customerEmail){console.log("No customerId provided, checking for existing customer...");const{customerService:d}=await Ht(async()=>{const{customerService:g}=await Promise.resolve().then(()=>pO);return{customerService:g}},void 0),h=await d.getCustomerByEmail(e.customerEmail);if(h.success&&h.data)t=h.data.id,console.log("Found existing customer:",t);else{console.log("Creating new customer profile...");const g=(e.customerName||"").split(" "),m=g[0]||"",x=g.slice(1).join(" ")||"",y=await d.addCustomer({first_name:m,last_name:x,email:e.customerEmail,phone:e.customerPhone,state:e.state,status:"new",lead_source:"website",notes:e.message||"Lead from consultation form"});y.success&&y.data?(t=y.data.id,console.log("Created new customer:",t)):console.error("Failed to create customer:",y.error)}}const{data:i,error:o}=await ue.from(xe.CONSULTATIONS).insert([{customer_id:t,property_id:e.propertyId,agent_id:e.agentId,case_number:e.caseNumber,consultation_type:e.consultationType||"property_inquiry",status:e.status||"pending",scheduled_date:e.scheduledDate,notes:e.notes,customer_name:e.customerName,customer_email:e.customerEmail,customer_phone:e.customerPhone,message:e.message}]).select();if(o)return console.error("Supabase insert error:",o),{success:!1,error:o.message,data:null};const c=i&&i.length>0?i[0]:null;if(console.log("Consultation data for notification:",c),c){if(t){const{eventService:d}=await Ht(async()=>{const{eventService:h}=await Promise.resolve().then(()=>xi);return{eventService:h}},void 0);d.logConsultationCreated(t,c.id,{type:c.consultation_type,caseNumber:c.case_number,message:c.message}).catch(h=>console.error("Failed to log consultation created event:",h))}console.log("Calling sendConsultationNotification..."),vO(c).then(d=>{console.log("Notification result:",d?"SUCCESS":"FAILED")}).catch(d=>{console.error("Failed to send notification:",d)}),iv.isAutoAssignEnabled()&&iv.autoAssignConsultation(c).then(d=>{console.log("Auto-assignment result:",d.success?"SUCCESS":"FAILED")}).catch(d=>{console.error("Failed to auto-assign:",d)})}else console.warn("No consultation data to send notification for");return{success:!0,data:c}}catch(t){return console.error("Error adding consultation:",t),{success:!1,error:t.message,data:null}}}async updateConsultation(e,t){try{const{data:i}=await ue.from(xe.CONSULTATIONS).select("*").eq("id",e).single(),o={};t.status&&(o.status=t.status),t.scheduledDate&&(o.scheduled_date=t.scheduledDate),t.notes&&(o.notes=t.notes),t.agentId&&(o.agent_id=t.agentId),t.agent_id&&(o.agent_id=t.agent_id),t.consultation_type&&(o.consultation_type=t.consultation_type),t.case_number!==void 0&&(o.case_number=t.case_number),t.message!==void 0&&(o.message=t.message);const{data:c,error:d}=await ue.from(xe.CONSULTATIONS).update(o).eq("id",e).select();if(d)return console.error("Supabase update error:",d),{success:!1,error:d.message,data:null};if(!c||c.length===0)return{success:!1,error:"Consultation not found",data:null};const h=c[0];if(i&&h.customer_id){const{eventService:g}=await Ht(async()=>{const{eventService:m}=await Promise.resolve().then(()=>xi);return{eventService:m}},void 0);if(i.agent_id!==h.agent_id&&h.agent_id){const{agentService:m}=await Ht(async()=>{const{agentService:b}=await Promise.resolve().then(()=>yO);return{agentService:b}},void 0),x=await m.getAgentById(h.agent_id),y=x.success&&x.data?`${x.data.first_name} ${x.data.last_name}`:"Unknown Agent";g.logConsultationAssigned(h.customer_id,h.id,h.agent_id,y).catch(b=>console.error("Failed to log assignment event:",b))}i.status!==h.status&&g.logStatusChanged(h.customer_id,h.id,h.agent_id,i.status,h.status).catch(m=>console.error("Failed to log status change event:",m))}return{success:!0,data:h}}catch(i){return console.error("Error updating consultation:",i),{success:!1,error:i.message,data:null}}}async deleteConsultation(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).update({is_deleted:!0,deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",e).select();return i?(console.error("Supabase soft delete error:",i),{success:!1,error:i.message,data:null}):!t||t.length===0?{success:!1,error:"Consultation not found",data:null}:{success:!0,data:t[0]}}catch(t){return console.error("Error soft deleting consultation:",t),{success:!1,error:t.message,data:null}}}async restoreConsultation(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).update({is_deleted:!1,deleted_at:null,updated_at:new Date().toISOString()}).eq("id",e).select();return i?(console.error("Supabase restore error:",i),{success:!1,error:i.message,data:null}):!t||t.length===0?{success:!1,error:"Consultation not found",data:null}:{success:!0,data:t[0]}}catch(t){return console.error("Error restoring consultation:",t),{success:!1,error:t.message,data:null}}}async getDeletedConsultations(){try{const{data:e,error:t}=await ue.from(xe.CONSULTATIONS).select(`
          *,
          customer:customers(*),
          property:properties(*),
          agent:agents(*)
        `).eq("is_deleted",!0).order("deleted_at",{ascending:!1});return qe(e,t)}catch(e){return console.error("Error fetching deleted consultations:",e),{success:!1,error:e.message,data:[]}}}async getConsultationStats(){try{const{data:e,error:t}=await ue.from(xe.CONSULTATIONS).select("status");if(t)throw t;return{success:!0,data:{total:e.length,pending:e.filter(o=>o.status==="pending").length,scheduled:e.filter(o=>o.status==="scheduled").length,completed:e.filter(o=>o.status==="completed").length,cancelled:e.filter(o=>o.status==="cancelled").length}}}catch(e){return console.error("Error getting consultation stats:",e),{success:!1,error:e.message,data:null}}}async getAllLeads(e={}){try{let t=ue.from(xe.LEADS).select(`
          *,
          customer:customers(*),
          property:properties(*),
          agent:agents(*)
        `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.priority&&(t=t.eq("priority",e.priority)),e.customerId&&(t=t.eq("customer_id",e.customerId));const{data:i,error:o}=await t;return qe(i,o)}catch(t){return console.error("Error fetching leads:",t),{success:!1,error:t.message,data:[]}}}async addLead(e){try{const{data:t,error:i}=await ue.from(xe.LEADS).insert([{customer_id:e.customerId,property_id:e.propertyId,agent_id:e.agentId,status:e.status||"new",priority:e.priority||"medium",source:e.source,notes:e.notes,follow_up_date:e.followUpDate}]).select().single();return qe(t,i)}catch(t){return console.error("Error adding lead:",t),{success:!1,error:t.message,data:null}}}async updateLead(e,t){try{const i={};t.status&&(i.status=t.status),t.priority&&(i.priority=t.priority),t.notes&&(i.notes=t.notes),t.followUpDate&&(i.follow_up_date=t.followUpDate),t.agentId&&(i.agent_id=t.agentId);const{data:o,error:c}=await ue.from(xe.LEADS).update(i).eq("id",e).select().single();return qe(o,c)}catch(i){return console.error("Error updating lead:",i),{success:!1,error:i.message,data:null}}}async deleteLead(e){try{const{data:t,error:i}=await ue.from(xe.LEADS).delete().eq("id",e).select().single();return qe(t,i)}catch(t){return console.error("Error deleting lead:",t),{success:!1,error:t.message,data:null}}}async getLeadStats(){try{const{data:e,error:t}=await ue.from(xe.LEADS).select("status, priority");if(t)throw t;return{success:!0,data:{total:e.length,new:e.filter(o=>o.status==="new").length,contacted:e.filter(o=>o.status==="contacted").length,qualified:e.filter(o=>o.status==="qualified").length,converted:e.filter(o=>o.status==="converted").length,highPriority:e.filter(o=>o.priority==="high").length}}}catch(e){return console.error("Error getting lead stats:",e),{success:!1,error:e.message,data:null}}}async getBrokerConsultations(e,t={}){try{let i=ue.from(xe.CONSULTATIONS).select(`
          *,
          customer:customers(*),
          property:properties(*)
        `).eq("agent_id",e).eq("is_deleted",!1).order("created_at",{ascending:!1});t.status&&(i=i.eq("status",t.status));const{data:o,error:c}=await i;return qe(o,c)}catch(i){return console.error("Error fetching broker consultations:",i),{success:!1,error:i.message,data:[]}}}async getPendingReferrals(e){try{const{data:t,error:i}=await ue.from(xe.CONSULTATIONS).select(`
          *,
          customer:customers(*),
          property:properties(*)
        `).eq("agent_id",e).eq("status","referred").eq("is_deleted",!1).order("referred_at",{ascending:!0});return qe(t,i)}catch(t){return console.error("Error fetching pending referrals:",t),{success:!1,error:t.message,data:[]}}}async assignToBroker(e,t,i=24){try{const{data:o,error:c}=await ue.rpc("assign_consultation_to_broker",{p_consultation_id:e,p_broker_id:t,p_expires_hours:i});if(c)throw c;return{success:!0,data:o}}catch(o){return console.error("Error assigning consultation to broker:",o),{success:!1,error:o.message}}}async acceptReferral(e,t,i=null){try{const{referralService:o}=await Ht(async()=>{const{referralService:d}=await Promise.resolve().then(()=>wO);return{referralService:d}},void 0),c=await o.acceptReferral(e,t);return c.success&&i&&await this.updateConsultation(e,{notes:i}),c}catch(o){return console.error("Error accepting referral:",o),{success:!1,error:o.message}}}async declineReferral(e,t,i,o=null){try{const{data:c,error:d}=await ue.rpc("decline_referral",{p_consultation_id:e,p_broker_id:t,p_reason:i,p_notes:o});if(d)throw d;return{success:!0,data:c}}catch(c){return console.error("Error declining referral:",c),{success:!1,error:c.message}}}async logCommunication(e,t,i,o={}){try{const{data:c,error:d}=await ue.rpc("log_communication",{p_consultation_id:e,p_broker_id:t,p_activity_type:i,p_activity_data:o});if(d)throw d;return{success:!0,data:c}}catch(c){return console.error("Error logging communication:",c),{success:!1,error:c.message}}}async getActivityHistory(e){try{const{data:t,error:i}=await ue.from("activity_log").select(`
          *,
          broker:profiles(first_name, last_name, email)
        `).eq("consultation_id",e).order("created_at",{ascending:!1});return qe(t,i)}catch(t){return console.error("Error fetching activity history:",t),{success:!1,error:t.message,data:[]}}}async getBrokerStats(e){try{const{data:t,error:i}=await ue.from("broker_stats").select("*").eq("broker_id",e).single();if(i)throw i;return{success:!0,data:t||{}}}catch(t){return console.error("Error fetching broker stats:",t),{success:!1,error:t.message,data:{}}}}async updateStatus(e,t,i={}){try{const o={status:t,updated_at:new Date().toISOString(),...i},{data:c,error:d}=await ue.from(xe.CONSULTATIONS).update(o).eq("id",e).select();if(d)throw d;return!c||c.length===0?{success:!1,error:"Consultation not found"}:{success:!0,data:c[0]}}catch(o){return console.error("Error updating consultation status:",o),{success:!1,error:o.message}}}}const Jt=new SO,ys={CUSTOMER_CREATED:"customer_created",CUSTOMER_UPDATED:"customer_updated",CUSTOMER_DELETED:"customer_deleted",CONSULTATION_CREATED:"consultation_created",CONSULTATION_ASSIGNED:"consultation_assigned",CONSULTATION_REASSIGNED:"consultation_reassigned",CONSULTATION_STATUS_CHANGED:"consultation_status_changed",CONSULTATION_UPDATED:"consultation_updated",CONSULTATION_COMPLETED:"consultation_completed",CONSULTATION_CANCELLED:"consultation_cancelled",REFERRAL_SENT:"referral_sent",REFERRAL_ACCEPTED:"referral_accepted",REFERRAL_DECLINED:"referral_declined",REFERRAL_EXPIRED:"referral_expired",EMAIL_SENT:"email_sent",EMAIL_OPENED:"email_opened",EMAIL_CLICKED:"email_clicked",SMS_SENT:"sms_sent",SMS_DELIVERED:"sms_delivered",SMS_FAILED:"sms_failed",CALL_MADE:"call_made",CALL_RECEIVED:"call_received",CALL_MISSED:"call_missed",VOICEMAIL_LEFT:"voicemail_left",NOTE_ADDED:"note_added",DOCUMENT_UPLOADED:"document_uploaded",DOCUMENT_VIEWED:"document_viewed",PROPERTY_VIEWED:"property_viewed",PROPERTY_FAVORITED:"property_favorited",PROPERTY_SHARED:"property_shared",STATUS_CHANGED:"status_changed",PRIORITY_CHANGED:"priority_changed",TAG_ADDED:"tag_added",TAG_REMOVED:"tag_removed",LOGIN:"login",LOGOUT:"logout",PASSWORD_RESET:"password_reset",PROFILE_UPDATED:"profile_updated",NOTIFICATION_SENT:"notification_sent"},Ls={ONBOARDING:"onboarding",CONSULTATION:"consultation",COMMUNICATION:"communication",INTERACTION:"interaction",STATUS:"status",SYSTEM:"system"},Vs={SYSTEM:"system",ADMIN:"admin",BROKER:"broker",CUSTOMER:"customer",API:"api"};class _O{async logEvent(e){try{const{customerId:t,consultationId:i=null,agentId:o=null,eventType:c,eventCategory:d,eventTitle:h,eventDescription:g=null,eventData:m={},source:x=Vs.SYSTEM,ipAddress:y=null,userAgent:b=null}=e;if(!t||!c||!d||!h)return console.error("Missing required event fields:",e),{success:!1,error:"Missing required event fields",data:null};const{data:w,error:_}=await ue.from(xe.CUSTOMER_EVENTS).insert([{customer_id:t,consultation_id:i,agent_id:o,event_type:c,event_category:d,event_title:h,event_description:g,event_data:m,source:x,ip_address:y,user_agent:b}]).select();return _?(console.error("Error logging event:",_),{success:!1,error:_.message,data:null}):{success:!0,data:w&&w.length>0?w[0]:null}}catch(t){return console.error("Error in logEvent:",t),{success:!1,error:t.message,data:null}}}async getCustomerEvents(e,t={}){try{let i=ue.from(xe.CUSTOMER_EVENTS).select("*").eq("customer_id",e).order("created_at",{ascending:!1});t.eventCategory&&(i=i.eq("event_category",t.eventCategory)),t.eventType&&(i=i.eq("event_type",t.eventType)),t.limit&&(i=i.limit(t.limit));const{data:o,error:c}=await i;return qe(o,c)}catch(i){return console.error("Error fetching customer events:",i),{success:!1,error:i.message,data:[]}}}async getConsultationEvents(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMER_EVENTS).select("*").eq("consultation_id",e).order("created_at",{ascending:!1});return qe(t,i)}catch(t){return console.error("Error fetching consultation events:",t),{success:!1,error:t.message,data:[]}}}async getCustomerEventSummary(e){try{const{data:t,error:i}=await ue.from(xe.CUSTOMER_EVENTS).select("event_type, event_category, created_at").eq("customer_id",e);if(i)return{success:!1,error:i.message,data:null};const o={totalEvents:t.length,totalCommunications:t.filter(d=>d.event_category===Ls.COMMUNICATION).length,totalEmails:t.filter(d=>d.event_type===ys.EMAIL_SENT).length,totalSMS:t.filter(d=>d.event_type===ys.SMS_SENT).length,totalCalls:t.filter(d=>d.event_type===ys.CALL_MADE).length,lastContactDate:null,firstContactDate:null},c=t.filter(d=>d.event_category===Ls.COMMUNICATION).map(d=>new Date(d.created_at)).sort((d,h)=>h-d);return c.length>0&&(o.lastContactDate=c[0],o.firstContactDate=c[c.length-1]),{success:!0,data:o}}catch(t){return console.error("Error getting event summary:",t),{success:!1,error:t.message,data:null}}}async logCustomerCreated(e,t){return this.logEvent({customerId:e,eventType:ys.CUSTOMER_CREATED,eventCategory:Ls.ONBOARDING,eventTitle:"Customer Profile Created",eventDescription:`New customer ${t.name} was added to the system`,eventData:{customer_name:t.name,email:t.email,phone:t.phone,state:t.state,lead_source:t.leadSource||"website"},source:Vs.SYSTEM})}async logConsultationCreated(e,t,i){return this.logEvent({customerId:e,consultationId:t,eventType:ys.CONSULTATION_CREATED,eventCategory:Ls.CONSULTATION,eventTitle:"Consultation Request Submitted",eventDescription:`Customer submitted a ${i.type||"general"} consultation request`,eventData:{consultation_type:i.type,case_number:i.caseNumber,message:i.message},source:Vs.CUSTOMER})}async logConsultationAssigned(e,t,i,o){return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.CONSULTATION_ASSIGNED,eventCategory:Ls.CONSULTATION,eventTitle:"Consultation Assigned to Broker",eventDescription:`Consultation was assigned to ${o}`,eventData:{agent_id:i,agent_name:o},source:Vs.ADMIN})}async logReferralAccepted(e,t,i,o){return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.REFERRAL_ACCEPTED,eventCategory:Ls.CONSULTATION,eventTitle:"Referral Accepted by Broker",eventDescription:`${o} accepted the referral`,eventData:{agent_id:i,agent_name:o},source:Vs.BROKER})}async logEmailSent(e,t,i,o){var c;return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.EMAIL_SENT,eventCategory:Ls.COMMUNICATION,eventTitle:"Email Sent to Customer",eventDescription:`Email: "${o.subject}"`,eventData:{to:o.to,subject:o.subject,preview:(c=o.body)==null?void 0:c.substring(0,100)},source:Vs.BROKER})}async logSMSSent(e,t,i,o){var c;return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.SMS_SENT,eventCategory:Ls.COMMUNICATION,eventTitle:"SMS Sent to Customer",eventDescription:`SMS: "${(c=o.message)==null?void 0:c.substring(0,50)}..."`,eventData:{to:o.to,message:o.message},source:Vs.BROKER})}async logCallMade(e,t,i,o){return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.CALL_MADE,eventCategory:Ls.COMMUNICATION,eventTitle:"Phone Call Made to Customer",eventDescription:`Called ${o.phone}`,eventData:{phone:o.phone,duration:o.duration,notes:o.notes},source:Vs.BROKER})}async logStatusChanged(e,t,i,o,c){return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.CONSULTATION_STATUS_CHANGED,eventCategory:Ls.STATUS,eventTitle:`Status Changed: ${o}  ${c}`,eventDescription:`Consultation status updated from ${o} to ${c}`,eventData:{old_status:o,new_status:c},source:Vs.BROKER})}async logNoteAdded(e,t,i,o){var c;return this.logEvent({customerId:e,consultationId:t,agentId:i,eventType:ys.NOTE_ADDED,eventCategory:Ls.INTERACTION,eventTitle:"Note Added",eventDescription:(c=o.note)==null?void 0:c.substring(0,100),eventData:{note:o.note},source:Vs.BROKER})}}const xa=new _O,xi=Object.freeze(Object.defineProperty({__proto__:null,EVENT_CATEGORIES:Ls,EVENT_SOURCES:Vs,EVENT_TYPES:ys,eventService:xa},Symbol.toStringTag,{value:"Module"})),Sj=Object.freeze(Object.defineProperty({__proto__:null,TABLES:xe,agentService:bs,consultationService:Jt,customerService:vs,eventService:xa,propertyService:Wt,referralService:Au,supabase:ue},Symbol.toStringTag,{value:"Module"})),Tu=n=>{if(!n)return null;if(n.startsWith("http://")||n.startsWith("https://"))return n;const{data:e}=ue.storage.from("USAHUDhomes").getPublicUrl(n);return(e==null?void 0:e.publicUrl)||null},EO=()=>{const[n,e]=v.useState(""),[t,i]=v.useState({state:"",minPrice:0,maxPrice:1e6,bedrooms:"",bathrooms:"",status:"",county:""}),[o,c]=v.useState(!1),[d,h]=v.useState([]),[g,m]=v.useState(!1),[x,y]=v.useState(new Set);v.useEffect(()=>{(async()=>{m(!0);const C=await Wt.getAllProperties();C.success&&h(C.data),m(!1)})()},[]);const b=async()=>{m(!0);const E={};t.state&&(E.state=t.state),t.minPrice>0&&(E.minPrice=t.minPrice),t.maxPrice<1e6&&(E.maxPrice=t.maxPrice),t.bedrooms&&(E.beds=parseInt(t.bedrooms)),t.bathrooms&&(E.baths=parseFloat(t.bathrooms)),t.status&&(E.status=t.status);let C;n?C=await Wt.searchProperties(n):C=await Wt.getAllProperties(E),C.success&&h(C.data),m(!1)},w=E=>{const C=new Set(x);C.has(E)?C.delete(E):C.add(E),y(C)},_=E=>{switch(E){case"New Listing":return"bg-green-100 text-green-800";case"Price Reduced":return"bg-red-100 text-red-800";case"Available":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},j=E=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(E),N=E=>{const C=new Date,O=new Date(E)-C;return Math.ceil(O/(1e3*60*60*24))};return r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Search HUD Properties"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Find your perfect HUD home from our nationwide database"})]}),r.jsx(he,{className:"mb-6",children:r.jsxs(fe,{className:"p-6",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),r.jsx(Ne,{type:"text",placeholder:"Search by address, city, county, or case number...",value:n,onChange:E=>e(E.target.value),className:"pl-10 h-12 text-lg",onKeyPress:E=>E.key==="Enter"&&b()})]})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(te,{variant:"outline",onClick:()=>c(!o),className:"h-12 px-6",children:[r.jsx(jm,{className:"h-5 w-5 mr-2"}),"Filters",o?r.jsx(Qv,{className:"h-4 w-4 ml-2"}):r.jsx(wm,{className:"h-4 w-4 ml-2"})]}),r.jsxs(te,{onClick:b,className:"h-12 px-8 bg-blue-600 hover:bg-blue-700",children:[r.jsx(pr,{className:"h-5 w-5 mr-2"}),"Search"]})]})]}),o&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State"}),r.jsxs(Et,{value:t.state,onValueChange:E=>i({...t,state:E}),children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Select state"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"NC",children:"North Carolina"}),r.jsx(ge,{value:"SC",children:"South Carolina"}),r.jsx(ge,{value:"GA",children:"Georgia"}),r.jsx(ge,{value:"FL",children:"Florida"}),r.jsx(ge,{value:"TX",children:"Texas"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Bedrooms"}),r.jsxs(Et,{value:t.bedrooms,onValueChange:E=>i({...t,bedrooms:E}),children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Any"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"1",children:"1+"}),r.jsx(ge,{value:"2",children:"2+"}),r.jsx(ge,{value:"3",children:"3+"}),r.jsx(ge,{value:"4",children:"4+"}),r.jsx(ge,{value:"5",children:"5+"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Bathrooms"}),r.jsxs(Et,{value:t.bathrooms,onValueChange:E=>i({...t,bathrooms:E}),children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Any"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"1",children:"1+"}),r.jsx(ge,{value:"1.5",children:"1.5+"}),r.jsx(ge,{value:"2",children:"2+"}),r.jsx(ge,{value:"2.5",children:"2.5+"}),r.jsx(ge,{value:"3",children:"3+"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),r.jsxs(Et,{value:t.status,onValueChange:E=>i({...t,status:E}),children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Any status"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"Available",children:"Available"}),r.jsx(ge,{value:"New Listing",children:"New Listing"}),r.jsx(ge,{value:"Price Reduced",children:"Price Reduced"})]})]})]})]}),r.jsxs("div",{className:"mt-6",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:["Price Range: ",j(t.minPrice)," - ",j(t.maxPrice)]}),r.jsx("div",{className:"px-2",children:r.jsx(Hk,{value:[t.minPrice,t.maxPrice],onValueChange:([E,C])=>i({...t,minPrice:E,maxPrice:C}),max:1e6,min:0,step:25e3,className:"w-full"})})]})]})]})}),r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:g?"Searching...":`${d.length} Properties Found`}),n&&r.jsxs("p",{className:"text-gray-600",children:['Results for "',n,'"']})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs(Et,{defaultValue:"newest",children:[r.jsx(At,{className:"w-48",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"newest",children:"Newest First"}),r.jsx(ge,{value:"price-low",children:"Price: Low to High"}),r.jsx(ge,{value:"price-high",children:"Price: High to Low"}),r.jsx(ge,{value:"beds",children:"Most Bedrooms"})]})]})})]}),g?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((E,C)=>r.jsxs(he,{className:"animate-pulse",children:[r.jsx("div",{className:"h-48 bg-gray-200 rounded-t-lg"}),r.jsxs(fe,{className:"p-6",children:[r.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),r.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mb-4"}),r.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2"})]})]},C))}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(E=>{var C;return r.jsxs(he,{className:"group hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[r.jsxs("div",{className:"relative",children:[r.jsxs("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 rounded-t-lg overflow-hidden",children:[E.main_image?r.jsx("img",{src:Tu(E.main_image),alt:`${E.address} - Property Photo`,className:"w-full h-full object-cover",onError:T=>{T.target.style.display="none",T.target.nextElementSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:E.main_image?"none":"flex"},children:r.jsx(ht,{className:"h-16 w-16 text-gray-400"})})]}),r.jsx("div",{className:"absolute top-3 left-3",children:r.jsx(ze,{className:`${_(E.status)} font-medium`,children:E.status})}),r.jsxs("div",{className:"absolute top-3 right-3 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[r.jsx(te,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white",onClick:()=>w(E.id),children:r.jsx(eb,{className:`h-4 w-4 ${x.has(E.id)?"fill-red-500 text-red-500":"text-gray-600"}`})}),r.jsx(te,{size:"sm",variant:"secondary",className:"h-8 w-8 p-0 bg-white/90 hover:bg-white",children:r.jsx(Ss,{className:"h-4 w-4 text-gray-600"})})]}),N(E.bidDeadline)<=7&&r.jsx("div",{className:"absolute bottom-3 left-3",children:r.jsxs(ze,{variant:"destructive",className:"bg-red-600",children:[r.jsx(Qs,{className:"h-3 w-3 mr-1"}),N(E.bidDeadline)," days left"]})})]}),r.jsxs(Oe,{className:"pb-2",children:[r.jsx("div",{className:"flex justify-between items-start",children:r.jsx(De,{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:E.address})}),r.jsxs(us,{className:"flex items-center text-gray-600",children:[r.jsx(ar,{className:"h-4 w-4 mr-1"}),E.city,", ",E.state,"  ",E.county]})]}),r.jsxs(fe,{className:"pt-0",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"text-2xl font-bold text-green-600",children:j(E.price)}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Case #",E.case_number||E.caseNumber]})]}),r.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-4",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(fu,{className:"h-4 w-4 mr-1"}),E.beds," beds"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(hu,{className:"h-4 w-4 mr-1"}),E.baths," baths"]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx(ht,{className:"h-4 w-4 mr-1"}),(C=E.sqft)==null?void 0:C.toLocaleString()," sqft"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(gt,{to:`/property/${E.case_number||E.caseNumber}`,className:"flex-1",children:r.jsxs(te,{className:"w-full bg-blue-600 hover:bg-blue-700",children:[r.jsx(gu,{className:"h-4 w-4 mr-2"}),"View Details"]})}),r.jsx(gt,{to:`/consult/${E.case_number||E.caseNumber}`,className:"flex-1",children:r.jsx(te,{variant:"outline",className:"w-full",children:"Submit Interest"})})]})]})]},E.id)})}),!g&&d.length===0&&r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ht,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No properties found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search criteria or filters"}),r.jsx(te,{onClick:()=>{e(""),i({state:"",minPrice:0,maxPrice:1e6,bedrooms:"",bathrooms:"",status:"",county:""}),h(propertyManagement.getAllProperties())},children:"Clear All Filters"})]})]})};class CO{async signUp({email:e,password:t,firstName:i,lastName:o,role:c="end_user",phone:d,state:h}){try{const{data:g,error:m}=await ue.auth.signUp({email:e,password:t,options:{data:{first_name:i,last_name:o,role:c}}});if(m)return console.error("Supabase auth signup error:",m),{success:!1,error:m.message,data:null};if(!g.user)return{success:!1,error:"User creation failed",data:null};const{data:x,error:y}=await ue.from("profiles").insert({id:g.user.id,email:e,role:c,first_name:i,last_name:o,phone:d,state:h,is_active:!0}).select().single();return y?(console.error("Profile creation error:",y),{success:!1,error:y.message,data:g}):{success:!0,data:{user:g.user,profile:x}}}catch(g){return console.error("Error in signUp:",g),{success:!1,error:g.message,data:null}}}async signIn(e,t){try{const{data:i,error:o}=await ue.auth.signInWithPassword({email:e,password:t});if(o)return console.error("Supabase auth signin error:",o),{success:!1,error:o.message,data:null};if(!i.user)return{success:!1,error:"Authentication failed",data:null};const{data:c,error:d}=await ue.from("profiles").select("*").eq("id",i.user.id).single();return d?(console.error("Profile fetch error:",d),{success:!1,error:"Profile not found",data:{user:i.user,profile:null}}):c.is_active?(await ue.from("profiles").update({last_login_at:new Date().toISOString()}).eq("id",i.user.id),{success:!0,data:{user:i.user,profile:c,role:c.role}}):(await this.signOut(),{success:!1,error:"Account is inactive",data:null})}catch(i){return console.error("Error in signIn:",i),{success:!1,error:i.message,data:null}}}async signOut(){try{const{error:e}=await ue.auth.signOut();return e?(console.error("Supabase signout error:",e),{success:!1,error:e.message}):(localStorage.removeItem("userRole"),localStorage.removeItem("userProfile"),{success:!0})}catch(e){return console.error("Error in signOut:",e),{success:!1,error:e.message}}}async getSession(){try{const{data:{session:e},error:t}=await ue.auth.getSession();if(t)return console.error("Get session error:",t),{success:!1,error:t.message,data:null};if(!e)return{success:!1,error:"No active session",data:null};const{data:i,error:o}=await ue.from("profiles").select("*").eq("id",e.user.id).single();return o?(console.error("Profile fetch error:",o),{success:!0,data:{session:e,profile:null,role:null}}):{success:!0,data:{session:e,profile:i,role:i.role}}}catch(e){return console.error("Error in getSession:",e),{success:!1,error:e.message,data:null}}}async getCurrentUser(){try{const{data:{user:e},error:t}=await ue.auth.getUser();if(t)return console.error("Get user error:",t),{success:!1,error:t.message,data:null};if(!e)return{success:!1,error:"No authenticated user",data:null};const{data:i,error:o}=await ue.from("profiles").select("*").eq("id",e.id).single();return o?(console.error("Profile fetch error:",o),{success:!0,data:{user:e,profile:null,role:null}}):{success:!0,data:{user:e,profile:i,role:i.role}}}catch(e){return console.error("Error in getCurrentUser:",e),{success:!1,error:e.message,data:null}}}async updateProfile(e,t){try{const i={};t.firstName&&(i.first_name=t.firstName),t.lastName&&(i.last_name=t.lastName),t.phone&&(i.phone=t.phone),t.state&&(i.state=t.state),t.companyName&&(i.company_name=t.companyName),t.licenseNumber&&(i.license_number=t.licenseNumber),i.updated_at=new Date().toISOString();const{data:o,error:c}=await ue.from("profiles").update(i).eq("id",e).select().single();return c?(console.error("Profile update error:",c),{success:!1,error:c.message,data:null}):{success:!0,data:o}}catch(i){return console.error("Error in updateProfile:",i),{success:!1,error:i.message,data:null}}}async resetPassword(e){try{const{error:t}=await ue.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});return t?(console.error("Password reset error:",t),{success:!1,error:t.message}):{success:!0}}catch(t){return console.error("Error in resetPassword:",t),{success:!1,error:t.message}}}async updatePassword(e){try{const{error:t}=await ue.auth.updateUser({password:e});return t?(console.error("Password update error:",t),{success:!1,error:t.message}):{success:!0}}catch(t){return console.error("Error in updatePassword:",t),{success:!1,error:t.message}}}async hasRole(e,t){try{const{data:i,error:o}=await ue.from("profiles").select("role").eq("id",e).single();return o||!i?!1:(Array.isArray(t)?t:[t]).includes(i.role)}catch(i){return console.error("Error in hasRole:",i),!1}}onAuthStateChange(e){return ue.auth.onAuthStateChange(async(t,i)=>{if(i!=null&&i.user){const{data:o}=await ue.from("profiles").select("*").eq("id",i.user.id).single();e(t,i,o)}else e(t,null,null)})}}const ga=new CO,_j=v.createContext({}),nr=()=>{const n=v.useContext(_j);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},AO=({children:n})=>{const[e,t]=v.useState(null),[i,o]=v.useState(null),[c,d]=v.useState(null),[h,g]=v.useState(!0),[m,x]=v.useState(!1);v.useEffect(()=>{y()},[]);const y=async()=>{var P;try{g(!0);const Y=await ga.getSession();if(Y.success&&Y.data)t(((P=Y.data.session)==null?void 0:P.user)||null),o(Y.data.profile),d(Y.data.role),Y.data.role&&localStorage.setItem("userRole",Y.data.role),Y.data.profile&&localStorage.setItem("userProfile",JSON.stringify(Y.data.profile));else{const D=localStorage.getItem("isAuthenticated"),I=localStorage.getItem("userRole"),Q=localStorage.getItem("userEmail");D==="true"&&I?(console.log("Using legacy auth during transition"),t({email:Q||"legacy@user.com"}),o({email:Q||"legacy@user.com",role:I,first_name:"Legacy",last_name:"User"}),d(I)):(t(null),o(null),d(null),localStorage.removeItem("userRole"),localStorage.removeItem("userProfile"))}}catch(Y){console.error("Error initializing auth:",Y);const D=localStorage.getItem("isAuthenticated"),I=localStorage.getItem("userRole"),Q=localStorage.getItem("userEmail");D==="true"&&I?(console.log("Using legacy auth after error"),t({email:Q||"legacy@user.com"}),o({email:Q||"legacy@user.com",role:I,first_name:"Legacy",last_name:"User"}),d(I)):(t(null),o(null),d(null))}finally{g(!1),x(!0)}};v.useEffect(()=>{if(!m)return;const{data:{subscription:P}}=ga.onAuthStateChange(async(Y,D,I)=>{console.log("Auth state changed:",Y),D!=null&&D.user?(t(D.user),o(I),d((I==null?void 0:I.role)||null),I!=null&&I.role&&localStorage.setItem("userRole",I.role),I&&localStorage.setItem("userProfile",JSON.stringify(I))):(t(null),o(null),d(null),localStorage.removeItem("userRole"),localStorage.removeItem("userProfile"))});return()=>{P==null||P.unsubscribe()}},[m]);const L={user:e,profile:i,role:c,loading:h,initialized:m,signUp:async P=>{var Y,D;try{g(!0);const I=await ga.signUp(P);return I.success&&I.data&&(t(I.data.user),o(I.data.profile),d(((Y=I.data.profile)==null?void 0:Y.role)||"end_user"),(D=I.data.profile)!=null&&D.role&&localStorage.setItem("userRole",I.data.profile.role),I.data.profile&&localStorage.setItem("userProfile",JSON.stringify(I.data.profile))),I}catch(I){return console.error("Error in signUp:",I),{success:!1,error:I.message}}finally{g(!1)}},signIn:async(P,Y)=>{try{g(!0);const D=await ga.signIn(P,Y);return D.success&&D.data&&(t(D.data.user),o(D.data.profile),d(D.data.role),D.data.role&&localStorage.setItem("userRole",D.data.role),D.data.profile&&localStorage.setItem("userProfile",JSON.stringify(D.data.profile))),D}catch(D){return console.error("Error in signIn:",D),{success:!1,error:D.message}}finally{g(!1)}},signOut:async()=>{try{g(!0);const P=await ga.signOut();return P.success&&(t(null),o(null),d(null),localStorage.removeItem("userRole"),localStorage.removeItem("userProfile")),P}catch(P){return console.error("Error in signOut:",P),{success:!1,error:P.message}}finally{g(!1)}},updateProfile:async P=>{try{if(!e)return{success:!1,error:"No authenticated user"};const Y=await ga.updateProfile(e.id,P);return Y.success&&Y.data&&(o(Y.data),localStorage.setItem("userProfile",JSON.stringify(Y.data))),Y}catch(Y){return console.error("Error in updateProfile:",Y),{success:!1,error:Y.message}}},resetPassword:async P=>{try{return await ga.resetPassword(P)}catch(Y){return console.error("Error in resetPassword:",Y),{success:!1,error:Y.message}}},updatePassword:async P=>{try{return await ga.updatePassword(P)}catch(Y){return console.error("Error in updatePassword:",Y),{success:!1,error:Y.message}}},hasRole:P=>c?(Array.isArray(P)?P:[P]).includes(c):!1,isAdmin:()=>c==="admin",isBroker:()=>c==="broker",isEndUser:()=>c==="end_user",getDashboardRoute:()=>{switch(c){case"admin":return"/broker-dashboard";case"broker":return"/broker-dashboard";case"end_user":return"/user-dashboard";default:return"/login"}},isAuthenticated:!!e};return r.jsx(_j.Provider,{value:L,children:n})};function cs({className:n,...e}){return r.jsx("textarea",{"data-slot":"textarea",className:ct("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),...e})}function TO(){const n=rr(),[e,t]=v.useState([]),[i,o]=v.useState(""),[c,d]=v.useState(!1),[h,g]=v.useState(null),[m,x]=v.useState(G()),[y,b]=v.useState({total:0,averagePrice:0,bidsOpen:0,priceReduced:0}),[w,_]=v.useState(null),[j,N]=v.useState(null),[E,C]=v.useState(!1),[T,O]=v.useState(0),U=v.useRef(null);v.useEffect(()=>{L(),P()},[]);function G(){return{case_number:"",address:"",city:"",state:"NC",zip_code:"",county:"",price:"",beds:"",baths:"",sq_ft:"",lot_size:"",year_built:"",status:"BIDS OPEN",bid_deadline:"",property_type:"Single Family Home",description:"",main_image:"",images:[],features:[]}}async function L(){const q=await Wt.getAllProperties();q.success&&t(q.data)}async function P(){const q=await Wt.getPropertyStats();q.success&&b(q.data)}async function Y(){if(i.trim()){const q=await Wt.searchProperties(i);q.success&&t(q.data)}else L()}function D(){g(null),x(G()),_(null),N(null),d(!0)}function I(q){g(q),x({case_number:q.case_number||"",address:q.address||"",city:q.city||"",state:q.state||"NC",zip_code:q.zip_code||"",county:q.county||"",price:q.price||"",beds:q.beds||"",baths:q.baths||"",sq_ft:q.sq_ft||"",lot_size:q.lot_size||"",year_built:q.year_built||"",status:q.status||"BIDS OPEN",bid_deadline:q.bid_deadline||"",property_type:q.property_type||"Single Family Home",description:q.description||"",main_image:q.main_image||"",images:q.images||[],features:q.features||[]}),N(q.main_image||null),_(null),d(!0)}async function Q(q){if(confirm(`Are you sure you want to delete ${q.address}?`)){const R=await Wt.deleteProperty(q.id);R.success?(L(),P(),alert("Property deleted successfully!")):alert("Error deleting property: "+R.error)}}function oe(q){const R=q.target.files[0];if(R){if(!R.type.startsWith("image/")){alert("Please select an image file");return}if(R.size>5*1024*1024){alert("Image size must be less than 5MB");return}_(R);const X=new FileReader;X.onloadend=()=>{N(X.result)},X.readAsDataURL(R)}}async function le(q,R){try{C(!0),O(0);const X=q.name.split(".").pop(),Z=`${R}.${X}`,{data:ce,error:pe}=await ue.storage.from("USAHUDhomes").upload(Z,q,{cacheControl:"3600",upsert:!0});if(pe)throw pe;const{data:B}=ue.storage.from("USAHUDhomes").getPublicUrl(Z);return O(100),C(!1),{success:!0,url:B.publicUrl}}catch(X){return console.error("Error uploading image:",X),C(!1),{success:!1,error:X.message}}}async function de(q){if(q.preventDefault(),!m.case_number||!m.address||!m.city||!m.price){alert("Please fill in all required fields (Case Number, Address, City, Price)");return}let R=m.main_image;if(w){const Z=await le(w,m.case_number);if(Z.success)R=Z.url;else{alert("Error uploading image: "+Z.error);return}}const X={case_number:m.case_number,address:m.address,city:m.city,state:m.state,zip_code:m.zip_code,county:m.county,price:parseFloat(m.price)||0,beds:parseInt(m.beds)||0,baths:parseFloat(m.baths)||0,sq_ft:parseInt(m.sq_ft)||0,lot_size:m.lot_size,year_built:parseInt(m.year_built)||null,status:m.status,bid_deadline:m.bid_deadline||null,property_type:m.property_type,description:m.description,main_image:R,images:m.images,features:m.features};let H;h?(H=await Wt.updateProperty(h.id,X),H.success&&alert("Property updated successfully!")):(H=await Wt.addProperty(X),H.success&&alert("Property added successfully!")),H.success?(d(!1),x(G()),g(null),_(null),N(null),L(),P()):alert("Error: "+H.error)}function k(){d(!1),x(G()),g(null),_(null),N(null)}async function V(){const q=await Wt.getAllProperties();if(q.success){const R=new Blob([JSON.stringify(q.data,null,2)],{type:"application/json"}),X=URL.createObjectURL(R),H=document.createElement("a");H.href=X,H.download=`properties_backup_${new Date().toISOString().split("T")[0]}.json`,H.click(),URL.revokeObjectURL(X)}}async function z(q){const R=q.target.files[0];if(R){const X=new FileReader;X.onload=async H=>{try{const Z=JSON.parse(H.target.result);let ce=0;for(const pe of Z)(await Wt.addProperty(pe)).success&&ce++;L(),P(),alert(`Imported ${ce} of ${Z.length} properties successfully!`)}catch(Z){alert("Error importing properties: "+Z.message)}},X.readAsText(R)}}return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Property Management"}),r.jsx("p",{className:"text-gray-600",children:"Add, edit, and manage HUD properties"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(te,{variant:"outline",onClick:V,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs("label",{children:[r.jsxs(te,{variant:"outline",as:"span",children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Import"]}),r.jsx("input",{type:"file",accept:".json",onChange:z,className:"hidden"})]}),r.jsxs(te,{onClick:D,children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Property"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:y.total||0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Properties"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsxs("div",{className:"text-2xl font-bold",children:["$",(y.averagePrice||0).toLocaleString()]}),r.jsx("p",{className:"text-sm text-gray-600",children:"Average Price"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:y.bidsOpen||0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Bids Open"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:y.priceReduced||0}),r.jsx("p",{className:"text-sm text-gray-600",children:"Price Reduced"})]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{placeholder:"Search by address, city, county, or case number...",value:i,onChange:q=>o(q.target.value),onKeyPress:q=>q.key==="Enter"&&Y(),className:"flex-1"}),r.jsxs(te,{onClick:Y,children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Search"]}),i&&r.jsx(te,{variant:"outline",onClick:()=>{o(""),L()},children:"Clear"})]}),c&&r.jsxs(he,{className:"border-2 border-blue-500",children:[r.jsxs(Oe,{children:[r.jsx(De,{children:h?"Edit Property":"Add New Property"}),r.jsx(us,{children:h?"Update property information":"Enter property details"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:de,className:"space-y-4",children:[r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 bg-gray-50",children:r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx(Of,{className:"h-12 w-12 text-gray-400 mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Property Image"}),j&&r.jsx("div",{className:"mb-4",children:r.jsx("img",{src:j,alt:"Preview",className:"w-64 h-48 object-cover rounded-lg shadow-md"})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{type:"button",variant:"outline",onClick:()=>{var q;return(q=U.current)==null?void 0:q.click()},disabled:E,children:E?r.jsxs(r.Fragment,{children:[r.jsx(TE,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading... ",T,"%"]}):r.jsxs(r.Fragment,{children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),j?"Change Image":"Upload Image"]})}),j&&r.jsxs(te,{type:"button",variant:"outline",onClick:()=>{_(null),N(null),x({...m,main_image:""})},children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Remove"]})]}),r.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:oe,className:"hidden"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Supported: JPG, PNG, WebP (Max 5MB)"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Case Number *"}),r.jsx(Ne,{value:m.case_number,onChange:q=>x({...m,case_number:q.target.value}),placeholder:"387-111612",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsxs("select",{value:m.status,onChange:q=>x({...m,status:q.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{children:"BIDS OPEN"}),r.jsx("option",{children:"PRICE REDUCED"}),r.jsx("option",{children:"SOLD"}),r.jsx("option",{children:"PENDING"}),r.jsx("option",{children:"AVAILABLE"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address *"}),r.jsx(Ne,{value:m.address,onChange:q=>x({...m,address:q.target.value}),placeholder:"123 Main St",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"City *"}),r.jsx(Ne,{value:m.city,onChange:q=>x({...m,city:q.target.value}),placeholder:"Charlotte",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"State *"}),r.jsxs("select",{value:m.state,onChange:q=>x({...m,state:q.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{children:"NC"}),r.jsx("option",{children:"TN"}),r.jsx("option",{children:"SC"}),r.jsx("option",{children:"VA"}),r.jsx("option",{children:"GA"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"ZIP Code"}),r.jsx(Ne,{value:m.zip_code,onChange:q=>x({...m,zip_code:q.target.value}),placeholder:"28269"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"County"}),r.jsx(Ne,{value:m.county,onChange:q=>x({...m,county:q.target.value}),placeholder:"Mecklenburg County"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Price *"}),r.jsx(Ne,{type:"number",value:m.price,onChange:q=>x({...m,price:q.target.value}),placeholder:"365000",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bedrooms"}),r.jsx(Ne,{type:"number",value:m.beds,onChange:q=>x({...m,beds:q.target.value}),placeholder:"3"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bathrooms"}),r.jsx(Ne,{type:"number",step:"0.1",value:m.baths,onChange:q=>x({...m,baths:q.target.value}),placeholder:"2"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Sq Ft"}),r.jsx(Ne,{type:"number",value:m.sq_ft,onChange:q=>x({...m,sq_ft:q.target.value}),placeholder:"2850"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Year Built"}),r.jsx(Ne,{type:"number",value:m.year_built,onChange:q=>x({...m,year_built:q.target.value}),placeholder:"2008"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Lot Size"}),r.jsx(Ne,{value:m.lot_size,onChange:q=>x({...m,lot_size:q.target.value}),placeholder:"0.25 acres"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Property Type"}),r.jsxs("select",{value:m.property_type,onChange:q=>x({...m,property_type:q.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{children:"Single Family Home"}),r.jsx("option",{children:"Townhouse"}),r.jsx("option",{children:"Condo"}),r.jsx("option",{children:"Multi-Family"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bid Deadline"}),r.jsx(Ne,{type:"datetime-local",value:m.bid_deadline?m.bid_deadline.slice(0,16):"",onChange:q=>x({...m,bid_deadline:q.target.value?q.target.value+":00":""})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),r.jsx(cs,{value:m.description,onChange:q=>x({...m,description:q.target.value}),placeholder:"Property description...",rows:4})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsxs(te,{type:"button",variant:"outline",onClick:k,children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(te,{type:"submit",disabled:E,children:[r.jsx(on,{className:"h-4 w-4 mr-2"}),h?"Update":"Add"," Property"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(q=>{var R,X;return r.jsx(he,{className:"hover:shadow-lg transition-shadow",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex gap-4 flex-1",children:[r.jsx("div",{className:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden flex-shrink-0",children:q.main_image?r.jsx("img",{src:q.main_image,alt:q.address,className:"w-full h-full object-cover"}):r.jsx(ht,{className:"h-12 w-12 text-gray-400"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold",children:q.address}),r.jsxs("p",{className:"text-gray-600",children:[q.city,", ",q.state," ",q.zip_code]}),r.jsx("p",{className:"text-sm text-gray-500",children:q.county})]}),r.jsx(ze,{variant:q.status==="BIDS OPEN"?"default":"secondary",children:q.status})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Price:"}),r.jsxs("div",{className:"font-bold text-green-600",children:["$",(R=q.price)==null?void 0:R.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Beds/Baths:"}),r.jsxs("div",{className:"font-semibold",children:[q.beds," / ",q.baths]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Sq Ft:"}),r.jsx("div",{className:"font-semibold",children:(X=q.sq_ft)==null?void 0:X.toLocaleString()})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Case #:"}),r.jsx("div",{className:"font-semibold",children:q.case_number})]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(te,{variant:"outline",size:"sm",onClick:()=>n(`/admin/property/${q.case_number}`),title:"View Details & Marketing",children:r.jsx(gu,{className:"h-4 w-4"})}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>I(q),children:r.jsx(Na,{className:"h-4 w-4"})}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>Q(q),children:r.jsx(pu,{className:"h-4 w-4 text-red-600"})})]})]})})},q.id)})}),e.length===0&&r.jsx(he,{children:r.jsxs(fe,{className:"py-12 text-center",children:[r.jsx(ht,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No properties found"}),r.jsxs(te,{onClick:D,className:"mt-4",children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Your First Property"]})]})})]})}function kO(){const n=rr(),[e,t]=v.useState([]),[i,o]=v.useState(""),[c,d]=v.useState(!1),[h,g]=v.useState(null),[m,x]=v.useState(y());v.useEffect(()=>{b()},[]);function y(){return{name:"",email:"",phone:"",state:"NC",propertyId:"",status:"new",source:"website",notes:[]}}async function b(){const L=await vs.getAllCustomers();L.success&&t(L.data)}async function w(){if(i.trim()){const L=await vs.searchCustomers(i);L.success&&t(L.data)}else b()}function _(){g(null),x(y()),d(!0)}function j(L){g(L),x({name:L.name,email:L.email,phone:L.phone,state:L.state||"NC",propertyId:L.propertyId||"",status:L.status||"new",source:L.source||"website",notes:L.notes||[]}),d(!0)}async function N(L){const P=L.name||`${L.first_name} ${L.last_name}`||L.email;if(!(!confirm(` WARNING: PERMANENT DELETE

You are about to permanently delete:
Customer: ${P}
Email: ${L.email}

This will also delete:
 All consultations/leads for this customer
 All activities and notes
 All related records

This action CANNOT be undone!

Click OK to continue, or Cancel to abort.`)||!confirm(`FINAL CONFIRMATION

Are you absolutely sure you want to permanently delete ${P} and all associated records?

Type OK to confirm deletion.`)))try{const I=await vs.deleteCustomerWithReferences(L.id);I.success?(alert(` Customer Deleted Successfully

Customer: ${I.data.customerName}
Consultations deleted: ${I.data.consultationsDeleted}
Activities deleted: ${I.data.activitiesDeleted}

All references have been permanently removed.`),b()):alert(` Error deleting customer:

${I.error}

Please try again or contact support.`)}catch(I){console.error("Error in handleDelete:",I),alert(` Unexpected error:

${I.message}

Please try again or contact support.`)}}async function E(L){if(L.preventDefault(),!m.name||!m.email||!m.phone){alert("Please fill in all required fields");return}let P;h?(P=await vs.updateCustomer(h.id,m),P.success&&alert("Customer updated successfully!")):(P=await vs.createCustomer(m),P.success&&alert("Customer added successfully!")),d(!1),x(y()),g(null),b()}function C(){d(!1),x(y()),g(null)}async function T(){const L=await vs.getAllCustomers();if(!L.success)return;const P=L.data,Y=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),D=URL.createObjectURL(Y),I=document.createElement("a");I.href=D,I.download=`customers_backup_${new Date().toISOString().split("T")[0]}.json`,I.click(),URL.revokeObjectURL(D)}function O(L){const P=L.target.files[0];if(P){const Y=new FileReader;Y.onload=async D=>{try{const I=JSON.parse(D.target.result);let Q=0;for(const oe of I.customers||I)(await vs.createCustomer(oe)).success&&Q++;b(),alert(`Imported ${Q} customers successfully!`),alert("Customers imported successfully!")}catch(I){alert("Error importing customers: "+I.message)}},Y.readAsText(P)}}const[U,G]=v.useState({totalCustomers:0,newThisWeek:0,totalLeads:0,pendingConsultations:0});return v.useEffect(()=>{async function L(){const P=await vs.getAllCustomers();if(P.success){const Y=P.data,D=new Date(Date.now()-7*24*60*60*1e3);G({totalCustomers:Y.length,newThisWeek:Y.filter(I=>new Date(I.created_at)>D).length,totalLeads:Y.filter(I=>I.status==="lead").length,pendingConsultations:Y.filter(I=>I.status==="consultation").length})}}L()},[e]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),r.jsx("p",{className:"text-gray-600",children:"Add, edit, and manage customer records"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(te,{variant:"outline",onClick:T,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs("label",{children:[r.jsxs(te,{variant:"outline",as:"span",children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Import"]}),r.jsx("input",{type:"file",accept:".json",onChange:O,className:"hidden"})]}),r.jsxs(te,{onClick:_,children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Customer"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:U.totalCustomers}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Customers"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:U.newCustomersThisWeek}),r.jsx("p",{className:"text-sm text-gray-600",children:"This Week"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:U.totalLeads}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:U.pendingConsultations}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Consultations"})]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{placeholder:"Search by name, email, phone, or state...",value:i,onChange:L=>o(L.target.value),onKeyPress:L=>L.key==="Enter"&&w(),className:"flex-1"}),r.jsxs(te,{onClick:w,children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Search"]}),i&&r.jsx(te,{variant:"outline",onClick:()=>{o(""),b()},children:"Clear"})]}),c&&r.jsxs(he,{className:"border-2 border-blue-500",children:[r.jsxs(Oe,{children:[r.jsx(De,{children:h?"Edit Customer":"Add New Customer"}),r.jsx(us,{children:h?"Update customer information":"Enter customer details"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:E,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name *"}),r.jsx(Ne,{value:m.name,onChange:L=>x({...m,name:L.target.value}),placeholder:"John Doe",required:!0})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),r.jsx(Ne,{type:"email",value:m.email,onChange:L=>x({...m,email:L.target.value}),placeholder:"john@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),r.jsx(Ne,{type:"tel",value:m.phone,onChange:L=>x({...m,phone:L.target.value}),placeholder:"(910) 555-1234",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),r.jsxs("select",{value:m.state,onChange:L=>x({...m,state:L.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{children:"NC"}),r.jsx("option",{children:"TN"}),r.jsx("option",{children:"SC"}),r.jsx("option",{children:"VA"}),r.jsx("option",{children:"GA"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),r.jsxs("select",{value:m.status,onChange:L=>x({...m,status:L.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"contacted",children:"Contacted"}),r.jsx("option",{value:"qualified",children:"Qualified"}),r.jsx("option",{value:"viewing",children:"Viewing"}),r.jsx("option",{value:"bidding",children:"Bidding"}),r.jsx("option",{value:"won",children:"Won"}),r.jsx("option",{value:"lost",children:"Lost"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Property Interest (Case #)"}),r.jsx(Ne,{value:m.propertyId,onChange:L=>x({...m,propertyId:L.target.value}),placeholder:"387-111612"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Source"}),r.jsxs("select",{value:m.source,onChange:L=>x({...m,source:L.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"website",children:"Website"}),r.jsx("option",{value:"referral",children:"Referral"}),r.jsx("option",{value:"phone",children:"Phone"}),r.jsx("option",{value:"email",children:"Email"}),r.jsx("option",{value:"social",children:"Social Media"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsxs(te,{type:"button",variant:"outline",onClick:C,children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(te,{type:"submit",children:[r.jsx(on,{className:"h-4 w-4 mr-2"}),h?"Update":"Add"," Customer"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:e.map(L=>r.jsx(he,{className:"hover:shadow-lg transition-shadow",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex gap-4 flex-1",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(Xt,{className:"h-8 w-8 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold",children:L.name}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"h-4 w-4"}),L.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(rs,{className:"h-4 w-4"}),L.phone]})]})]}),r.jsx(ze,{variant:L.status==="new"?"default":"secondary",children:L.status})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"State:"}),r.jsx("div",{className:"font-semibold",children:L.state||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Source:"}),r.jsx("div",{className:"font-semibold",children:L.source||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Property:"}),r.jsx("div",{className:"font-semibold",children:L.propertyId||"None"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Created:"}),r.jsx("div",{className:"font-semibold",children:new Date(L.createdAt).toLocaleDateString()})]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(te,{variant:"outline",size:"sm",onClick:()=>n(`/admin/customer/${L.id}`),title:"View Details",children:r.jsx(gu,{className:"h-4 w-4"})}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>j(L),children:r.jsx(Na,{className:"h-4 w-4"})}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>N(L),children:r.jsx(pu,{className:"h-4 w-4 text-red-600"})})]})]})})},L.id))}),e.length===0&&r.jsx(he,{children:r.jsxs(fe,{className:"py-12 text-center",children:[r.jsx(Xt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No customers found"}),r.jsxs(te,{onClick:_,className:"mt-4",children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Your First Customer"]})]})})]})}function RO(){const[n,e]=v.useState([]),[t,i]=v.useState([]),[o,c]=v.useState([]),[d,h]=v.useState(""),[g,m]=v.useState("all"),[x,y]=v.useState("all"),[b,w]=v.useState(!0),[_,j]=v.useState(null),[N,E]=v.useState({}),[C,T]=v.useState({total:0,pending:0,scheduled:0,completed:0,cancelled:0});v.useEffect(()=>{O(),U()},[]),v.useEffect(()=>{L()},[n,d,g,x]);async function O(){w(!0);const k=await Jt.getAllConsultations();if(k.success){const V=k.data||[];e(V),G(V)}w(!1)}async function U(){const k=await bs.getAllAgents();if(k.success){const V=(k.data||[]).filter(z=>z.is_active);c(V)}}function G(k){T({total:k.length,pending:k.filter(V=>V.status==="pending").length,scheduled:k.filter(V=>V.status==="scheduled").length,completed:k.filter(V=>V.status==="completed").length,cancelled:k.filter(V=>V.status==="cancelled").length})}function L(){let k=[...n];if(d){const V=d.toLowerCase();k=k.filter(z=>{var q,R,X,H,Z;return((q=z.customer_name)==null?void 0:q.toLowerCase().includes(V))||((R=z.customer_email)==null?void 0:R.toLowerCase().includes(V))||((X=z.customer_phone)==null?void 0:X.toLowerCase().includes(V))||((H=z.case_number)==null?void 0:H.toLowerCase().includes(V))||((Z=z.message)==null?void 0:Z.toLowerCase().includes(V))})}g!=="all"&&(k=k.filter(V=>V.status===g)),x!=="all"&&(k=k.filter(V=>V.consultation_type===x)),i(k)}function P(k){j(k),E({status:k.status||"pending",consultation_type:k.consultation_type||"general",agent_id:k.agent_id||"",case_number:k.case_number||"",message:k.message||""})}function Y(){j(null),E({})}async function D(){if(_)try{console.log("Saving consultation:",_.id,N);const k=N.agent_id&&N.agent_id!==_.agent_id,V=await Jt.updateConsultation(_.id,N);if(!V.success){alert("Failed to update consultation: "+(V.error||"Unknown error"));return}if(k){console.log("Agent changed, creating referral...");const z=await Au.createReferral({consultation_id:_.id,agent_id:N.agent_id,status:"referred"});z.success?console.log("Referral created successfully"):console.warn("Referral notification failed:",z.error)}Y(),await O()}catch(k){console.error("Error saving consultation:",k),alert("Failed to save consultation: "+k.message)}}async function I(k,V){(await Jt.updateConsultation(k,{status:V})).success&&O()}function Q(k){return new Date(k).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}function oe(k){return{pending:r.jsx(ze,{className:"bg-yellow-100 text-yellow-800",children:"Pending"}),referred:r.jsx(ze,{className:"bg-yellow-100 text-yellow-800",children:"Referred"}),scheduled:r.jsx(ze,{className:"bg-blue-100 text-blue-800",children:"Scheduled"}),completed:r.jsx(ze,{className:"bg-green-100 text-green-800",children:"Completed"}),cancelled:r.jsx(ze,{className:"bg-red-100 text-red-800",children:"Cancelled"})}[k]||r.jsx(ze,{children:k})}function le(k){return{general:r.jsx(ze,{variant:"outline",children:"General"}),financing:r.jsx(ze,{variant:"outline",children:"Financing"}),bidding:r.jsx(ze,{variant:"outline",children:"Bidding"}),inspection:r.jsx(ze,{variant:"outline",children:"Inspection"})}[k]||r.jsx(ze,{variant:"outline",children:k})}async function de(){const k=t.map(H=>({Date:Q(H.created_at),Customer:H.customer_name,Email:H.customer_email,Phone:H.customer_phone,Status:H.status,Type:H.consultation_type,"Case Number":H.case_number||"","Assigned To":H.agent?`${H.agent.first_name} ${H.agent.last_name}`:"",Message:H.message||""})),V=Object.keys(k[0]),z=[V.join(","),...k.map(H=>V.map(Z=>`"${H[Z]}"`).join(","))].join(`
`),q=new Blob([z],{type:"text/csv"}),R=window.URL.createObjectURL(q),X=document.createElement("a");X.href=R,X.download=`consultations-${new Date().toISOString().split("T")[0]}.csv`,X.click()}return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold",children:"Consultation Requests"}),r.jsx("p",{className:"text-gray-600",children:"Manage and respond to customer consultation requests"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold",children:C.total}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:C.pending}),r.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:C.scheduled}),r.jsx("div",{className:"text-sm text-gray-600",children:"Scheduled"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:C.completed}),r.jsx("div",{className:"text-sm text-gray-600",children:"Completed"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"p-4",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:C.cancelled}),r.jsx("div",{className:"text-sm text-gray-600",children:"Cancelled"})]})})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(Ne,{type:"text",placeholder:"Search by name, email, phone, case number...",value:d,onChange:k=>h(k.target.value),className:"pl-10"})]}),r.jsxs("select",{value:g,onChange:k=>m(k.target.value),className:"px-4 py-2 border rounded-md bg-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]}),r.jsxs("select",{value:x,onChange:k=>y(k.target.value),className:"px-4 py-2 border rounded-md bg-white",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"general",children:"General"}),r.jsx("option",{value:"financing",children:"Financing"}),r.jsx("option",{value:"bidding",children:"Bidding"}),r.jsx("option",{value:"inspection",children:"Inspection"})]}),r.jsxs(te,{onClick:de,variant:"outline",children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]}),b?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading consultations..."})]}):t.length===0?r.jsx(he,{children:r.jsxs(fe,{className:"p-12 text-center",children:[r.jsx(Pt,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No consultations found"})]})}):r.jsx("div",{className:"space-y-4",children:t.map(k=>r.jsx(he,{className:"hover:shadow-md transition-shadow",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-4",children:[r.jsxs("div",{className:"flex-1 space-y-3",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center",children:r.jsx(Xt,{className:"h-5 w-5 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:k.customer_name}),r.jsx("p",{className:"text-sm text-gray-500",children:Q(k.created_at)})]})]}),r.jsxs("div",{className:"flex gap-2",children:[oe(k.status),le(k.consultation_type)]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(it,{className:"h-4 w-4"}),r.jsx("a",{href:`mailto:${k.customer_email}`,className:"hover:text-blue-600",children:k.customer_email})]}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(rs,{className:"h-4 w-4"}),r.jsx("a",{href:`tel:${k.customer_phone}`,className:"hover:text-blue-600",children:k.customer_phone})]}),k.case_number&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(ht,{className:"h-4 w-4"}),r.jsxs("span",{children:["Case #",k.case_number]})]}),k.agent&&r.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[r.jsx(en,{className:"h-4 w-4"}),r.jsxs("span",{className:"font-medium text-blue-600",children:["Assigned to: ",k.agent.first_name," ",k.agent.last_name]})]})]}),k.message&&r.jsx("div",{className:"bg-gray-50 p-3 rounded-md",children:r.jsx("p",{className:"text-sm text-gray-700",children:k.message})})]}),r.jsxs("div",{className:"flex md:flex-col gap-2",children:[r.jsxs(te,{size:"sm",onClick:()=>P(k),className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(Na,{className:"h-4 w-4 mr-1"}),"Update"]}),k.status==="pending"&&r.jsxs(r.Fragment,{children:[r.jsxs(te,{size:"sm",onClick:()=>I(k.id,"scheduled"),className:"bg-blue-600 hover:bg-blue-700",children:[r.jsx(Qs,{className:"h-4 w-4 mr-1"}),"Schedule"]}),r.jsxs(te,{size:"sm",variant:"outline",onClick:()=>I(k.id,"completed"),children:[r.jsx(at,{className:"h-4 w-4 mr-1"}),"Complete"]})]}),k.status==="scheduled"&&r.jsxs(te,{size:"sm",onClick:()=>I(k.id,"completed"),className:"bg-green-600 hover:bg-green-700",children:[r.jsx(at,{className:"h-4 w-4 mr-1"}),"Complete"]}),(k.status==="pending"||k.status==="scheduled")&&r.jsxs(te,{size:"sm",variant:"outline",onClick:()=>I(k.id,"cancelled"),className:"text-red-600 hover:bg-red-50",children:[r.jsx(Xc,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]})})},k.id))}),_&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"p-6 border-b",children:[r.jsx("h3",{className:"text-xl font-bold",children:"Update Consultation"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Edit consultation details and assign broker"})]}),r.jsxs("div",{className:"p-6 space-y-4",children:[r.jsxs("div",{className:"bg-gray-50 p-4 rounded-md space-y-2",children:[r.jsx("h4",{className:"font-semibold",children:"Customer Information"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Name:"})," ",_.customer_name]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Email:"})," ",_.customer_email]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Phone:"})," ",_.customer_phone]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Status"}),r.jsxs("select",{value:N.status,onChange:k=>E({...N,status:k.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"referred",children:"Referred"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"}),r.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Consultation Type"}),r.jsxs("select",{value:N.consultation_type,onChange:k=>E({...N,consultation_type:k.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"general",children:"General"}),r.jsx("option",{value:"financing",children:"Financing"}),r.jsx("option",{value:"bidding",children:"Bidding"}),r.jsx("option",{value:"inspection",children:"Inspection"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assign Broker"}),r.jsxs("select",{value:N.agent_id,onChange:k=>E({...N,agent_id:k.target.value}),className:"w-full px-3 py-2 border rounded-md",children:[r.jsx("option",{value:"",children:"No broker assigned"}),o.map(k=>{var V;return r.jsxs("option",{value:k.id,children:[k.first_name," ",k.last_name," (",(V=k.states_covered)==null?void 0:V.join(", "),")"]},k.id)})]}),N.agent_id&&N.agent_id!==_.agent_id&&r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:' This will create a referral with "Referred" status'})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Property Case Number"}),r.jsx(Ne,{type:"text",value:N.case_number,onChange:k=>E({...N,case_number:k.target.value}),placeholder:"e.g., 387-124193"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Message / Notes"}),r.jsx("textarea",{value:N.message,onChange:k=>E({...N,message:k.target.value}),rows:4,className:"w-full px-3 py-2 border rounded-md",placeholder:"Add notes or update message..."})]})]}),r.jsxs("div",{className:"p-6 border-t flex gap-3 justify-end",children:[r.jsx(te,{variant:"outline",onClick:Y,children:"Cancel"}),r.jsxs(te,{onClick:D,className:"bg-purple-600 hover:bg-purple-700",children:[r.jsx(on,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})})]})}function OO(){const[n,e]=v.useState([]),[t,i]=v.useState(""),[o,c]=v.useState(!1),[d,h]=v.useState(null),[g,m]=v.useState(b()),[x,y]=v.useState(!1);v.useEffect(()=>{w()},[]);function b(){return{firstName:"",lastName:"",email:"",phone:"",company:"",licenseNumber:"",licenseState:"NC",statesCovered:["NC"],specialties:[],yearsExperience:0,bio:"",isAdmin:!1}}async function w(){y(!0);try{const D=await bs.getAllAgents();D.success?e(D.data):console.error("Error loading agents:",D.error)}catch(D){console.error("Error loading agents:",D)}y(!1)}async function _(){if(t.trim()){y(!0);const D=await bs.searchAgents(t);D.success&&e(D.data),y(!1)}else w()}function j(){h(null),m(b()),c(!0)}function N(D){h(D),m({firstName:D.first_name||"",lastName:D.last_name||"",email:D.email||"",phone:D.phone||"",company:D.company||"",licenseNumber:D.license_number||"",licenseState:D.license_state||"NC",statesCovered:D.states_covered||["NC"],specialties:D.specialties||[],yearsExperience:D.years_experience||0,bio:D.bio||"",isAdmin:D.is_admin||!1}),c(!0)}async function E(D){if(confirm(`Are you sure you want to delete ${D.first_name} ${D.last_name}?`))try{const I=await bs.deleteAgent(D.id);I.success?(alert("Agent deleted successfully!"),w()):alert("Error: "+I.error)}catch(I){alert("Error: "+I.message)}}async function C(D){if(D.preventDefault(),!g.firstName||!g.lastName||!g.email||!g.phone){alert("Please fill in all required fields");return}y(!0);try{let I;d?(I=await bs.updateAgent(d.id,g),I.success?alert("Agent updated successfully!"):alert("Error: "+I.error)):(I=await bs.addAgent(g),I.success?alert("Agent added successfully!"):alert("Error: "+I.error)),I.success&&(c(!1),m(b()),h(null),w())}catch(I){alert("Error: "+I.message)}y(!1)}function T(){c(!1),m(b()),h(null)}async function O(){const D=await bs.getAllAgents();if(!D.success)return;const I=D.data,Q=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),oe=URL.createObjectURL(Q),le=document.createElement("a");le.href=oe,le.download=`agents_backup_${new Date().toISOString().split("T")[0]}.json`,le.click(),URL.revokeObjectURL(oe)}async function U(D){const I=D.target.files[0];if(I){const Q=new FileReader;Q.onload=async oe=>{try{const le=JSON.parse(oe.target.result);let de=0;for(const k of le.agents||le)(await bs.addAgent(k)).success&&de++;w(),alert(`Imported ${de} agents successfully!`)}catch(le){alert("Error importing agents: "+le.message)}},Q.readAsText(I)}}function G(D){const I=g.statesCovered.includes(D)?g.statesCovered.filter(Q=>Q!==D):[...g.statesCovered,D];m({...g,statesCovered:I})}function L(D){const I=g.specialties.includes(D)?g.specialties.filter(Q=>Q!==D):[...g.specialties,D];m({...g,specialties:I})}const[P,Y]=v.useState({total:0,active:0,totalListings:0,totalSales:0});return v.useEffect(()=>{async function D(){const I=await bs.getAgentStats();I.success&&Y(I.data)}D()},[n]),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Agent/Broker Management"}),r.jsx("p",{className:"text-gray-600",children:"Add, edit, and manage HUD-registered agents"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(te,{variant:"outline",onClick:O,children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Export"]}),r.jsxs("label",{children:[r.jsxs(te,{variant:"outline",as:"span",children:[r.jsx(Zc,{className:"h-4 w-4 mr-2"}),"Import"]}),r.jsx("input",{type:"file",accept:".json",onChange:U,className:"hidden"})]}),r.jsxs(te,{onClick:j,children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Agent"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:P.total}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Agents"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:P.active}),r.jsx("p",{className:"text-sm text-gray-600",children:"Active Agents"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:P.totalListings}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Listings"})]})}),r.jsx(he,{children:r.jsxs(fe,{className:"pt-6",children:[r.jsx("div",{className:"text-2xl font-bold",children:P.totalSales}),r.jsx("p",{className:"text-sm text-gray-600",children:"Total Sales"})]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(Ne,{placeholder:"Search by name, email, phone, company, or state...",value:t,onChange:D=>i(D.target.value),onKeyPress:D=>D.key==="Enter"&&_(),className:"flex-1"}),r.jsxs(te,{onClick:_,disabled:x,children:[r.jsx(pr,{className:"h-4 w-4 mr-2"}),"Search"]}),t&&r.jsx(te,{variant:"outline",onClick:()=>{i(""),w()},children:"Clear"})]}),o&&r.jsxs(he,{className:"border-2 border-blue-500",children:[r.jsxs(Oe,{children:[r.jsx(De,{children:d?"Edit Agent":"Add New Agent"}),r.jsx(us,{children:d?"Update agent information":"Enter agent details"})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:C,className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name *"}),r.jsx(Ne,{value:g.firstName,onChange:D=>m({...g,firstName:D.target.value}),placeholder:"Marc",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name *"}),r.jsx(Ne,{value:g.lastName,onChange:D=>m({...g,lastName:D.target.value}),placeholder:"Spencer",required:!0})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Company"}),r.jsx(Ne,{value:g.company,onChange:D=>m({...g,company:D.target.value}),placeholder:"Lightkeeper Realty"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),r.jsx(Ne,{type:"email",value:g.email,onChange:D=>m({...g,email:D.target.value}),placeholder:"agent@example.com",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),r.jsx(Ne,{type:"tel",value:g.phone,onChange:D=>m({...g,phone:D.target.value}),placeholder:"(910) 363-6147",required:!0})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License Number"}),r.jsx(Ne,{value:g.licenseNumber,onChange:D=>m({...g,licenseNumber:D.target.value}),placeholder:"153928"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"License State"}),r.jsxs("select",{value:g.licenseState,onChange:D=>m({...g,licenseState:D.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"NC",children:"North Carolina"}),r.jsx("option",{value:"TN",children:"Tennessee"}),r.jsx("option",{value:"SC",children:"South Carolina"}),r.jsx("option",{value:"VA",children:"Virginia"}),r.jsx("option",{value:"GA",children:"Georgia"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Years Experience"}),r.jsx(Ne,{type:"number",value:g.yearsExperience,onChange:D=>m({...g,yearsExperience:parseInt(D.target.value)||0}),placeholder:"25"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"States Covered"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["NC","TN","SC","VA","GA","FL","AL","MS"].map(D=>r.jsx(te,{type:"button",variant:g.statesCovered.includes(D)?"default":"outline",size:"sm",onClick:()=>G(D),children:D},D))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Specialties"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["HUD Homes","Government Foreclosures","FHA 203k Loans","First-Time Buyers","Investment Properties","Renovation Financing"].map(D=>r.jsx(te,{type:"button",variant:g.specialties.includes(D)?"default":"outline",size:"sm",onClick:()=>L(D),children:D},D))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bio"}),r.jsx(cs,{value:g.bio,onChange:D=>m({...g,bio:D.target.value}),placeholder:"25+ years helping people buy HUD homes across North Carolina",rows:3})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"isAdmin",checked:g.isAdmin,onChange:D=>m({...g,isAdmin:D.target.checked}),className:"mr-2"}),r.jsx("label",{htmlFor:"isAdmin",className:"text-sm font-medium",children:"Admin Access"})]}),r.jsxs("div",{className:"flex gap-2 justify-end",children:[r.jsxs(te,{type:"button",variant:"outline",onClick:T,children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Cancel"]}),r.jsxs(te,{type:"submit",disabled:x,children:[r.jsx(on,{className:"h-4 w-4 mr-2"}),x?"Saving...":d?"Update":"Add"," Agent"]})]})]})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(D=>{var I;return r.jsx(he,{className:"hover:shadow-lg transition-shadow",children:r.jsx(fe,{className:"p-6",children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex gap-4 flex-1",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx(d0,{className:"h-8 w-8 text-green-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("h3",{className:"text-lg font-bold",children:[D.first_name," ",D.last_name]}),D.is_admin&&r.jsx(ze,{variant:"destructive",className:"text-xs",children:"ADMIN"}),r.jsx(ze,{variant:D.is_active?"default":"secondary",children:D.is_active?"Active":"Inactive"})]}),r.jsxs("p",{className:"text-gray-600 flex items-center gap-1",children:[r.jsx(tE,{className:"h-4 w-4"}),D.company]}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-600 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"h-4 w-4"}),D.email]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(rs,{className:"h-4 w-4"}),D.phone]})]})]})}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm mt-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"States:"}),r.jsx("div",{className:"font-semibold",children:((I=D.states_covered)==null?void 0:I.join(", "))||"N/A"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Experience:"}),r.jsxs("div",{className:"font-semibold",children:[D.years_experience," years"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Listings:"}),r.jsx("div",{className:"font-semibold",children:D.total_listings||0})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"License:"}),r.jsxs("div",{className:"font-semibold",children:[D.license_state," ",D.license_number]})]})]}),D.specialties&&D.specialties.length>0&&r.jsx("div",{className:"flex gap-2 mt-3 flex-wrap",children:D.specialties.map(Q=>r.jsx(ze,{variant:"outline",className:"text-xs",children:Q},Q))}),D.bio&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:D.bio})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsx(te,{variant:"outline",size:"sm",onClick:()=>N(D),children:r.jsx(Na,{className:"h-4 w-4"})}),r.jsx(te,{variant:"outline",size:"sm",onClick:()=>E(D),children:r.jsx(pu,{className:"h-4 w-4 text-red-600"})})]})]})})},D.id)})}),x&&n.length===0&&r.jsx(he,{children:r.jsx(fe,{className:"py-12 text-center",children:r.jsx("p",{className:"text-gray-600",children:"Loading agents..."})})}),!x&&n.length===0&&r.jsx(he,{children:r.jsxs(fe,{className:"py-12 text-center",children:[r.jsx(d0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600 mb-2",children:"No agents found"}),r.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Add Marc Spencer as your first HUD-registered agent"}),r.jsxs(te,{onClick:j,className:"mt-4",children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Your First Agent"]})]})})]})}const DO=()=>{var h;const{user:n,profile:e,logout:t}=nr(),[i,o]=v.useState("properties"),c=[{id:"properties",label:"Properties",icon:ht,component:TO},{id:"customers",label:"Customers",icon:Sm,component:kO},{id:"consultations",label:"Consultations",icon:Pt,component:RO},{id:"agents",label:"Agents",icon:oC,component:OO}],d=(h=c.find(g=>g.id===i))==null?void 0:h.component;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Dashboard"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage properties, customers, consultations, and agents"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("a",{href:"/broker-dashboard",className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(gr,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Broker Dashboard"})]}),r.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Nm,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),r.jsx("div",{className:"mt-6 border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:c.map(g=>{const m=g.icon,x=i===g.id;return r.jsxs("button",{onClick:()=>o(g.id),className:`
                      flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap
                      ${x?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
                    `,children:[r.jsx(m,{className:"w-5 h-5"}),g.label]},g.id)})})})]})}),r.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d&&r.jsx(d,{})})]})},MO=vm("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function LO({className:n,variant:e,...t}){return r.jsx("div",{"data-slot":"alert",role:"alert",className:ct(MO({variant:e}),n),...t})}function PO({className:n,...e}){return r.jsx("div",{"data-slot":"alert-description",className:ct("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",n),...e})}function yf(){const n=rr(),e=sr(),{signIn:t,isAuthenticated:i,getDashboardRoute:o,loading:c}=nr(),[d,h]=v.useState({email:"",password:""}),[g,m]=v.useState(!1),[x,y]=v.useState(""),[b,w]=v.useState(!1);v.useEffect(()=>{var E,C;if(i&&!c){const T=((C=(E=e.state)==null?void 0:E.from)==null?void 0:C.pathname)||o();n(T,{replace:!0})}},[i,c,n,e,o]);const _=async E=>{var T,O;if(E.preventDefault(),w(!0),y(""),!d.email||!d.password){y("Please enter both email and password"),w(!1);return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)){y("Please enter a valid email address"),w(!1);return}try{const U=await t(d.email,d.password);if(U.success){const G=((O=(T=e.state)==null?void 0:T.from)==null?void 0:O.pathname)||o();n(G,{replace:!0})}else y(U.error||"Invalid email or password. Please try again.")}catch(U){console.error("Login error:",U),y("Login failed. Please try again.")}finally{w(!1)}},j=E=>{const{name:C,value:T}=E.target;h(O=>({...O,[C]:T})),x&&y("")},N=()=>{n("/forgot-password")};return r.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsxs(Oe,{className:"text-center",children:[r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-blue-600 p-3 rounded-full",children:r.jsx(c0,{className:"h-6 w-6 text-white"})})}),r.jsx(De,{className:"text-2xl font-bold",children:"Welcome Back"}),r.jsx(us,{children:"Sign in to access your dashboard"})]}),r.jsxs(fe,{children:[r.jsxs("form",{onSubmit:_,className:"space-y-4",children:[x&&r.jsx(LO,{variant:"destructive",children:r.jsx(PO,{children:x})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"Email Address"}),r.jsxs("div",{className:"relative",children:[r.jsx(it,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(Ne,{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:d.email,onChange:j,className:"pl-10",required:!0,disabled:b,autoComplete:"email"})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"relative",children:[r.jsx(c0,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),r.jsx(Ne,{id:"password",name:"password",type:g?"text":"password",placeholder:"Enter your password",value:d.password,onChange:j,className:"pl-10 pr-10",required:!0,disabled:b,autoComplete:"current-password"}),r.jsx("button",{type:"button",onClick:()=>m(!g),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",disabled:b,children:g?r.jsx(xE,{className:"h-4 w-4"}):r.jsx(gu,{className:"h-4 w-4"})})]})]}),r.jsx("div",{className:"flex justify-end",children:r.jsx("button",{type:"button",onClick:N,className:"text-sm text-blue-600 hover:text-blue-700 hover:underline",disabled:b,children:"Forgot password?"})}),r.jsx(te,{type:"submit",className:"w-full",disabled:b,children:b?r.jsxs("div",{className:"flex items-center justify-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign In"})]}),r.jsx("div",{className:"mt-6 text-center text-sm text-gray-600",children:r.jsxs("p",{children:["Don't have an account?"," ",r.jsx("button",{onClick:()=>n("/contact"),className:"text-blue-600 hover:text-blue-700 hover:underline font-medium",children:"Contact us"})]})}),r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsxs("p",{className:"text-xs text-gray-600 text-center",children:[r.jsx("strong",{children:"Role-Based Access:"}),r.jsx("br",{})," End Users: Profile management",r.jsx("br",{})," Brokers: Lead management",r.jsx("br",{})," Admins: Full system access"]})})]})]})})}function UO({onStateSelect:n,stateStats:e={}}){var m,x,y,b,w,_;const[t,i]=v.useState(null),[o,c]=v.useState(null),d=[{code:"AL",name:"Alabama",x:580,y:420},{code:"AK",name:"Alaska",x:120,y:520},{code:"AZ",name:"Arizona",x:280,y:380},{code:"AR",name:"Arkansas",x:480,y:380},{code:"CA",name:"California",x:120,y:320},{code:"CO",name:"Colorado",x:380,y:320},{code:"CT",name:"Connecticut",x:720,y:260},{code:"DE",name:"Delaware",x:700,y:300},{code:"DC",name:"District of Columbia",x:680,y:310},{code:"FL",name:"Florida",x:640,y:480},{code:"GA",name:"Georgia",x:600,y:420},{code:"HI",name:"Hawaii",x:200,y:480},{code:"ID",name:"Idaho",x:280,y:220},{code:"IL",name:"Illinois",x:520,y:300},{code:"IN",name:"Indiana",x:560,y:300},{code:"IA",name:"Iowa",x:480,y:280},{code:"KS",name:"Kansas",x:420,y:340},{code:"KY",name:"Kentucky",x:580,y:340},{code:"LA",name:"Louisiana",x:480,y:440},{code:"ME",name:"Maine",x:740,y:200},{code:"MD",name:"Maryland",x:680,y:310},{code:"MA",name:"Massachusetts",x:720,y:240},{code:"MI",name:"Michigan",x:560,y:240},{code:"MN",name:"Minnesota",x:460,y:220},{code:"MS",name:"Mississippi",x:520,y:420},{code:"MO",name:"Missouri",x:460,y:340},{code:"MT",name:"Montana",x:340,y:200},{code:"NE",name:"Nebraska",x:420,y:300},{code:"NV",name:"Nevada",x:220,y:300},{code:"NH",name:"New Hampshire",x:720,y:220},{code:"NJ",name:"New Jersey",x:700,y:280},{code:"NM",name:"New Mexico",x:340,y:380},{code:"NY",name:"New York",x:680,y:240},{code:"NC",name:"North Carolina",x:640,y:360},{code:"ND",name:"North Dakota",x:420,y:200},{code:"OH",name:"Ohio",x:600,y:300},{code:"OK",name:"Oklahoma",x:420,y:380},{code:"OR",name:"Oregon",x:160,y:220},{code:"PA",name:"Pennsylvania",x:660,y:280},{code:"PR",name:"Puerto Rico",x:720,y:480},{code:"RI",name:"Rhode Island",x:730,y:250},{code:"SC",name:"South Carolina",x:620,y:380},{code:"SD",name:"South Dakota",x:420,y:260},{code:"TN",name:"Tennessee",x:560,y:360},{code:"TX",name:"Texas",x:380,y:440},{code:"UT",name:"Utah",x:300,y:320},{code:"VT",name:"Vermont",x:710,y:220},{code:"VA",name:"Virginia",x:640,y:330},{code:"WA",name:"Washington",x:200,y:160},{code:"WV",name:"West Virginia",x:620,y:320},{code:"WI",name:"Wisconsin",x:500,y:240},{code:"WY",name:"Wyoming",x:340,y:260}],h=j=>{c(j),n&&n(j)},g=j=>{const N=e[j];if(!N)return"#e5e7eb";const E=N.total_properties;return E>=6?"#1d4ed8":E>=4?"#3b82f6":E>=2?"#60a5fa":"#93c5fd"};return r.jsx("div",{className:"w-full",children:r.jsxs(he,{children:[r.jsxs(Oe,{children:[r.jsxs(De,{className:"flex items-center gap-2",children:[r.jsx(ar,{className:"h-5 w-5 text-blue-600"}),"HUD Properties Nationwide"]}),r.jsx(us,{children:"Click on any state to view available HUD properties. Darker blue indicates more properties."})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"relative",children:[r.jsx("svg",{viewBox:"0 0 800 600",className:"w-full h-auto border border-gray-200 rounded-lg bg-gray-50",children:d.map(j=>{const N=e[j.code],E=t===j.code,C=o===j.code;return r.jsxs("g",{children:[r.jsx("circle",{cx:j.x,cy:j.y,r:E||C?18:15,fill:g(j.code),stroke:C?"#f59e0b":E?"#374151":"#ffffff",strokeWidth:C?3:E?2:1,className:"cursor-pointer transition-all duration-200 hover:drop-shadow-lg",onMouseEnter:()=>i(j.code),onMouseLeave:()=>i(null),onClick:()=>h(j)}),r.jsx("text",{x:j.x,y:j.y+4,textAnchor:"middle",className:"text-xs font-semibold fill-white pointer-events-none",style:{fontSize:"10px"},children:j.code}),N&&N.total_properties>0&&r.jsx("circle",{cx:j.x+12,cy:j.y-12,r:"8",fill:"#dc2626",className:"pointer-events-none"}),N&&N.total_properties>0&&r.jsx("text",{x:j.x+12,y:j.y-8,textAnchor:"middle",className:"text-xs font-bold fill-white pointer-events-none",style:{fontSize:"8px"},children:N.total_properties})]},j.code)})}),t&&r.jsxs("div",{className:"absolute top-4 left-4 bg-white p-3 rounded-lg shadow-lg border z-10",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:(m=d.find(j=>j.code===t))==null?void 0:m.name}),e[t]&&r.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ht,{className:"h-3 w-3"}),e[t].total_properties," properties"]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(_i,{className:"h-3 w-3"}),"Avg: $",(x=e[t].avg_price)==null?void 0:x.toLocaleString()]})]})]})]}),r.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Property Count:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-300"}),r.jsx("span",{className:"text-xs text-gray-600",children:"1-2"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-400"}),r.jsx("span",{className:"text-xs text-gray-600",children:"3-4"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),r.jsx("span",{className:"text-xs text-gray-600",children:"5-6"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-700"}),r.jsx("span",{className:"text-xs text-gray-600",children:"7+"})]})]})]}),o&&r.jsx(te,{variant:"outline",size:"sm",onClick:()=>c(null),children:"Clear Selection"})]}),o&&e[o]&&r.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:(y=d.find(j=>j.code===o))==null?void 0:y.name}),r.jsxs(ze,{variant:"secondary",children:[e[o].total_properties," properties"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Average Price:"}),r.jsxs("div",{className:"font-semibold text-green-600",children:["$",(b=e[o].avg_price)==null?void 0:b.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Price Range:"}),r.jsxs("div",{className:"font-semibold",children:["$",(w=e[o].min_price)==null?void 0:w.toLocaleString()," - $",(_=e[o].max_price)==null?void 0:_.toLocaleString()]})]})]}),e[o].cities&&r.jsxs("div",{className:"mt-2",children:[r.jsx("span",{className:"text-gray-600 text-sm",children:"Cities:"}),r.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e[o].cities.slice(0,5).map((j,N)=>r.jsx(ze,{variant:"outline",className:"text-xs",children:j},N)),e[o].cities.length>5&&r.jsxs(ze,{variant:"outline",className:"text-xs",children:["+",e[o].cities.length-5," more"]})]})]})]})]})]})})}const $O=({referral:n,onAccept:e,onCancel:t,loading:i})=>{const[o,c]=v.useState(""),[d,h]=v.useState(!0),g=n.customer||{},m=n.property||{},x=y=>{y.preventDefault(),e(o)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(at,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Accept Referral"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Confirm you want to work with this lead"})]})]}),r.jsx("button",{onClick:t,disabled:i,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:x,children:[r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"You're about to accept this lead:"}),r.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Customer:"})," ",g.first_name," ",g.last_name]}),m.case_number&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Property:"})," ",m.case_number," - ",m.address]}),m.city&&m.state&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Location:"})," ",m.city,", ",m.state]})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"By accepting, you agree to:"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:["Contact the customer within ",r.jsx("strong",{children:"24 hours"})]})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Provide professional and courteous service"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Update the lead status regularly"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Report the final outcome (won/lost)"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Initial Notes (Optional)"}),r.jsx("textarea",{value:o,onChange:y=>c(y.target.value),placeholder:"Add any notes about this lead, your initial thoughts, or action plan...",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be saved to your activity log"})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsx("input",{type:"checkbox",id:"sendConfirmation",checked:d,onChange:y=>h(y.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("label",{htmlFor:"sendConfirmation",className:"block text-sm font-medium text-gray-900 cursor-pointer",children:"Send confirmation email to customer"}),r.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"The customer will receive an email with your contact information and a message that you'll reach out within 24 hours."})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[r.jsx(va,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"Important"}),r.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"Once accepted, this lead will move to your active leads. Make sure you have the capacity to provide excellent service to this customer."})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[r.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Accepting..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-5 h-5"}),r.jsx("span",{children:"Confirm Accept"})]})})]})]})]})})},IO=({referral:n,onDecline:e,onCancel:t,loading:i})=>{const[o,c]=v.useState(""),[d,h]=v.useState(""),g=n.customer||{},m=n.property||{},x=[{value:"outside_service_area",label:"Outside my service area"},{value:"at_capacity",label:"Too busy / At capacity"},{value:"property_type",label:"Property type not my specialty"},{value:"conflict_of_interest",label:"Conflict of interest"},{value:"customer_requirements",label:"Customer requirements don't match"},{value:"other",label:"Other (specify below)"}],y=b=>{if(b.preventDefault(),!o){alert("Please select a reason for declining");return}if(o==="other"&&!d.trim()){alert('Please provide additional details when selecting "Other"');return}e(o,d)};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Xc,{className:"w-6 h-6 text-red-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Decline Referral"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Please provide a reason for declining"})]})]}),r.jsx("button",{onClick:t,disabled:i,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:y,children:[r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"You're about to decline this lead:"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Customer:"})," ",g.first_name," ",g.last_name]}),m.case_number&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Property:"})," ",m.case_number," - ",m.address]}),m.city&&m.state&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Location:"})," ",m.city,", ",m.state]})]})]}),r.jsxs("div",{className:"flex items-start gap-3 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[r.jsx(ab,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-orange-900",children:"This lead will be returned to the admin"}),r.jsx("p",{className:"text-xs text-orange-700 mt-1",children:"The lead will be returned to the admin's unassigned pool for reassignment to another broker. The customer will not be notified of your decline."})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Reason for Declining ",r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsxs("select",{value:o,onChange:b=>c(b.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a reason..."}),x.map(b=>r.jsx("option",{value:b.value,children:b.label},b.value))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Additional Notes ",o==="other"&&r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsx("textarea",{value:d,onChange:b=>h(b.target.value),placeholder:"Explain your reason for declining (required if 'Other' is selected)...",rows:4,required:o==="other",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This information helps us improve lead matching and assignment"})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-yellow-900 mb-2",children:"Impact on Your Metrics"}),r.jsxs("ul",{className:"space-y-1 text-xs text-yellow-800",children:[r.jsx("li",{children:" Your acceptance rate will be affected"}),r.jsx("li",{children:" Multiple declines may lower your lead assignment priority"}),r.jsx("li",{children:" This helps us match leads better in the future"})]})]})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[r.jsx("button",{type:"button",onClick:t,disabled:i,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i||!o,className:"px-6 py-2.5 bg-red-600 hover:bg-red-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:i?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Declining..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Xc,{className:"w-5 h-5"}),r.jsx("span",{children:"Confirm Decline"})]})})]})]})]})})},BO=({referral:n,agentId:e,onAction:t})=>{var E,C;const{profile:i}=nr(),[o,c]=v.useState(!1),[d,h]=v.useState(!1),[g,m]=v.useState(!1),x=n.customer||{first_name:((E=n.customer_name)==null?void 0:E.split(" ")[0])||"",last_name:((C=n.customer_name)==null?void 0:C.split(" ").slice(1).join(" "))||"",email:n.customer_email||"",phone:n.customer_phone||""},y=n.property||{},w=(()=>{if(!n.referral_expires_at)return null;const T=new Date,U=new Date(n.referral_expires_at)-T;if(U<=0)return"Expired";const G=Math.floor(U/(1e3*60*60)),L=Math.floor(U%(1e3*60*60)/(1e3*60));return G>0?`${G}h ${L}m remaining`:`${L}m remaining`})(),_=n.referral_expires_at&&new Date(n.referral_expires_at)-new Date<2*60*60*1e3,j=async T=>{m(!0);try{const O=await Jt.acceptReferral(n.id,e,T);O.success?(c(!1),t("accepted")):alert("Failed to accept referral: "+(O.error||"Unknown error"))}catch(O){console.error("Error accepting referral:",O),alert("Failed to accept referral. Please try again.")}finally{m(!1)}},N=async(T,O)=>{m(!0);try{const U=await Jt.declineReferral(n.id,e,T,O);U.success?(h(!1),t("declined")):alert("Failed to decline referral: "+(U.error||"Unknown error"))}catch(U){console.error("Error declining referral:",U),alert("Failed to decline referral. Please try again.")}finally{m(!1)}};return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 ${_?"border-orange-300":"border-gray-200"} overflow-hidden transition-all hover:shadow-md`,children:[_&&r.jsxs("div",{className:"bg-orange-100 border-b border-orange-200 px-4 py-2 flex items-center gap-2",children:[r.jsx(ab,{className:"w-4 h-4 text-orange-600"}),r.jsxs("span",{className:"text-sm font-medium text-orange-800",children:[" Expiring Soon: ",w]})]}),r.jsxs("div",{className:"p-6",children:[r.jsx("div",{className:"flex items-start justify-between mb-4",children:r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"NEW REFERRAL"}),!_&&w&&r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(mu,{className:"w-3 h-3"}),w]})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Referred: ",new Date(n.referred_at||n.created_at).toLocaleString()]})]})}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-600"}),"Customer Information"]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsx("div",{children:r.jsxs("p",{className:"text-sm font-medium text-gray-700",children:[x.first_name," ",x.last_name]})}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("a",{href:`mailto:${x.email}`,className:"hover:text-blue-600",children:x.email})]}),x.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(rs,{className:"w-4 h-4"}),r.jsx("a",{href:`tel:${x.phone}`,className:"hover:text-blue-600",children:x.phone})]})]})]}),y.case_number&&r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(ht,{className:"w-5 h-5 text-gray-600"}),"Property Details"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Case #:"})," ",r.jsx("span",{className:"font-mono text-gray-900",children:y.case_number})]}),y.address&&r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx(ar,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:[y.address,", ",y.city,", ",y.state," ",y.zip]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[y.list_price&&r.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[r.jsx(_i,{className:"w-4 h-4"}),r.jsx("span",{className:"font-semibold",children:y.list_price.toLocaleString()})]}),y.bedrooms&&r.jsxs("span",{className:"text-gray-600",children:[" ",y.bedrooms," bed"]}),y.bathrooms&&r.jsxs("span",{className:"text-gray-600",children:[" ",y.bathrooms," bath"]}),y.sq_ft&&r.jsxs("span",{className:"text-gray-600",children:[" ",y.sq_ft.toLocaleString()," sq ft"]})]})]})]}),n.message&&r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Pt,{className:"w-4 h-4 text-gray-600"}),"Customer Message"]}),r.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 rounded-lg p-3",children:['"',n.message,'"']})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Referral Details"}),r.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Type:"})," ",n.consultation_type||"General Inquiry"]}),r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Preferred Contact:"})," ",n.preferred_contact||"Any"]}),y.state&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Territory:"})," ",y.state]})]})]}),r.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r.jsxs("button",{onClick:()=>c(!0),disabled:g,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(at,{className:"w-5 h-5"}),"Accept Referral"]}),r.jsxs("button",{onClick:()=>h(!0),disabled:g,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Xc,{className:"w-5 h-5"}),"Decline"]})]})]})]}),o&&r.jsx($O,{referral:n,onAccept:j,onCancel:()=>c(!1),loading:g}),d&&r.jsx(IO,{referral:n,onDecline:N,onCancel:()=>h(!1),loading:g})]})},HO=({consultation:n,customer:e,property:t,onSend:i,onCancel:o})=>{const{profile:c}=nr(),[d,h]=v.useState(""),[g,m]=v.useState(""),[x,y]=v.useState(""),[b,w]=v.useState(!1),_=[{id:"initial_contact",name:"Initial Contact",subject:`Re: Your Interest in ${t.case_number||"HUD Property"}`,body:`Hi ${e.first_name},

Thank you for your interest in the HUD property${t.case_number?` (Case #${t.case_number})`:""}${t.address?` located at ${t.address}`:""}.

I'm ${c.first_name} ${c.last_name}, a licensed real estate broker specializing in HUD homes in ${c.state||"your area"}. I'd be happy to help you with this property and answer any questions you may have.

Here's what I can help you with:
 Property showing and inspection
 Financing options and pre-approval guidance
 Bid preparation and submission
 Closing process assistance

${t.list_price?`The current list price is $${t.list_price.toLocaleString()}.`:""} ${t.bid_open_date?`Bids are open until ${new Date(t.bid_open_date).toLocaleDateString()}.`:""}

When would be a good time for a call to discuss your interest and next steps? I'm available [your availability here].

Best regards,
${c.first_name} ${c.last_name}
${c.phone||"[Your Phone]"}
${c.email||"[Your Email]"}`},{id:"property_info",name:"Property Information",subject:`Property Details - ${t.case_number||"HUD Home"}`,body:`Hi ${e.first_name},

Here are the details for the HUD property you inquired about:

PROPERTY DETAILS:
${t.case_number?` Case Number: ${t.case_number}`:""}
${t.address?` Address: ${t.address}, ${t.city}, ${t.state} ${t.zip}`:""}
${t.list_price?` List Price: $${t.list_price.toLocaleString()}`:""}
${t.bedrooms?` Bedrooms: ${t.bedrooms}`:""}
${t.bathrooms?` Bathrooms: ${t.bathrooms}`:""}
${t.sq_ft?` Square Feet: ${t.sq_ft.toLocaleString()}`:""}
${t.year_built?` Year Built: ${t.year_built}`:""}

${t.bid_open_date?`BID DEADLINE: ${new Date(t.bid_open_date).toLocaleDateString()}`:""}

This is a great opportunity! HUD homes are sold "as-is" but often represent excellent value. I can help you:
1. Schedule a showing
2. Arrange for a home inspection
3. Get pre-approved for financing
4. Submit a competitive bid

Would you like to schedule a showing or discuss your financing options?

Best regards,
${c.first_name} ${c.last_name}
${c.phone||"[Your Phone]"}
${c.email||"[Your Email]"}`},{id:"follow_up",name:"Follow-Up",subject:`Following Up - ${t.case_number||"HUD Property"}`,body:`Hi ${e.first_name},

I wanted to follow up on your interest in the HUD property${t.case_number?` (Case #${t.case_number})`:""}. 

Have you had a chance to think about next steps? I'm here to help answer any questions you might have about:
 The property condition and features
 Financing options
 The bidding process
 Timeline and closing

${t.bid_open_date?`Please note that bids close on ${new Date(t.bid_open_date).toLocaleDateString()}, so we should move quickly if you're interested.`:""}

Let me know how I can help!

Best regards,
${c.first_name} ${c.last_name}
${c.phone||"[Your Phone]"}
${c.email||"[Your Email]"}`},{id:"showing_scheduled",name:"Showing Scheduled",subject:`Property Showing Confirmed - ${t.case_number||"HUD Home"}`,body:`Hi ${e.first_name},

Great news! I've scheduled a showing for the HUD property${t.case_number?` (Case #${t.case_number})`:""}.

SHOWING DETAILS:
 Date: [Date]
 Time: [Time]
 Location: ${t.address||"[Property Address]"}
 Meet at: [Meeting Location]

WHAT TO BRING:
 Photo ID
 Questions about the property
 Measuring tape (if desired)
 Camera/phone for photos

WHAT TO EXPECT:
 Property is sold "as-is"
 We'll have about 30-45 minutes
 I'll explain the bidding process
 We can discuss financing options

Please let me know if you need to reschedule or have any questions before the showing.

Looking forward to showing you the property!

Best regards,
${c.first_name} ${c.last_name}
${c.phone||"[Your Phone]"}
${c.email||"[Your Email]"}`},{id:"bid_preparation",name:"Bid Preparation",subject:`Ready to Submit Your Bid - ${t.case_number||"HUD Property"}`,body:`Hi ${e.first_name},

I'm ready to help you submit a competitive bid for the HUD property${t.case_number?` (Case #${t.case_number})`:""}.

TO SUBMIT A BID, I NEED:
1. Pre-approval letter from your lender
2. Earnest money deposit (typically 1-2% of bid amount)
3. Your maximum bid amount
4. Signed purchase agreement

${t.bid_open_date?`IMPORTANT: Bids must be submitted by ${new Date(t.bid_open_date).toLocaleDateString()}.`:""}

BIDDING STRATEGY:
${t.list_price?` List price: $${t.list_price.toLocaleString()}`:""}
 HUD accepts bids at, above, or below list price
 Multiple bids are common
 Highest qualified bid typically wins

Let's schedule a time to finalize your bid. The sooner we submit, the better!

Best regards,
${c.first_name} ${c.last_name}
${c.phone||"[Your Phone]"}
${c.email||"[Your Email]"}`}],j=E=>{const C=_.find(T=>T.id===E);C&&(h(C.subject),m(C.body),y(E))},N=async E=>{if(E.preventDefault(),!d.trim()||!g.trim()){alert("Please enter a subject and message");return}w(!0);try{const C=await Jt.logCommunication(n.id,c.id,"email_sent",{to:e.email,subject:d,body:g,template:x||"custom"});if(C.success){if(n.customer_id){const{eventService:O}=await Ht(async()=>{const{eventService:U}=await Promise.resolve().then(()=>xi);return{eventService:U}},void 0);O.logEmailSent(n.customer_id,n.id,c.id,{to:e.email,subject:d,body:g}).catch(U=>console.error("Failed to log email event:",U))}const T=`mailto:${e.email}?subject=${encodeURIComponent(d)}&body=${encodeURIComponent(g)}`;window.location.href=T,setTimeout(()=>{i()},1e3)}else alert("Failed to log email: "+(C.error||"Unknown error"))}catch(C){console.error("Error sending email:",C),alert("Failed to send email. Please try again.")}finally{w(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(it,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Send Email"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["To: ",e.email]})]})]}),r.jsx("button",{onClick:o,disabled:b,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:N,children:[r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[r.jsx(sb,{className:"w-4 h-4"}),"Quick Templates"]}),r.jsxs("select",{value:x,onChange:E=>j(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select a template..."}),_.map(E=>r.jsx("option",{value:E.id,children:E.name},E.id))]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Subject ",r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsx("input",{type:"text",value:d,onChange:E=>h(E.target.value),placeholder:"Email subject...",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Message ",r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsx("textarea",{value:g,onChange:E=>m(E.target.value),placeholder:"Type your message...",required:!0,rows:16,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none font-mono text-sm"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Personalize the template before sending"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," This will open your default email client. The email will be tracked in your activity log."]})})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[r.jsx("button",{type:"button",onClick:o,disabled:b,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:b||!d.trim()||!g.trim(),className:"px-6 py-2.5 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(fi,{className:"w-5 h-5"}),r.jsx("span",{children:"Send Email"})]})})]})]})]})})},zO=({consultation:n,customer:e,property:t,onSend:i,onCancel:o})=>{const{profile:c}=nr(),[d,h]=v.useState(""),[g,m]=v.useState(!1),x=160,y=[{id:"initial_contact",name:"Initial Contact",text:`Hi ${e.first_name}, this is ${c.first_name} ${c.last_name} regarding HUD property ${t.case_number||""}. When's a good time to talk? ${c.phone||""}`},{id:"property_link",name:"Property Link",text:`Hi ${e.first_name}! Here's the link to view the property details: https://usahudhomes-app.vercel.app/consult/${t.case_number||""}. Let me know if you have questions!`},{id:"showing_reminder",name:"Showing Reminder",text:`Hi ${e.first_name}, reminder: property showing tomorrow at [TIME] at ${t.address||"[address]"}. See you there! - ${c.first_name}`},{id:"quick_question",name:"Quick Question",text:`Hi ${e.first_name}, quick question about ${t.case_number||"the property"} - when would be a good time for a brief call? Thanks! - ${c.first_name}`},{id:"bid_deadline",name:"Bid Deadline Reminder",text:`Hi ${e.first_name}, reminder: bids for ${t.case_number||"the property"} close soon! Let me know if you want to submit an offer. - ${c.first_name}`},{id:"thank_you",name:"Thank You",text:`Thanks for your time today ${e.first_name}! I'll follow up with the information we discussed. Feel free to text or call anytime. - ${c.first_name}`}],b=N=>{h(N)},w=async N=>{if(N.preventDefault(),!d.trim()){alert("Please enter a message");return}if(!e.phone){alert("Customer phone number not available");return}m(!0);try{const E=await Jt.logCommunication(n.id,c.id,"sms_sent",{to:e.phone,message:d});if(E.success){if(n.customer_id){const{eventService:T}=await Ht(async()=>{const{eventService:O}=await Promise.resolve().then(()=>xi);return{eventService:O}},void 0);T.logSMSSent(n.customer_id,n.id,c.id,{to:e.phone,message:d}).catch(O=>console.error("Failed to log SMS event:",O))}const C=`sms:${e.phone}?body=${encodeURIComponent(d)}`;window.location.href=C,setTimeout(()=>{i()},1e3)}else alert("Failed to log SMS: "+(E.error||"Unknown error"))}catch(E){console.error("Error sending SMS:",E),alert("Failed to send SMS. Please try again.")}finally{m(!1)}},_=d.length,j=_>x;return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Pt,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Send SMS"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["To: ",e.phone||"No phone number"]})]})]}),r.jsx("button",{onClick:o,disabled:g,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:w,children:[r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center gap-2",children:[r.jsx(sb,{className:"w-4 h-4"}),"Quick Templates"]}),r.jsx("div",{className:"grid grid-cols-2 gap-2",children:y.map(N=>r.jsx("button",{type:"button",onClick:()=>b(N.text),className:"text-left px-3 py-2 text-sm bg-gray-50 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors",children:N.name},N.id))})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Message ",r.jsx("span",{className:"text-red-600",children:"*"})]}),r.jsxs("span",{className:`text-xs ${j?"text-red-600 font-semibold":"text-gray-500"}`,children:[_,"/",x]})]}),r.jsx("textarea",{value:d,onChange:N=>h(N.target.value),placeholder:"Type your message...",required:!0,rows:6,maxLength:x*2,className:`w-full px-3 py-2 border ${j?"border-red-300":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none`}),j&&r.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[" Message exceeds ",x," characters. May be split into multiple SMS."]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tip: Keep messages short and include your name"})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Sending to:"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Name:"})," ",e.first_name," ",e.last_name]}),r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Phone:"})," ",e.phone||"Not available"]}),t.case_number&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Property:"})," ",t.case_number]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Note:"})," This will open your SMS app. Standard messaging rates may apply. The SMS will be tracked in your activity log."]})})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex flex-col-reverse sm:flex-row gap-3 sm:justify-end",children:[r.jsx("button",{type:"button",onClick:o,disabled:g,className:"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:g||!d.trim()||!e.phone,className:"px-6 py-2.5 bg-green-600 hover:bg-green-700 text-white font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),r.jsx("span",{children:"Sending..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(fi,{className:"w-5 h-5"}),r.jsx("span",{children:"Send SMS"})]})})]})]})]})})},qO=({consultation:n,property:e,onClose:t})=>{const{profile:i}=nr(),[o,c]=v.useState(!1),d=`https://usahudhomes-app.vercel.app/consult/${e.case_number}`,h=`Check out this HUD home! ${e.case_number?`Case #${e.case_number}`:""} ${e.address?`- ${e.address}, ${e.city}, ${e.state}`:""} ${e.list_price?`$${e.list_price.toLocaleString()}`:""} ${e.bedrooms?`| ${e.bedrooms} bed`:""} ${e.bathrooms?`${e.bathrooms} bath`:""}`,g=async w=>{try{await Jt.logCommunication(n.id,i.id,`shared_${w}`,{platform:w,property_url:d,share_text:h})}catch(_){console.error("Error logging share:",_)}},m=async(w,_)=>{c(!0),await g(w),window.open(_,"_blank","width=600,height=400"),c(!1)},x=[{name:"Facebook",icon:Zv,color:"bg-blue-600 hover:bg-blue-700",url:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(d)}&quote=${encodeURIComponent(h)}`,platform:"facebook"},{name:"X (Twitter)",icon:nb,color:"bg-black hover:bg-gray-800",url:`https://twitter.com/intent/tweet?text=${encodeURIComponent(h)}&url=${encodeURIComponent(d)}`,platform:"twitter"},{name:"LinkedIn",icon:tb,color:"bg-blue-700 hover:bg-blue-800",url:`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(d)}`,platform:"linkedin"},{name:"Reddit",icon:Df,color:"bg-orange-600 hover:bg-orange-700",url:`https://reddit.com/submit?url=${encodeURIComponent(d)}&title=${encodeURIComponent(h)}`,platform:"reddit"},{name:"WhatsApp",icon:Df,color:"bg-green-600 hover:bg-green-700",url:`https://wa.me/?text=${encodeURIComponent(h+" "+d)}`,platform:"whatsapp"},{name:"Pinterest",icon:Ss,color:"bg-red-600 hover:bg-red-700",url:`https://pinterest.com/pin/create/button/?url=${encodeURIComponent(d)}&description=${encodeURIComponent(h)}${e.main_image?`&media=${encodeURIComponent(e.main_image)}`:""}`,platform:"pinterest"}],y=async()=>{try{await navigator.clipboard.writeText(d),await g("copy_link"),alert("Link copied to clipboard!")}catch(w){console.error("Error copying link:",w),alert("Failed to copy link")}},b=async()=>{await g("email");const w=`Check out this HUD Home - ${e.case_number||""}`,_=`${h}

View property details: ${d}`;window.location.href=`mailto:?subject=${encodeURIComponent(w)}&body=${encodeURIComponent(_)}`};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Ss,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Share Property"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Share on social media or via link"})]})]}),r.jsx("button",{onClick:t,disabled:o,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("div",{className:"px-6 py-6 space-y-6",children:[r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Property Details"}),r.jsxs("div",{className:"space-y-1 text-sm text-gray-700",children:[e.case_number&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Case #:"})," ",e.case_number]}),e.address&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Address:"})," ",e.address,", ",e.city,", ",e.state]}),e.list_price&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Price:"})," $",e.list_price.toLocaleString()]}),e.bedrooms&&e.bathrooms&&r.jsxs("p",{children:[" ",r.jsx("span",{className:"font-medium",children:"Beds/Baths:"})," ",e.bedrooms," bed, ",e.bathrooms," bath"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Share Message"}),r.jsx("div",{className:"bg-white border border-gray-300 rounded-lg p-3 text-sm text-gray-700",children:h})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Share on Social Media"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:x.map(w=>{const _=w.icon;return r.jsxs("button",{onClick:()=>m(w.platform,w.url),disabled:o,className:`${w.color} text-white font-medium rounded-lg px-4 py-3 flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed`,children:[r.jsx(_,{className:"w-5 h-5"}),r.jsx("span",{children:w.name})]},w.platform)})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Other Options"}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("button",{onClick:y,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",children:[r.jsx(Ss,{className:"w-5 h-5"}),"Copy Link"]}),r.jsxs("button",{onClick:b,className:"flex items-center justify-center gap-2 px-4 py-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-lg transition-colors",children:[r.jsx(Ss,{className:"w-5 h-5"}),"Share via Email"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property URL"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:d,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm text-gray-700"}),r.jsx("button",{onClick:y,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors",children:"Copy"})]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Sharing Tips"}),r.jsxs("ul",{className:"space-y-1 text-xs text-blue-800",children:[r.jsx("li",{children:" Add a personal message when sharing on social media"}),r.jsx("li",{children:" Tag relevant groups or pages for better reach"}),r.jsx("li",{children:" Share during peak hours (evenings and weekends)"}),r.jsx("li",{children:" All shares are tracked in your activity log"})]})]}),r.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[r.jsx("h3",{className:"text-sm font-semibold text-yellow-900 mb-2",children:" Instagram Sharing"}),r.jsx("p",{className:"text-xs text-yellow-800",children:"Instagram doesn't support direct link sharing. Copy the link and paste it in your Instagram bio or story. You can also save the property image and post it with the link in your caption."})]})]}),r.jsx("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex justify-end",children:r.jsx("button",{onClick:t,className:"px-6 py-2.5 bg-gray-600 hover:bg-gray-700 text-white font-medium rounded-lg transition-colors",children:"Close"})})]})})},VO=({consultation:n,onUpdate:e})=>{var G,L;const{profile:t}=nr(),[i,o]=v.useState(!1),[c,d]=v.useState(!1),[h,g]=v.useState(!1),[m,x]=v.useState(!1),[y,b]=v.useState(!1),w=n.customer||{first_name:((G=n.customer_name)==null?void 0:G.split(" ")[0])||"",last_name:((L=n.customer_name)==null?void 0:L.split(" ").slice(1).join(" "))||"",email:n.customer_email||"",phone:n.customer_phone||""},_=n.property||{},j={accepted:{label:"Accepted",color:"blue",bgColor:"bg-blue-100",textColor:"text-blue-800"},pending:{label:"Pending",color:"yellow",bgColor:"bg-yellow-100",textColor:"text-yellow-800"},scheduled:{label:"Scheduled",color:"purple",bgColor:"bg-purple-100",textColor:"text-purple-800"},completed:{label:"Completed",color:"green",bgColor:"bg-green-100",textColor:"text-green-800"}},N=j[n.status]||j.accepted,E=async P=>{b(!0);try{const Y=await Jt.updateStatus(n.id,P);Y.success?e():alert("Failed to update status: "+(Y.error||"Unknown error"))}catch(Y){console.error("Error updating status:",Y),alert("Failed to update status. Please try again.")}finally{b(!1)}},C=()=>{const P=`${w.first_name} ${w.last_name}
${w.email}
${w.phone||"No phone"}`;navigator.clipboard.writeText(P),alert("Contact info copied to clipboard!")},T=async()=>{if(w.phone){if(await Jt.logCommunication(n.id,t.id,"call_made",{phone:w.phone}),n.customer_id){const{eventService:P}=await Ht(async()=>{const{eventService:Y}=await Promise.resolve().then(()=>xi);return{eventService:Y}},void 0);P.logCallMade(n.customer_id,n.id,t.id,{phone:w.phone}).catch(Y=>console.error("Failed to log call event:",Y))}window.location.href=`tel:${w.phone}`}},O=async()=>{o(!1),e()},U=async()=>{d(!1),e()};return r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden transition-all hover:shadow-md",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${N.bgColor} ${N.textColor}`,children:N.label}),n.first_contact_at&&r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(at,{className:"w-3 h-3"}),"Contacted"]})]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["Accepted: ",new Date(n.accepted_at||n.created_at).toLocaleString()]})]}),r.jsxs("select",{value:n.status,onChange:P=>E(P.target.value),disabled:y,className:"text-sm border border-gray-300 rounded-lg px-3 py-1.5 focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50",children:[r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"})]})]}),r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[r.jsx(Xt,{className:"w-5 h-5 text-gray-600"}),w.first_name," ",w.last_name]}),r.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(it,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("a",{href:`mailto:${w.email}`,className:"hover:text-blue-600 truncate",children:w.email})]}),w.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(rs,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("a",{href:`tel:${w.phone}`,className:"hover:text-blue-600",children:w.phone})]})]}),(n.email_count>0||n.sms_count>0||n.call_count>0)&&r.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-gray-600",children:[n.email_count>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"w-3 h-3"}),n.email_count," emails"]}),n.sms_count>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Pt,{className:"w-3 h-3"}),n.sms_count," SMS"]}),n.call_count>0&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(rs,{className:"w-3 h-3"}),n.call_count," calls"]})]})]}),_.case_number&&r.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-200",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(ht,{className:"w-4 h-4 text-gray-600"}),"Property Details"]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm",children:[r.jsx("span",{className:"font-medium text-gray-700",children:"Case #:"})," ",r.jsx("span",{className:"font-mono text-gray-900",children:_.case_number})]}),_.address&&r.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[r.jsx(ar,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),r.jsxs("span",{children:[_.address,", ",_.city,", ",_.state," ",_.zip]})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[_.list_price&&r.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[r.jsx(_i,{className:"w-4 h-4"}),r.jsx("span",{className:"font-semibold",children:_.list_price.toLocaleString()})]}),_.bedrooms&&r.jsxs("span",{className:"text-gray-600",children:[" ",_.bedrooms," bed"]}),_.bathrooms&&r.jsxs("span",{className:"text-gray-600",children:[" ",_.bathrooms," bath"]}),_.sq_ft&&r.jsxs("span",{className:"text-gray-600",children:[" ",_.sq_ft.toLocaleString()," sq ft"]})]})]})]}),n.message&&r.jsxs("div",{className:"mb-4",children:[r.jsxs("h4",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[r.jsx(Pt,{className:"w-4 h-4 text-gray-600"}),"Customer Message"]}),r.jsxs("p",{className:"text-sm text-gray-700 bg-gray-50 rounded-lg p-3",children:['"',n.message,'"']})]}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[r.jsxs("button",{onClick:()=>o(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-blue-50 hover:bg-blue-100 text-blue-700 font-medium rounded-lg transition-colors",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),r.jsxs("button",{onClick:()=>d(!0),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-green-50 hover:bg-green-100 text-green-700 font-medium rounded-lg transition-colors",children:[r.jsx(Pt,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"SMS"})]}),r.jsxs("button",{onClick:T,disabled:!w.phone,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-purple-50 hover:bg-purple-100 text-purple-700 font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(rs,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Call"})]}),r.jsxs("button",{onClick:()=>g(!0),disabled:!_.case_number,className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-orange-50 hover:bg-orange-100 text-orange-700 font-medium rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Ss,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Share"})]})]}),r.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[r.jsxs("button",{onClick:C,className:"text-xs flex items-center gap-1 px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Xv,{className:"w-3 h-3"}),"Copy Contact"]}),_.case_number&&r.jsxs("a",{href:`/consult/${_.case_number}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs flex items-center gap-1 px-3 py-1.5 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Jv,{className:"w-3 h-3"}),"View Property Page"]})]})]})}),i&&r.jsx(HO,{consultation:n,customer:w,property:_,onSend:O,onCancel:()=>o(!1)}),c&&r.jsx(zO,{consultation:n,customer:w,property:_,onSend:U,onCancel:()=>d(!1)}),h&&r.jsx(qO,{consultation:n,property:_,onClose:()=>g(!1)})]})},FO=({stats:n,pendingCount:e})=>{const t=[{title:"Pending Referrals",value:e||0,subtitle:"Action needed",icon:va,color:"orange",bgColor:"bg-orange-50",iconColor:"text-orange-600",borderColor:"border-orange-200"},{title:"Accepted Leads",value:n.accepted_leads||0,subtitle:"Working",icon:at,color:"blue",bgColor:"bg-blue-50",iconColor:"text-blue-600",borderColor:"border-blue-200"},{title:"Active Leads",value:n.active_leads||0,subtitle:"In progress",icon:mu,color:"yellow",bgColor:"bg-yellow-50",iconColor:"text-yellow-600",borderColor:"border-yellow-200"},{title:"Completed",value:n.completed_this_month||0,subtitle:"This month",icon:Jc,color:"green",bgColor:"bg-green-50",iconColor:"text-green-600",borderColor:"border-green-200"}],i=[{title:"Acceptance Rate",value:n.acceptance_rate?`${n.acceptance_rate}%`:"N/A",subtitle:"Referrals accepted",icon:F2,color:"purple",bgColor:"bg-purple-50",iconColor:"text-purple-600",borderColor:"border-purple-200"},{title:"Conversion Rate",value:n.conversion_rate?`${n.conversion_rate}%`:"N/A",subtitle:"Leads to deals",icon:Jc,color:"indigo",bgColor:"bg-indigo-50",iconColor:"text-indigo-600",borderColor:"border-indigo-200"},{title:"Total Communications",value:(n.total_emails_sent||0)+(n.total_sms_sent||0)+(n.total_calls_made||0),subtitle:`${n.total_emails_sent||0} emails, ${n.total_sms_sent||0} SMS, ${n.total_calls_made||0} calls`,icon:Pt,color:"pink",bgColor:"bg-pink-50",iconColor:"text-pink-600",borderColor:"border-pink-200"}];return r.jsxs("div",{className:"mb-8 space-y-6",children:[r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:t.map((o,c)=>{const d=o.icon;return r.jsx("div",{className:`${o.bgColor} border ${o.borderColor} rounded-lg p-6 transition-all hover:shadow-md`,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:o.title}),r.jsx("p",{className:"text-3xl font-bold text-gray-900 mb-1",children:o.value}),r.jsx("p",{className:"text-xs text-gray-500",children:o.subtitle})]}),r.jsx("div",{className:`${o.bgColor} p-3 rounded-lg`,children:r.jsx(d,{className:`w-6 h-6 ${o.iconColor}`})})]})},c)})}),r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:i.map((o,c)=>{const d=o.icon;return r.jsx("div",{className:`${o.bgColor} border ${o.borderColor} rounded-lg p-4 transition-all hover:shadow-md`,children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`${o.bgColor} p-2 rounded-lg`,children:r.jsx(d,{className:`w-5 h-5 ${o.iconColor}`})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:o.title}),r.jsx("p",{className:"text-xl font-bold text-gray-900",children:o.value}),r.jsx("p",{className:"text-xs text-gray-500",children:o.subtitle})]})]})},c)})})]})},GO=()=>{const{user:n,profile:e,logout:t}=nr(),[i,o]=v.useState(!0),[c,d]=v.useState(!1),[h,g]=v.useState(null),[m,x]=v.useState({}),[y,b]=v.useState([]),[w,_]=v.useState([]),[j,N]=v.useState(""),[E,C]=v.useState("all"),[T,O]=v.useState(null);v.useEffect(()=>{e!=null&&e.email&&U()},[e]),v.useEffect(()=>{h&&G()},[h,E]);const U=async()=>{try{const{agentService:D}=await Ht(async()=>{const{agentService:Q}=await Promise.resolve().then(()=>Sj);return{agentService:Q}},void 0),I=await D.getAgentByEmail(e.email);I.success&&I.data?g(I.data.id):O("Agent profile not found. Please contact admin.")}catch(D){console.error("Error fetching agent ID:",D),O("Failed to load agent profile.")}},G=async()=>{try{o(!0),O(null);const D=await Jt.getBrokerStats(h);D.success&&x(D.data);const I=await Jt.getPendingReferrals(h);I.success&&b(I.data);const Q=await Jt.getBrokerConsultations(h,{status:E==="all"?null:E});if(Q.success){const oe=Q.data.filter(le=>le.status!=="referred");_(oe)}}catch(D){console.error("Error loading dashboard data:",D),O("Failed to load dashboard data. Please try again.")}finally{o(!1)}},L=async()=>{d(!0),await G(),d(!1)},P=async D=>{await G()},Y=w.filter(D=>{var oe,le,de,k,V,z,q,R;const I=j===""||((le=(oe=D.customer)==null?void 0:oe.first_name)==null?void 0:le.toLowerCase().includes(j.toLowerCase()))||((k=(de=D.customer)==null?void 0:de.last_name)==null?void 0:k.toLowerCase().includes(j.toLowerCase()))||((z=(V=D.customer)==null?void 0:V.email)==null?void 0:z.toLowerCase().includes(j.toLowerCase()))||((R=(q=D.property)==null?void 0:q.case_number)==null?void 0:R.toLowerCase().includes(j.toLowerCase())),Q=E==="all"||D.status===E;return I&&Q});return i?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(u0,{className:"w-12 h-12 text-blue-600 animate-spin mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-10",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome, ",(e==null?void 0:e.first_name)||"Broker"]}),r.jsx("p",{className:"text-sm text-gray-600",children:e!=null&&e.state?`Territory: ${e.state}`:"Broker Dashboard"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[(e==null?void 0:e.role)==="admin"&&r.jsxs("a",{href:"/admin-dashboard",className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white hover:bg-blue-700 rounded-lg transition-colors",children:[r.jsx(KE,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Admin Dashboard"})]}),r.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(W2,{className:"w-6 h-6"}),y.length>0&&r.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-600 rounded-full",children:y.length})]}),r.jsx("button",{onClick:L,disabled:c,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors disabled:opacity-50",children:r.jsx(u0,{className:`w-6 h-6 ${c?"animate-spin":""}`})}),r.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[r.jsx(Nm,{className:"w-5 h-5"}),r.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})})}),r.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[T&&r.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[r.jsx(va,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:T})]})]}),r.jsx(FO,{stats:m,pendingCount:y.length}),y.length>0&&r.jsxs("div",{className:"mb-8",children:[r.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-500 rounded-lg p-4 mb-4",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(va,{className:"w-6 h-6 text-orange-600 flex-shrink-0"}),r.jsxs("div",{children:[r.jsxs("h2",{className:"text-lg font-semibold text-orange-900",children:["Pending Referrals (",y.length,")"]}),r.jsx("p",{className:"text-sm text-orange-700",children:"Action Required - Accept or decline these referrals within 24 hours"})]})]})}),r.jsx("div",{className:"space-y-4",children:y.map(D=>r.jsx(BO,{referral:D,agentId:h,onAction:P},D.id))})]}),r.jsxs("div",{children:[r.jsx("div",{className:"flex items-center justify-between mb-4",children:r.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["My Active Leads (",Y.length,")"]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-4",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(pr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, email, or case number...",value:j,onChange:D=>N(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"sm:w-48",children:r.jsxs("div",{className:"relative",children:[r.jsx(jm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:E,onChange:D=>C(D.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"accepted",children:"Accepted"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"scheduled",children:"Scheduled"}),r.jsx("option",{value:"completed",children:"Completed"})]})]})})]})}),Y.length===0?r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[r.jsx(at,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:j||E!=="all"?"No consultations match your filters":"No active consultations"}),r.jsx("p",{className:"text-gray-600",children:j||E!=="all"?"Try adjusting your search or filter criteria":"New referrals will appear here when assigned to you"})]}):r.jsx("div",{className:"space-y-4",children:Y.map(D=>r.jsx(VO,{consultation:D,onUpdate:G},D.id))})]})]})]})},$c=({children:n,allowedRoles:e=[],requireAuth:t=!0})=>{const{user:i,role:o,loading:c,initialized:d}=nr(),h=sr();return c||!d?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):t&&!i?r.jsx(Wh,{to:"/login",state:{from:h},replace:!0}):e.length>0&&!e.includes(o)?i?r.jsx(Wh,{to:"/unauthorized",replace:!0}):r.jsx(Wh,{to:"/login",state:{from:h},replace:!0}):n},YO=()=>{const n=rr(),{getDashboardRoute:e,role:t}=nr(),i=()=>{const c=e();n(c)},o=()=>{n(-1)};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full text-center",children:[r.jsx("div",{className:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100 mb-6",children:r.jsx("svg",{className:"h-12 w-12 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"You don't have permission to access this page."}),r.jsxs("p",{className:"text-sm text-gray-500 mb-8",children:[t==="end_user"&&"This page is only accessible to brokers and administrators.",t==="broker"&&"This page is only accessible to administrators.",!t&&"Please log in to access this page."]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("button",{onClick:i,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Go to My Dashboard"}),r.jsx("button",{onClick:o,className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Go Back"})]}),r.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"If you believe you should have access to this page, please contact support."})]})})};var vf,lv;function KO(){if(lv)return vf;lv=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(c,d){if(c===d)return!0;if(c&&d&&typeof c=="object"&&typeof d=="object"){if(c.constructor!==d.constructor)return!1;var h,g,m;if(Array.isArray(c)){if(h=c.length,h!=d.length)return!1;for(g=h;g--!==0;)if(!o(c[g],d[g]))return!1;return!0}var x;if(e&&c instanceof Map&&d instanceof Map){if(c.size!==d.size)return!1;for(x=c.entries();!(g=x.next()).done;)if(!d.has(g.value[0]))return!1;for(x=c.entries();!(g=x.next()).done;)if(!o(g.value[1],d.get(g.value[0])))return!1;return!0}if(t&&c instanceof Set&&d instanceof Set){if(c.size!==d.size)return!1;for(x=c.entries();!(g=x.next()).done;)if(!d.has(g.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(c)&&ArrayBuffer.isView(d)){if(h=c.length,h!=d.length)return!1;for(g=h;g--!==0;)if(c[g]!==d[g])return!1;return!0}if(c.constructor===RegExp)return c.source===d.source&&c.flags===d.flags;if(c.valueOf!==Object.prototype.valueOf&&typeof c.valueOf=="function"&&typeof d.valueOf=="function")return c.valueOf()===d.valueOf();if(c.toString!==Object.prototype.toString&&typeof c.toString=="function"&&typeof d.toString=="function")return c.toString()===d.toString();if(m=Object.keys(c),h=m.length,h!==Object.keys(d).length)return!1;for(g=h;g--!==0;)if(!Object.prototype.hasOwnProperty.call(d,m[g]))return!1;if(n&&c instanceof Element)return!1;for(g=h;g--!==0;)if(!((m[g]==="_owner"||m[g]==="__v"||m[g]==="__o")&&c.$$typeof)&&!o(c[m[g]],d[m[g]]))return!1;return!0}return c!==c&&d!==d}return vf=function(d,h){try{return o(d,h)}catch(g){if((g.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw g}},vf}var WO=KO();const QO=yi(WO);var bf,ov;function XO(){if(ov)return bf;ov=1;var n=function(e,t,i,o,c,d,h,g){if(!e){var m;if(t===void 0)m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var x=[i,o,c,d,h,g],y=0;m=new Error(t.replace(/%s/g,function(){return x[y++]})),m.name="Invariant Violation"}throw m.framesToPop=1,m}};return bf=n,bf}var JO=XO();const cv=yi(JO);var wf,uv;function ZO(){return uv||(uv=1,wf=function(e,t,i,o){var c=i?i.call(o,e,t):void 0;if(c!==void 0)return!!c;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var d=Object.keys(e),h=Object.keys(t);if(d.length!==h.length)return!1;for(var g=Object.prototype.hasOwnProperty.bind(t),m=0;m<d.length;m++){var x=d[m];if(!g(x))return!1;var y=e[x],b=t[x];if(c=i?i.call(o,y,b,x):void 0,c===!1||c===void 0&&y!==b)return!1}return!0}),wf}var e6=ZO();const t6=yi(e6);var Ej=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(Ej||{}),jf={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},dv=Object.values(Ej),Ym={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},s6=Object.entries(Ym).reduce((n,[e,t])=>(n[t]=e,n),{}),Ks="data-rh",di={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},hi=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const i=n[t];if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}return null},r6=n=>{let e=hi(n,"title");const t=hi(n,di.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const i=hi(n,di.DEFAULT_TITLE);return e||i||void 0},a6=n=>hi(n,di.ON_CHANGE_CLIENT_STATE)||(()=>{}),Nf=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,i)=>({...t,...i}),{}),n6=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,i)=>{if(!t.length){const o=Object.keys(i);for(let c=0;c<o.length;c+=1){const h=o[c].toLowerCase();if(n.indexOf(h)!==-1&&i[h])return t.concat(i)}}return t},[]),i6=n=>console&&typeof console.warn=="function"&&console.warn(n),Ll=(n,e,t)=>{const i={};return t.filter(o=>Array.isArray(o[n])?!0:(typeof o[n]<"u"&&i6(`Helmet: ${n} should be of type "Array". Instead found type "${typeof o[n]}"`),!1)).map(o=>o[n]).reverse().reduce((o,c)=>{const d={};c.filter(g=>{let m;const x=Object.keys(g);for(let b=0;b<x.length;b+=1){const w=x[b],_=w.toLowerCase();e.indexOf(_)!==-1&&!(m==="rel"&&g[m].toLowerCase()==="canonical")&&!(_==="rel"&&g[_].toLowerCase()==="stylesheet")&&(m=_),e.indexOf(w)!==-1&&(w==="innerHTML"||w==="cssText"||w==="itemprop")&&(m=w)}if(!m||!g[m])return!1;const y=g[m].toLowerCase();return i[m]||(i[m]={}),d[m]||(d[m]={}),i[m][y]?!1:(d[m][y]=!0,!0)}).reverse().forEach(g=>o.push(g));const h=Object.keys(d);for(let g=0;g<h.length;g+=1){const m=h[g],x={...i[m],...d[m]};i[m]=x}return o},[]).reverse()},l6=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},o6=n=>({baseTag:n6(["href"],n),bodyAttributes:Nf("bodyAttributes",n),defer:hi(n,di.DEFER),encode:hi(n,di.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Nf("htmlAttributes",n),linkTags:Ll("link",["rel","href"],n),metaTags:Ll("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Ll("noscript",["innerHTML"],n),onChangeClientState:a6(n),scriptTags:Ll("script",["src","innerHTML"],n),styleTags:Ll("style",["cssText"],n),title:r6(n),titleAttributes:Nf("titleAttributes",n),prioritizeSeoTags:l6(n,di.PRIORITIZE_SEO_TAGS)}),Cj=n=>Array.isArray(n)?n.join(""):n,c6=(n,e)=>{const t=Object.keys(n);for(let i=0;i<t.length;i+=1)if(e[t[i]]&&e[t[i]].includes(n[t[i]]))return!0;return!1},Sf=(n,e)=>Array.isArray(n)?n.reduce((t,i)=>(c6(i,e)?t.priority.push(i):t.default.push(i),t),{priority:[],default:[]}):{default:n,priority:[]},hv=(n,e)=>({...n,[e]:void 0}),u6=["noscript","script","style"],im=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Aj=n=>Object.keys(n).reduce((e,t)=>{const i=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${i}`:i},""),d6=(n,e,t,i)=>{const o=Aj(t),c=Cj(e);return o?`<${n} ${Ks}="true" ${o}>${im(c,i)}</${n}>`:`<${n} ${Ks}="true">${im(c,i)}</${n}>`},h6=(n,e,t=!0)=>e.reduce((i,o)=>{const c=o,d=Object.keys(c).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,x)=>{const y=typeof c[x]>"u"?x:`${x}="${im(c[x],t)}"`;return m?`${m} ${y}`:y},""),h=c.innerHTML||c.cssText||"",g=u6.indexOf(n)===-1;return`${i}<${n} ${Ks}="true" ${d}${g?"/>":`>${h}</${n}>`}`},""),Tj=(n,e={})=>Object.keys(n).reduce((t,i)=>{const o=Ym[i];return t[o||i]=n[i],t},e),f6=(n,e,t)=>{const i={key:e,[Ks]:!0},o=Tj(t,i);return[Qt.createElement("title",o,e)]},Wc=(n,e)=>e.map((t,i)=>{const o={key:i,[Ks]:!0};return Object.keys(t).forEach(c=>{const h=Ym[c]||c;if(h==="innerHTML"||h==="cssText"){const g=t.innerHTML||t.cssText;o.dangerouslySetInnerHTML={__html:g}}else o[h]=t[c]}),Qt.createElement(n,o)}),Ps=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>f6(n,e.title,e.titleAttributes),toString:()=>d6(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Tj(e),toString:()=>Aj(e)};default:return{toComponent:()=>Wc(n,e),toString:()=>h6(n,e,t)}}},m6=({metaTags:n,linkTags:e,scriptTags:t,encode:i})=>{const o=Sf(n,jf.meta),c=Sf(e,jf.link),d=Sf(t,jf.script);return{priorityMethods:{toComponent:()=>[...Wc("meta",o.priority),...Wc("link",c.priority),...Wc("script",d.priority)],toString:()=>`${Ps("meta",o.priority,i)} ${Ps("link",c.priority,i)} ${Ps("script",d.priority,i)}`},metaTags:o.default,linkTags:c.default,scriptTags:d.default}},g6=n=>{const{baseTag:e,bodyAttributes:t,encode:i=!0,htmlAttributes:o,noscriptTags:c,styleTags:d,title:h="",titleAttributes:g,prioritizeSeoTags:m}=n;let{linkTags:x,metaTags:y,scriptTags:b}=n,w={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:w,linkTags:x,metaTags:y,scriptTags:b}=m6(n)),{priority:w,base:Ps("base",e,i),bodyAttributes:Ps("bodyAttributes",t,i),htmlAttributes:Ps("htmlAttributes",o,i),link:Ps("link",x,i),meta:Ps("meta",y,i),noscript:Ps("noscript",c,i),script:Ps("script",b,i),style:Ps("style",d,i),title:Ps("title",{title:h,titleAttributes:g},i)}},lm=g6,Ic=[],kj=!!(typeof window<"u"&&window.document&&window.document.createElement),om=class{constructor(n,e){Pr(this,"instances",[]);Pr(this,"canUseDOM",kj);Pr(this,"context");Pr(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?Ic:this.instances,add:n=>{(this.canUseDOM?Ic:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?Ic:this.instances).indexOf(n);(this.canUseDOM?Ic:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=lm({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},p6={},Rj=Qt.createContext(p6),sn,Oj=(sn=class extends v.Component{constructor(t){super(t);Pr(this,"helmetData");this.helmetData=new om(this.props.context||{},sn.canUseDOM)}render(){return Qt.createElement(Rj.Provider,{value:this.helmetData.value},this.props.children)}},Pr(sn,"canUseDOM",kj),sn),ai=(n,e)=>{const t=document.head||document.querySelector("head"),i=t.querySelectorAll(`${n}[${Ks}]`),o=[].slice.call(i),c=[];let d;return e&&e.length&&e.forEach(h=>{const g=document.createElement(n);for(const m in h)if(Object.prototype.hasOwnProperty.call(h,m))if(m==="innerHTML")g.innerHTML=h.innerHTML;else if(m==="cssText")g.styleSheet?g.styleSheet.cssText=h.cssText:g.appendChild(document.createTextNode(h.cssText));else{const x=m,y=typeof h[x]>"u"?"":h[x];g.setAttribute(m,y)}g.setAttribute(Ks,"true"),o.some((m,x)=>(d=x,g.isEqualNode(m)))?o.splice(d,1):c.push(g)}),o.forEach(h=>{var g;return(g=h.parentNode)==null?void 0:g.removeChild(h)}),c.forEach(h=>t.appendChild(h)),{oldTags:o,newTags:c}},cm=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const i=t.getAttribute(Ks),o=i?i.split(","):[],c=[...o],d=Object.keys(e);for(const h of d){const g=e[h]||"";t.getAttribute(h)!==g&&t.setAttribute(h,g),o.indexOf(h)===-1&&o.push(h);const m=c.indexOf(h);m!==-1&&c.splice(m,1)}for(let h=c.length-1;h>=0;h-=1)t.removeAttribute(c[h]);o.length===c.length?t.removeAttribute(Ks):t.getAttribute(Ks)!==d.join(",")&&t.setAttribute(Ks,d.join(","))},x6=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=Cj(n)),cm("title",e)},fv=(n,e)=>{const{baseTag:t,bodyAttributes:i,htmlAttributes:o,linkTags:c,metaTags:d,noscriptTags:h,onChangeClientState:g,scriptTags:m,styleTags:x,title:y,titleAttributes:b}=n;cm("body",i),cm("html",o),x6(y,b);const w={baseTag:ai("base",t),linkTags:ai("link",c),metaTags:ai("meta",d),noscriptTags:ai("noscript",h),scriptTags:ai("script",m),styleTags:ai("style",x)},_={},j={};Object.keys(w).forEach(N=>{const{newTags:E,oldTags:C}=w[N];E.length&&(_[N]=E),C.length&&(j[N]=w[N].oldTags)}),e&&e(),g(n,_,j)},Pl=null,y6=n=>{Pl&&cancelAnimationFrame(Pl),n.defer?Pl=requestAnimationFrame(()=>{fv(n,()=>{Pl=null})}):(fv(n),Pl=null)},v6=y6,mv=class extends v.Component{constructor(){super(...arguments);Pr(this,"rendered",!1)}shouldComponentUpdate(e){return!t6(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let i=null;const o=o6(e.get().map(c=>{const d={...c.props};return delete d.context,d}));Oj.canUseDOM?v6(o):lm&&(i=lm(o)),t(i)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Ef,b6=(Ef=class extends v.Component{shouldComponentUpdate(n){return!QO(hv(this.props,"helmetData"),hv(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,i){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,i)}]}}mapObjectTypeChildren(n,e,t,i){switch(n.type){case"title":return{...e,[n.type]:i,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(i=>{t={...t,[i]:n[i]}}),t}warnOnInvalidChildren(n,e){return cv(dv.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${dv.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),cv(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Qt.Children.forEach(n,i=>{if(!i||!i.props)return;const{children:o,...c}=i.props,d=Object.keys(c).reduce((g,m)=>(g[s6[m]||m]=c[m],g),{});let{type:h}=i;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(i,o),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(o,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(i,t,d,o);break;default:e=this.mapObjectTypeChildren(i,e,d,o);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:i}=e;if(n&&(t=this.mapChildrenToProps(n,t)),i&&!(i instanceof om)){const o=i;i=new om(o.context,!0),delete t.helmetData}return i?Qt.createElement(mv,{...t,context:i.value}):Qt.createElement(Rj.Consumer,null,o=>Qt.createElement(mv,{...t,context:o}))}},Pr(Ef,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Ef);function w6(){console.log("PropertyDetail component mounting");const{caseNumber:n}=ji();console.log("Case number from URL:",n);const e=rr(),[t,i]=v.useState(null),[o,c]=v.useState(!0),[d,h]=v.useState(!1),[g,m]=v.useState(!1),[x,y]=v.useState({name:"",email:"",phone:"",message:""});v.useEffect(()=>{(async()=>{console.log("Loading property for case number:",n),c(!0);const j=await Wt.getPropertyByCaseNumber(n);console.log("Property load result:",j),j.success?(console.log("Property data:",j.data),i(j.data)):console.error("Failed to load property:",j.error),c(!1),console.log("Loading complete, property:",j.data)})()},[n]);const b=_=>{_.preventDefault(),alert("Thank you! A HUD-registered broker will contact you within 24 hours."),h(!1),y({name:"",email:"",phone:"",message:""})},w=()=>{navigator.share?navigator.share({title:`${t.address} - HUD Home`,text:`Check out this HUD property: ${t.address}, ${t.city}, ${t.state}`,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(te,{variant:"ghost",onClick:()=>e(-1),className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-4 w-4"}),"Back"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(te,{variant:"outline",size:"sm",onClick:()=>m(!g),className:g?"text-red-600 border-red-600":"",children:[r.jsx(eb,{className:`h-4 w-4 mr-1 ${g?"fill-current":""}`}),g?"Saved":"Save"]}),r.jsxs(te,{variant:"outline",size:"sm",onClick:w,children:[r.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Share"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"aspect-video bg-gradient-to-br from-gray-200 to-gray-300 rounded-t-lg flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wv,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500",children:"Property Photos"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Virtual tour available"})]})}),r.jsx("div",{className:"absolute top-4 left-4",children:r.jsx(ze,{variant:t.status==="New Listing"?"default":"secondary",children:t.status})}),t.originalPrice>t.price&&r.jsx("div",{className:"absolute top-4 right-4",children:r.jsx(ze,{variant:"destructive",children:"Price Reduced"})})]})})}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx(De,{className:"text-2xl",children:t.address}),r.jsxs(us,{className:"text-lg",children:[t.city,", ",t.state," ",t.zipCode]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",t.price.toLocaleString()]}),t.originalPrice>t.price&&r.jsxs("div",{className:"text-sm text-gray-500 line-through",children:["$",t.originalPrice.toLocaleString()]}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Case #",t.case_number||t.caseNumber]})]})]})}),r.jsxs(fe,{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(fu,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:t.beds}),r.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(hu,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:t.baths}),r.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(rb,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:t.sqft.toLocaleString()}),r.jsx("div",{className:"text-sm text-gray-600",children:"Sq Ft"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(Qs,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:t.yearBuilt}),r.jsx("div",{className:"text-sm text-gray-600",children:"Year Built"})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Description"}),r.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Property Features"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:t.features.map((_,j)=>r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),_]},j))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Property Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Property Type:"}),r.jsx("span",{children:t.propertyType})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Lot Size:"}),r.jsx("span",{children:t.lotSize})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"County:"}),r.jsx("span",{children:t.county})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Neighborhood:"}),r.jsx("span",{children:t.neighborhood})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Condition:"}),r.jsx("span",{children:t.condition})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Parking:"}),r.jsx("span",{children:t.parking})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Schools"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Elementary:"}),r.jsx("span",{children:t.schools.elementary})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Middle:"}),r.jsx("span",{children:t.schools.middle})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"High:"}),r.jsx("span",{children:t.schools.high})]})]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{className:"text-lg",children:"Bid Information"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 mb-1",children:[r.jsx(Qs,{className:"h-4 w-4"}),r.jsx("span",{className:"font-semibold",children:"Bid Deadline"})]}),r.jsx("div",{className:"text-sm text-yellow-700",children:new Date(t.bidDeadline).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsxs("p",{children:["Listed: ",new Date(t.listingDate).toLocaleDateString()]}),r.jsx("p",{className:"mt-2",children:"This is a HUD-owned property. All bids must be submitted through a HUD-registered broker."})]})]})]}),r.jsxs(he,{children:[r.jsxs(Oe,{children:[r.jsx(De,{className:"text-lg",children:"Get Connected"}),r.jsx(us,{children:"Connect with a HUD-registered broker to submit your bid"})]}),r.jsx(fe,{children:d?r.jsxs("form",{onSubmit:b,className:"space-y-4",children:[r.jsx("div",{children:r.jsx(Ne,{placeholder:"Full Name",value:x.name,onChange:_=>y({...x,name:_.target.value}),required:!0})}),r.jsx("div",{children:r.jsx(Ne,{type:"email",placeholder:"Email Address",value:x.email,onChange:_=>y({...x,email:_.target.value}),required:!0})}),r.jsx("div",{children:r.jsx(Ne,{type:"tel",placeholder:"Phone Number",value:x.phone,onChange:_=>y({...x,phone:_.target.value}),required:!0})}),r.jsx("div",{children:r.jsx(cs,{placeholder:"Message (optional)",value:x.message,onChange:_=>y({...x,message:_.target.value}),rows:3})}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{type:"submit",className:"flex-1",children:"Submit"}),r.jsx(te,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"})]})]}):r.jsx(te,{className:"w-full",onClick:()=>h(!0),children:"Contact HUD Broker"})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{className:"text-lg",children:"Quick Info"})}),r.jsxs(fe,{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ar,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{children:[t.neighborhood,", ",t.city]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{children:["$",Math.round(t.price/t.sqft)," per sq ft"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fr,{className:"h-4 w-4 text-gray-400"}),r.jsxs("span",{children:["HUD Case #",t.case_number||t.caseNumber]})]})]})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ht,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist or has been removed."}),r.jsx(gt,{to:"/search",children:r.jsxs(te,{children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Back to Search"]})})]})})}function j6(){const{caseNumber:n}=ji(),[e,t]=v.useState(null),[i,o]=v.useState(!0),[c,d]=v.useState(!1),[h,g]=v.useState(!1),[m,x]=v.useState([]),[y,b]=v.useState(""),[w,_]=v.useState({name:"",email:"",phone:"",message:"",consultationType:"general"});v.useEffect(()=>{(async()=>{o(!0);const T=await Wt.getPropertyByCaseNumber(n);T.success&&t(T.data),o(!1)})()},[n]);const j=async C=>{if(C.preventDefault(),!w.name||!w.email||!w.phone){alert("Please fill in all required fields.");return}try{let T=null;const O=await vs.getCustomerByEmail(w.email);if(O.success&&O.data)T=O.data.id,console.log("Existing customer found:",T);else{const L=w.name.trim().split(" "),P=L[0]||w.name,Y=L.slice(1).join(" ")||"",D={firstName:P,lastName:Y,email:w.email,phone:w.phone,state:(e==null?void 0:e.state)||"NC",status:"new",leadSource:"consultation_form",notes:`Interested in property ${n} - ${(e==null?void 0:e.address)||"Unknown address"}`,tags:["consultation","website_lead",n]},I=await vs.addCustomer(D);I.success?(T=I.data.id,console.log("New customer created:",T)):console.error("Failed to create customer:",I.error)}const U={customerId:T,caseNumber:n,propertyId:e==null?void 0:e.id,customerName:w.name,customerEmail:w.email,customerPhone:w.phone,message:w.message,consultationType:w.consultationType,status:"pending"},G=await Jt.addConsultation(U);if(G.success)alert(`Thank you ${w.name}! Your consultation request has been submitted for property ${n}. Marc Spencer from Lightkeeper Realty will contact you within 2 hours during business hours.`),d(!1),_({name:"",email:"",phone:"",message:"",consultationType:"general"});else throw new Error(G.error||"Failed to save consultation")}catch(T){console.error("Error submitting consultation:",T),alert("There was an error submitting your consultation. Please try again.")}},N=async C=>{if(C.preventDefault(),!y.trim())return;const T={type:"user",message:y,timestamp:new Date};try{const G={caseNumber:n,propertyId:e==null?void 0:e.id,customerName:"Chat User",customerEmail:"chat@usahudhomes.com",customerPhone:"Via Chat",message:y,consultationType:"chatbot",status:"chat"};await Jt.addConsultation(G)}catch(G){console.error("Error logging chat interaction:",G)}let O="I'd be happy to help you with that! For detailed information about this property, please contact Marc Spencer at (910) 363-6147 or submit the consultation form.";y.toLowerCase().includes("price")?O=`This property is priced at $${e.price.toLocaleString()}. As a HUD home, it may be available with special financing options including $100 down FHA loans and up to 3% closing cost assistance.`:y.toLowerCase().includes("financing")?O="Great question! HUD homes offer special financing benefits including $100 down FHA loans, 3% closing cost paid, and repair escrows up to $35,000 with a 203k loan. Marc Spencer can explain all your financing options.":y.toLowerCase().includes("bid")&&(O="The bid deadline for this property is November 3, 2025. Don't wait - contact Marc Spencer immediately at (910) 363-6147 to get your bid submitted. As a HUD-registered broker, he can guide you through the entire bidding process.");const U={type:"bot",message:O,timestamp:new Date};x(G=>[...G,T,U]),b("")};if(i)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property consultation..."})]})});if(!e)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ht,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Not Found"}),r.jsxs("p",{className:"text-gray-600 mb-6",children:["Case #",n," could not be found in our database."]}),r.jsx(gt,{to:"/",children:r.jsxs(te,{children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Back to Home"]})})]})});const E=e.bid_deadline?Math.ceil((new Date(e.bid_deadline)-new Date)/(1e3*60*60*24)):null;return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(gt,{to:"/",className:"flex items-center",children:[r.jsx(ht,{className:"h-8 w-8 text-blue-600 mr-2"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"USAhudHomes.com"})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"text-sm text-gray-600",children:[r.jsx(rs,{className:"h-4 w-4 inline mr-1"}),"(910) 363-6147"]}),r.jsx(ze,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"HUD Registered Broker"})]})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8 p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:e.address}),r.jsxs("p",{className:"text-xl text-gray-600",children:[e.city,", ",e.state," ",e.zip_code||""]}),r.jsx("p",{className:"text-lg text-gray-500",children:e.county})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:"text-4xl font-bold text-green-600 mb-1",children:["$",e.price.toLocaleString()]}),r.jsx(ze,{variant:e.status==="BIDS OPEN"?"default":"secondary",className:"mb-2",children:e.status}),r.jsxs("div",{className:"text-sm text-gray-600",children:["Case #",e.case_number]})]})]}),E!==null&&E<=7&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(va,{className:"h-5 w-5"}),r.jsx("span",{className:"font-semibold",children:E>0?`Only ${E} days remaining to bid!`:"Bidding closes today!"})]}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:"Don't miss this opportunity - contact us immediately to get your bid submitted."})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(fu,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:e.beds||"N/A"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Bedrooms"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(hu,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:e.baths||"N/A"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Bathrooms"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(rb,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:e.sq_ft?e.sq_ft.toLocaleString():"N/A"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Sq Ft"})]}),r.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[r.jsx(Qs,{className:"h-6 w-6 text-blue-600 mx-auto mb-1"}),r.jsx("div",{className:"font-semibold",children:e.year_built||"N/A"}),r.jsx("div",{className:"text-sm text-gray-600",children:"Year Built"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-0",children:r.jsx("div",{className:"relative",children:r.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-200 to-gray-300 rounded-t-lg overflow-hidden",children:[e.main_image||e.images&&e.images[0]?r.jsx("img",{src:Tu(e.main_image||e.images[0]),alt:`${e.address} - Main View`,className:"w-full h-full object-cover",onError:C=>{C.target.style.display="none",C.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:e.main_image||e.images&&e.images[0]?"none":"flex"},children:r.jsxs("div",{className:"text-center",children:[r.jsx(Wv,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),r.jsx("p",{className:"text-gray-500 font-semibold",children:"Professional Property Photos"}),r.jsx("p",{className:"text-sm text-gray-400",children:"Multiple interior and exterior views available"})]})})]})})})}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Property Description"})}),r.jsxs(fe,{children:[r.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:e.description}),e.features&&e.features.length>0&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Property Features"}),r.jsx("ul",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:e.features.map((C,T)=>r.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[r.jsx(at,{className:"h-4 w-4 text-green-600"}),C]},T))})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{className:"bg-blue-50 border-blue-200",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center gap-2 text-blue-900",children:[r.jsx(Xt,{className:"h-5 w-5"}),"Your HUD Home Expert"]})}),r.jsxs(fe,{children:[r.jsxs("div",{className:"text-center mb-4",children:[r.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center mx-auto mb-3",children:r.jsx(Xt,{className:"h-10 w-10 text-white"})}),r.jsx("h3",{className:"font-bold text-lg text-blue-900",children:"Marc Spencer"}),r.jsx("p",{className:"text-blue-700 text-sm",children:"HUD Specialist"}),r.jsx("p",{className:"text-blue-600 text-xs",children:"25+ years helping people buy HUD homes"})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(rs,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{className:"font-semibold",children:"(910) 363-6147"})]}),r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(it,{className:"h-4 w-4 text-blue-600"}),r.jsx("span",{children:"marcspencer28461@gmail.com"})]}),r.jsxs("div",{className:"text-xs text-blue-600",children:[r.jsx("strong",{children:"Lightkeeper Realty"}),r.jsx("br",{}),"Registered HUD Buyer's Agency"]})]}),r.jsxs("div",{className:"mt-4 p-3 bg-white rounded-lg border border-blue-200",children:[r.jsx("div",{className:"text-xs text-blue-700 mb-2",children:r.jsx("strong",{children:"Free consultation & bid assistance"})}),r.jsxs("div",{className:"text-xs text-blue-600",children:[" Response within 2 hours",r.jsx("br",{})," $100 down FHA loans available",r.jsx("br",{})," 3% closing cost assistance",r.jsx("br",{})," Up to $35,000 repair escrows"]})]})]})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs(te,{onClick:()=>d(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3",size:"lg",children:[r.jsx(Qs,{className:"h-5 w-5 mr-2"}),"Schedule Consultation"]}),r.jsxs(te,{onClick:()=>g(!0),variant:"outline",className:"w-full border-pink-300 text-pink-700 hover:bg-pink-50 py-3",size:"lg",children:[r.jsx(Df,{className:"h-5 w-5 mr-2"}),"Chat About Property"]})]})]})]}),c&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:"Schedule Property Consultation"}),r.jsxs("form",{onSubmit:j,className:"space-y-4",children:[r.jsx(Ne,{placeholder:"Full Name *",value:w.name,onChange:C=>_({...w,name:C.target.value}),required:!0}),r.jsx(Ne,{type:"email",placeholder:"Email Address *",value:w.email,onChange:C=>_({...w,email:C.target.value}),required:!0}),r.jsx(Ne,{type:"tel",placeholder:"Phone Number *",value:w.phone,onChange:C=>_({...w,phone:C.target.value}),required:!0}),r.jsxs("select",{className:"w-full p-2 border rounded",value:w.consultationType,onChange:C=>_({...w,consultationType:C.target.value}),children:[r.jsx("option",{value:"general",children:"General Consultation"}),r.jsx("option",{value:"financing",children:"Financing Options"}),r.jsx("option",{value:"bidding",children:"Bidding Process"}),r.jsx("option",{value:"inspection",children:"Property Inspection"}),r.jsx("option",{value:"203k",children:"203k Renovation Loan"})]}),r.jsx(cs,{placeholder:"Additional questions or comments...",value:w.message,onChange:C=>_({...w,message:C.target.value}),rows:3}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx(te,{type:"submit",className:"flex-1",children:"Submit Request"}),r.jsx(te,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"})]})]})]})}),h&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full h-96 flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsx("h3",{className:"font-bold",children:"Property Chat Assistant"}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>g(!1),children:""})]}),r.jsx("div",{className:"flex-1 p-4 overflow-y-auto space-y-3",children:m.map((C,T)=>r.jsx("div",{className:`flex ${C.type==="user"?"justify-end":"justify-start"}`,children:r.jsx("div",{className:`max-w-xs p-3 rounded-lg text-sm ${C.type==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-800"}`,children:C.message})},T))}),r.jsxs("form",{onSubmit:N,className:"p-4 border-t flex gap-2",children:[r.jsx(Ne,{placeholder:"Ask about this property...",value:y,onChange:C=>b(C.target.value),className:"flex-1"}),r.jsx(te,{type:"submit",size:"sm",children:"Send"})]})]})})]})]})}class N6{constructor(){this.customers=this.loadCustomers(),this.consultations=this.loadConsultations(),this.leads=this.loadLeads()}loadCustomers(){const e=localStorage.getItem("usahud_customers");return e?JSON.parse(e):[]}loadConsultations(){const e=localStorage.getItem("usahud_consultations");return e?JSON.parse(e):[]}loadLeads(){const e=localStorage.getItem("usahud_leads");return e?JSON.parse(e):[]}refreshData(){return this.customers=this.loadCustomers(),this.consultations=this.loadConsultations(),this.leads=this.loadLeads(),!0}saveCustomers(){localStorage.setItem("usahud_customers",JSON.stringify(this.customers))}saveConsultations(){localStorage.setItem("usahud_consultations",JSON.stringify(this.consultations))}saveLeads(){localStorage.setItem("usahud_leads",JSON.stringify(this.leads))}generateId(){return"cust_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}addCustomer(e){const t={id:this.generateId(),...e,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"new",source:"website",notes:[]};return this.customers.push(t),this.saveCustomers(),this.sendNewCustomerNotification(t),t}addConsultation(e){const t={id:this.generateId(),...e,createdAt:new Date().toISOString(),status:"pending",priority:this.calculatePriority(e)};return this.consultations.push(t),this.saveConsultations(),this.sendConsultationNotification(t),t}addLead(e){const t={id:this.generateId(),...e,createdAt:new Date().toISOString(),status:"new",source:"lead_form"};return this.leads.push(t),this.saveLeads(),this.sendLeadNotification(t),t}calculatePriority(e){return e.propertyId&&e.propertyId.includes("PRICE REDUCED")||e.consultationType==="bidding"||e.consultationType==="urgent"?"high":e.consultationType==="financing"||e.consultationType==="203k"?"medium":"normal"}getAllCustomers(){return this.customers=this.loadCustomers(),this.customers.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))}getAllConsultations(){return this.consultations=this.loadConsultations(),this.consultations.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))}getAllLeads(){return this.leads=this.loadLeads(),this.leads.sort((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))}getCustomerById(e){return this.customers.find(t=>t.id===e)}updateCustomer(e,t){const i=this.customers.findIndex(o=>o.id===e);return i!==-1?(this.customers[i]={...this.customers[i],...t,updatedAt:new Date().toISOString()},this.saveCustomers(),this.customers[i]):null}addCustomerNote(e,t){const i=this.getCustomerById(e);return i?(i.notes.push({id:this.generateId(),text:t,createdAt:new Date().toISOString(),createdBy:"Marc Spencer"}),this.saveCustomers(),i):null}getDashboardStats(){const e=new Date().toISOString().split("T")[0],t=new Date(Date.now()-7*24*60*60*1e3).toISOString(),i=new Date(Date.now()-30*24*60*60*1e3).toISOString();return{totalCustomers:this.customers.length,newCustomersToday:this.customers.filter(o=>o.createdAt.startsWith(e)).length,newCustomersThisWeek:this.customers.filter(o=>o.createdAt>=t).length,newCustomersThisMonth:this.customers.filter(o=>o.createdAt>=i).length,totalConsultations:this.consultations.length,pendingConsultations:this.consultations.filter(o=>o.status==="pending").length,highPriorityConsultations:this.consultations.filter(o=>o.priority==="high"&&o.status==="pending").length,totalLeads:this.leads.length,newLeadsToday:this.leads.filter(o=>o.createdAt.startsWith(e)).length}}sendNewCustomerNotification(e){const t={to:"marcspencer28461@gmail.com",subject:`New Customer Registration - ${e.name}`,body:`
New customer has registered on USAhudHomes.com:

Customer Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- State of Interest: ${e.state||"Not specified"}
- Property Interest: ${e.propertyId||"General inquiry"}
- Registration Date: ${new Date(e.createdAt).toLocaleString()}

Customer ID: ${e.id}

Please follow up within 2 hours as promised on the website.

Best regards,
USAhudHomes.com System
      `};console.log("Email notification sent:",t),this.logEmail(t)}sendConsultationNotification(e){const t={to:"marcspencer28461@gmail.com",subject:`New Consultation Request - ${e.name} (${e.priority.toUpperCase()} Priority)`,body:`
New consultation request received on USAhudHomes.com:

Client Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- Consultation Type: ${e.consultationType}
- Property: ${e.propertyId||"General consultation"}
- Priority: ${e.priority.toUpperCase()}
- Message: ${e.message||"No additional message"}
- Request Date: ${new Date(e.createdAt).toLocaleString()}

Consultation ID: ${e.id}

${e.priority==="high"?"HIGH PRIORITY - Please respond immediately!":"Please respond within 2 hours."}

Best regards,
USAhudHomes.com System
      `};console.log("Consultation email sent:",t),this.logEmail(t)}sendLeadNotification(e){const t={to:"marcspencer28461@gmail.com",subject:`New Lead Captured - ${e.name}`,body:`
New lead captured on USAhudHomes.com:

Lead Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- State of Interest: ${e.state}
- Property Case #: ${e.propertyCase||"Not specified"}
- Lead Date: ${new Date(e.createdAt).toLocaleString()}

Lead ID: ${e.id}

Please follow up within 2 hours.

Best regards,
USAhudHomes.com System
      `};console.log("Lead email sent:",t),this.logEmail(t)}logEmail(e){const t=JSON.parse(localStorage.getItem("usahud_emails")||"[]");t.push({...e,sentAt:new Date().toISOString(),id:this.generateId()}),localStorage.setItem("usahud_emails",JSON.stringify(t))}getEmailLogs(){return JSON.parse(localStorage.getItem("usahud_emails")||"[]")}searchCustomers(e){const t=e.toLowerCase();return this.customers.filter(i=>i.name.toLowerCase().includes(t)||i.email.toLowerCase().includes(t)||i.phone.includes(e)||i.state&&i.state.toLowerCase().includes(t))}exportData(){return{customers:this.customers,consultations:this.consultations,leads:this.leads,emails:this.getEmailLogs(),exportDate:new Date().toISOString()}}importData(e){e.customers&&(this.customers=e.customers,this.saveCustomers()),e.consultations&&(this.consultations=e.consultations,this.saveConsultations()),e.leads&&(this.leads=e.leads,this.saveLeads())}updateLeadStatus(e,t,i=""){const o=this.consultations.find(c=>c.id===e);if(o){const c=o.status;return o.status=t,o.updatedAt=new Date().toISOString(),this.addLeadInteraction(e,{type:"status_change",message:`Status changed from ${c} to ${t}`,notes:i,timestamp:new Date().toISOString(),user:"Marc Spencer"}),this.saveConsultations(),o}return null}addLeadInteraction(e,t){const i=JSON.parse(localStorage.getItem("usahud_interactions")||"{}");i[e]||(i[e]=[]);const o={id:this.generateId(),leadId:e,...t,timestamp:t.timestamp||new Date().toISOString()};return i[e].unshift(o),localStorage.setItem("usahud_interactions",JSON.stringify(i)),o}getLeadInteractions(e){return JSON.parse(localStorage.getItem("usahud_interactions")||"{}")[e]||[]}addLeadTask(e,t){const i=JSON.parse(localStorage.getItem("usahud_tasks")||"{}");i[e]||(i[e]=[]);const o={id:this.generateId(),leadId:e,...t,createdAt:new Date().toISOString(),completed:!1};return i[e].unshift(o),localStorage.setItem("usahud_tasks",JSON.stringify(i)),o}getLeadTasks(e){return JSON.parse(localStorage.getItem("usahud_tasks")||"{}")[e]||[]}updateLeadTask(e,t,i){const o=JSON.parse(localStorage.getItem("usahud_tasks")||"{}");if(o[e]){const c=o[e].findIndex(d=>d.id===t);if(c!==-1)return o[e][c]={...o[e][c],...i,updatedAt:new Date().toISOString()},localStorage.setItem("usahud_tasks",JSON.stringify(o)),o[e][c]}return null}calculateLeadScore(e){const t=this.consultations.find(d=>d.id===e);if(!t)return 0;let i=50;const o=this.getLeadInteractions(e);i+=Math.min(o.length*5,30);const c=(Date.now()-new Date(t.createdAt).getTime())/(1e3*60*60*24);return c<1?i+=20:c<7?i+=10:c>30&&(i-=10),t.propertyId&&(i+=15),t.consultationType==="financing"&&(i+=10),t.consultationType==="bidding"&&(i+=15),t.phone&&(i+=10),t.email&&(i+=5),Math.max(0,Math.min(100,i))}getLeadsByStatus(e){return this.consultations.filter(t=>t.status===e)}getOverdueLeads(){const e=new Date(Date.now()-2592e5);return this.consultations.filter(t=>t.status==="pending"&&new Date(t.createdAt)<e)}getHighPriorityLeads(){return this.consultations.filter(e=>e.priority==="high"||this.calculateLeadScore(e.id)>80)}}const S6={pending:{label:"New Lead",color:"bg-blue-100 text-blue-800",nextSteps:["contacted","qualified"],autoActions:["send_welcome_email","assign_to_agent"]},contacted:{label:"Contacted",color:"bg-yellow-100 text-yellow-800",nextSteps:["qualified","not_interested"],autoActions:["schedule_follow_up"]},qualified:{label:"Qualified",color:"bg-green-100 text-green-800",nextSteps:["proposal","viewing_scheduled"],autoActions:["send_property_matches"]},proposal:{label:"Proposal Sent",color:"bg-purple-100 text-purple-800",nextSteps:["closed","negotiating"],autoActions:["schedule_follow_up_call"]},viewing_scheduled:{label:"Viewing Scheduled",color:"bg-indigo-100 text-indigo-800",nextSteps:["proposal","qualified"],autoActions:["send_viewing_reminder"]},negotiating:{label:"Negotiating",color:"bg-orange-100 text-orange-800",nextSteps:["closed","lost"],autoActions:["prepare_contracts"]},closed:{label:"Closed Won",color:"bg-green-100 text-green-800",nextSteps:[],autoActions:["send_congratulations","request_review"]},lost:{label:"Closed Lost",color:"bg-red-100 text-red-800",nextSteps:[],autoActions:["send_feedback_request"]},not_interested:{label:"Not Interested",color:"bg-gray-100 text-gray-800",nextSteps:[],autoActions:["add_to_nurture_campaign"]},referred:{label:"Referred",color:"bg-orange-100 text-orange-800",nextSteps:[],autoActions:["notify_referring_broker"]}},et=new N6;et.statusWorkflow=S6;class _6{constructor(){this.brokers=this.loadBrokers(),this.referrals=this.loadReferrals()}loadBrokers(){const e=localStorage.getItem("brokerNetwork");return e?JSON.parse(e):[{id:"broker-001",name:"Marc Spencer",email:"marcspencer28461@gmail.com",phone:"(910) 363-6147",company:"Lightkeeper Realty",license:"NC-12345",states:["NC"],counties:["Caswell","Mecklenburg","Vance","Johnston","Wake"],specialties:["HUD Homes","FHA 203k","First-Time Buyers"],rating:4.9,totalReferrals:156,successRate:87,responseTime:"< 2 hours",languages:["English"],certifications:["HUD Registered Buyer Agent","FHA 203k Specialist"],bio:"Helping people buy HUD homes for 25+ years. Registered HUD Buyer's Agency with extensive experience in government foreclosure properties.",profileImage:"/images/marc-spencer.jpg",isActive:!0,joinDate:"1999-03-15",lastActive:new Date().toISOString()},{id:"broker-002",name:"Sarah Johnson",email:"sarah.johnson@tnrealty.com",phone:"(615) 555-0123",company:"Tennessee Home Experts",license:"TN-67890",states:["TN"],counties:["Davidson","Knox","Hamilton","Shelby","Carroll"],specialties:["HUD Homes","Investment Properties","Rural Properties"],rating:4.7,totalReferrals:89,successRate:82,responseTime:"< 4 hours",languages:["English","Spanish"],certifications:["HUD Registered Buyer Agent","Investment Property Specialist"],bio:"Tennessee HUD specialist with 15 years experience helping buyers find affordable government properties.",profileImage:"/images/sarah-johnson.jpg",isActive:!0,joinDate:"2008-07-22",lastActive:new Date().toISOString()},{id:"broker-003",name:"Michael Davis",email:"mdavis@charlottehomes.com",phone:"(704) 555-0456",company:"Charlotte Home Solutions",license:"NC-54321",states:["NC"],counties:["Mecklenburg","Gaston","Union","Cabarrus"],specialties:["HUD Homes","Urban Properties","Luxury Homes"],rating:4.8,totalReferrals:134,successRate:85,responseTime:"< 3 hours",languages:["English"],certifications:["HUD Registered Buyer Agent","Luxury Home Specialist"],bio:"Charlotte area HUD expert specializing in urban and suburban government foreclosure properties.",profileImage:"/images/michael-davis.jpg",isActive:!0,joinDate:"2005-11-10",lastActive:new Date().toISOString()},{id:"broker-004",name:"Jennifer Wilson",email:"jwilson@trianglerealty.com",phone:"(919) 555-0789",company:"Triangle Realty Group",license:"NC-98765",states:["NC"],counties:["Wake","Durham","Orange","Chatham"],specialties:["HUD Homes","First-Time Buyers","FHA 203k"],rating:4.9,totalReferrals:201,successRate:91,responseTime:"< 1 hour",languages:["English","French"],certifications:["HUD Registered Buyer Agent","FHA 203k Consultant"],bio:"Triangle area HUD specialist with exceptional track record in helping first-time buyers.",profileImage:"/images/jennifer-wilson.jpg",isActive:!0,joinDate:"2003-01-18",lastActive:new Date().toISOString()}]}loadReferrals(){const e=localStorage.getItem("brokerReferrals");return e?JSON.parse(e):[]}saveBrokers(){localStorage.setItem("brokerNetwork",JSON.stringify(this.brokers))}saveReferrals(){localStorage.setItem("brokerReferrals",JSON.stringify(this.referrals))}findBestBroker(e){const{state:t,county:i,propertyType:o,budget:c,specialNeeds:d}=e;let h=this.brokers.filter(m=>m.isActive&&m.states.includes(t));return i&&(h=h.filter(m=>m.counties.includes(i))),h.map(m=>{let x=0;return x+=m.rating*10,x+=m.successRate*.5,d&&d.forEach(y=>{m.specialties.some(b=>b.toLowerCase().includes(y.toLowerCase()))&&(x+=15)}),m.responseTime.includes("< 1 hour")?x+=10:m.responseTime.includes("< 2 hours")?x+=7:m.responseTime.includes("< 4 hours")&&(x+=5),x+=Math.min(m.totalReferrals*.1,20),{...m,score:x}}).sort((m,x)=>x.score-m.score)}createReferral(e,t,i,o=""){const c={id:`ref-${Date.now()}`,customerId:e.id,customerName:e.name,customerEmail:e.email,customerPhone:e.phone,fromBrokerId:t,toBrokerId:i,reason:o,status:"pending",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),propertyInterest:e.propertyInterest||"",budget:e.budget||"",timeline:e.timeline||"",notes:e.notes||""};return this.referrals.push(c),this.saveReferrals(),this.sendReferralNotification(c),c}updateReferralStatus(e,t,i=""){const o=this.referrals.find(c=>c.id===e);return o?(o.status=t,o.updatedAt=new Date().toISOString(),i&&(o.notes=(o.notes||"")+`
`+i),this.saveReferrals(),o):null}getBrokerReferrals(e,t=null){let i=this.referrals.filter(o=>o.fromBrokerId===e||o.toBrokerId===e);return t&&(i=i.filter(o=>o.status===t)),i.sort((o,c)=>new Date(c.createdAt)-new Date(o.createdAt))}sendReferralNotification(e){const t=this.brokers.find(c=>c.id===e.fromBrokerId),i=this.brokers.find(c=>c.id===e.toBrokerId);if(!t||!i)return;const o={to:i.email,subject:`New Customer Referral from ${t.name}`,html:`
        <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
          <h2 style="color: #2563eb;">New Customer Referral</h2>
          
          <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0;">
            <h3>Customer Information</h3>
            <p><strong>Name:</strong> ${e.customerName}</p>
            <p><strong>Email:</strong> ${e.customerEmail}</p>
            <p><strong>Phone:</strong> ${e.customerPhone}</p>
            <p><strong>Property Interest:</strong> ${e.propertyInterest}</p>
            <p><strong>Budget:</strong> ${e.budget}</p>
            <p><strong>Timeline:</strong> ${e.timeline}</p>
          </div>
          
          <div style="background: #fef3c7; padding: 15px; border-radius: 8px; margin: 20px 0;">
            <h3>Referral Details</h3>
            <p><strong>Referred by:</strong> ${t.name} (${t.company})</p>
            <p><strong>Reason:</strong> ${e.reason}</p>
            <p><strong>Notes:</strong> ${e.notes}</p>
          </div>
          
          <div style="text-align: center; margin: 30px 0;">
            <a href="https://usahudhomes-app.vercel.app/customer/${e.customerId}" 
               style="background: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px;">
              View Customer Details
            </a>
          </div>
          
          <p style="color: #6b7280; font-size: 14px;">
            Please contact the customer within 24 hours to maintain our high service standards.
          </p>
        </div>
      `};if(console.log("Referral notification email:",o),i.email!=="marcspencer28461@gmail.com"){const c={to:"marcspencer28461@gmail.com",subject:`Referral Created: ${e.customerName}  ${i.name}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
            <h2 style="color: #2563eb;">Referral Notification</h2>
            <p>A new referral has been created in the USAhudHomes.com system:</p>
            
            <div style="background: #f8fafc; padding: 20px; border-radius: 8px;">
              <p><strong>Customer:</strong> ${e.customerName}</p>
              <p><strong>Referred to:</strong> ${i.name} (${i.company})</p>
              <p><strong>Property Interest:</strong> ${e.propertyInterest}</p>
              <p><strong>Reason:</strong> ${e.reason}</p>
            </div>
            
            <p style="margin-top: 20px;">
              <a href="https://usahudhomes-app.vercel.app/leads">View in Dashboard</a>
            </p>
          </div>
        `};console.log("Marc notification email:",c)}}getBrokerStats(e){const t=this.brokers.find(d=>d.id===e);if(!t)return null;const i=this.getBrokerReferrals(e),o=i.filter(d=>d.toBrokerId===e),c=i.filter(d=>d.fromBrokerId===e);return{...t,stats:{totalReceived:o.length,totalSent:c.length,pendingReceived:o.filter(d=>d.status==="pending").length,completedReceived:o.filter(d=>d.status==="completed").length,thisMonth:o.filter(d=>{const h=new Date(d.createdAt),g=new Date;return h.getMonth()===g.getMonth()&&h.getFullYear()===g.getFullYear()}).length}}}searchBrokers(e){const t=e.toLowerCase();return this.brokers.filter(i=>i.name.toLowerCase().includes(t)||i.company.toLowerCase().includes(t)||i.states.some(o=>o.toLowerCase().includes(t))||i.counties.some(o=>o.toLowerCase().includes(t))||i.specialties.some(o=>o.toLowerCase().includes(t)))}addBroker(e){const t={id:`broker-${Date.now()}`,...e,totalReferrals:0,rating:0,successRate:0,isActive:!0,joinDate:new Date().toISOString(),lastActive:new Date().toISOString()};return this.brokers.push(t),this.saveBrokers(),t}updateBroker(e,t){const i=this.brokers.findIndex(o=>o.id===e);return i!==-1?(this.brokers[i]={...this.brokers[i],...t,lastActive:new Date().toISOString()},this.saveBrokers(),this.brokers[i]):null}getNetworkOverview(){const e=this.brokers.length,t=this.brokers.filter(h=>h.isActive).length,i=this.referrals.length,o=this.referrals.filter(h=>h.status==="pending").length,c=[...new Set(this.brokers.flatMap(h=>h.states))].sort(),d=this.brokers.reduce((h,g)=>h+g.rating,0)/e;return{totalBrokers:e,activeBrokers:t,totalReferrals:i,pendingReferrals:o,statesCovered:c,avgRating:Math.round(d*10)/10,topPerformers:this.brokers.sort((h,g)=>g.successRate-h.successRate).slice(0,3)}}}const zl=new _6;class E6{constructor(){this.emailEndpoint="/api/send-email",this.defaultRecipient="marcspencer28461@gmail.com"}async sendNewCustomerNotification(e){const t={to:this.defaultRecipient,subject:` New Customer Registration - ${e.name}`,html:this.generateCustomerEmailHTML(e),text:this.generateCustomerEmailText(e)};return this.sendEmail(t)}async sendConsultationNotification(e){const t=this.calculatePriority(e),i=t==="high"?"":t==="medium"?"":"",o={to:this.defaultRecipient,subject:`${i} New Consultation Request - ${e.name} (${t.toUpperCase()} Priority)`,html:this.generateConsultationEmailHTML(e,t),text:this.generateConsultationEmailText(e,t)};return this.sendEmail(o)}async sendLeadNotification(e){const t={to:this.defaultRecipient,subject:` New Lead Captured - ${e.name}`,html:this.generateLeadEmailHTML(e),text:this.generateLeadEmailText(e)};return this.sendEmail(t)}calculatePriority(e){return e.propertyId&&e.propertyId.includes("PRICE REDUCED")||e.consultationType==="bidding"||e.consultationType==="urgent"?"high":e.consultationType==="financing"||e.consultationType==="203k"?"medium":"normal"}generateCustomerEmailHTML(e){return`
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>New Customer Registration</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #2563eb; color: white; padding: 20px; text-align: center; }
        .content { background: #f8fafc; padding: 20px; }
        .info-box { background: white; padding: 15px; margin: 10px 0; border-left: 4px solid #2563eb; }
        .urgent { background: #fef2f2; border-left-color: #dc2626; }
        .footer { background: #1e293b; color: white; padding: 15px; text-align: center; }
        .button { background: #2563eb; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> USAhudHomes.com</h1>
            <h2>New Customer Registration</h2>
        </div>
        
        <div class="content">
            <div class="info-box urgent">
                <h3> Action Required - Follow up within 2 hours</h3>
                <p>A new customer has registered on USAhudHomes.com and is expecting your response within 2 hours as promised on the website.</p>
            </div>
            
            <div class="info-box">
                <h3> Customer Information</h3>
                <p><strong>Name:</strong> ${e.name}</p>
                <p><strong>Email:</strong> <a href="mailto:${e.email}">${e.email}</a></p>
                <p><strong>Phone:</strong> <a href="tel:${e.phone}">${e.phone}</a></p>
                <p><strong>State of Interest:</strong> ${e.state||"Not specified"}</p>
                <p><strong>Property Interest:</strong> ${e.propertyId||"General inquiry"}</p>
                <p><strong>Registration Date:</strong> ${new Date(e.createdAt||Date.now()).toLocaleString()}</p>
                <p><strong>Customer ID:</strong> ${e.id}</p>
            </div>
            
            <div class="info-box">
                <h3> Recommended Next Steps</h3>
                <ul>
                    <li>Call the customer within 2 hours</li>
                    <li>Send a welcome email with your contact information</li>
                    <li>Schedule a consultation if they're interested in a specific property</li>
                    <li>Add them to your CRM system</li>
                </ul>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <a href="tel:${e.phone}" class="button"> Call Customer Now</a>
            </div>
        </div>
        
        <div class="footer">
            <p>USAhudHomes.com Customer Management System</p>
            <p>Lightkeeper Realty - Registered HUD Buyer's Agency</p>
            <p>Marc Spencer: (910) 363-6147</p>
        </div>
    </div>
</body>
</html>
    `}generateCustomerEmailText(e){return`
 USAhudHomes.com - New Customer Registration

 ACTION REQUIRED - Follow up within 2 hours

A new customer has registered on USAhudHomes.com:

 Customer Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- State of Interest: ${e.state||"Not specified"}
- Property Interest: ${e.propertyId||"General inquiry"}
- Registration Date: ${new Date(e.createdAt||Date.now()).toLocaleString()}
- Customer ID: ${e.id}

 Recommended Next Steps:
1. Call the customer within 2 hours
2. Send a welcome email with your contact information
3. Schedule a consultation if they're interested in a specific property
4. Add them to your CRM system

Please follow up immediately as promised on the website.

Best regards,
USAhudHomes.com System
Lightkeeper Realty - Registered HUD Buyer's Agency
Marc Spencer: (910) 363-6147
    `}generateConsultationEmailHTML(e,t){const i=t==="high"?"#dc2626":t==="medium"?"#f59e0b":"#2563eb",o=t==="high"?"URGENT - Respond immediately!":"Please respond within 2 hours";return`
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>New Consultation Request</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: ${i}; color: white; padding: 20px; text-align: center; }
        .content { background: #f8fafc; padding: 20px; }
        .info-box { background: white; padding: 15px; margin: 10px 0; border-left: 4px solid: ${i}; }
        .urgent { background: #fef2f2; border-left-color: #dc2626; }
        .footer { background: #1e293b; color: white; padding: 15px; text-align: center; }
        .button { background: ${i}; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; }
        .priority { background: ${i}; color: white; padding: 8px 16px; border-radius: 20px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> USAhudHomes.com</h1>
            <h2>New Consultation Request</h2>
            <span class="priority">${t.toUpperCase()} PRIORITY</span>
        </div>
        
        <div class="content">
            <div class="info-box urgent">
                <h3> ${o}</h3>
                <p>A new consultation request has been submitted with ${t} priority.</p>
            </div>
            
            <div class="info-box">
                <h3> Client Information</h3>
                <p><strong>Name:</strong> ${e.name}</p>
                <p><strong>Email:</strong> <a href="mailto:${e.email}">${e.email}</a></p>
                <p><strong>Phone:</strong> <a href="tel:${e.phone}">${e.phone}</a></p>
                <p><strong>Consultation Type:</strong> ${e.consultationType}</p>
                <p><strong>Property:</strong> ${e.propertyId||"General consultation"}</p>
                <p><strong>Priority:</strong> <span style="color: ${i}; font-weight: bold;">${t.toUpperCase()}</span></p>
                <p><strong>Request Date:</strong> ${new Date(e.createdAt||Date.now()).toLocaleString()}</p>
                <p><strong>Consultation ID:</strong> ${e.id}</p>
            </div>
            
            ${e.message?`
            <div class="info-box">
                <h3> Client Message</h3>
                <p>"${e.message}"</p>
            </div>
            `:""}
            
            <div style="text-align: center; margin: 20px 0;">
                <a href="tel:${e.phone}" class="button"> Call Client Now</a>
            </div>
        </div>
        
        <div class="footer">
            <p>USAhudHomes.com Consultation System</p>
            <p>Lightkeeper Realty - Registered HUD Buyer's Agency</p>
            <p>Marc Spencer: (910) 363-6147</p>
        </div>
    </div>
</body>
</html>
    `}generateConsultationEmailText(e,t){return`
 USAhudHomes.com - New Consultation Request

 ${t==="high"?"URGENT - Respond immediately!":"Please respond within 2 hours"}

New consultation request received with ${t.toUpperCase()} priority:

 Client Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- Consultation Type: ${e.consultationType}
- Property: ${e.propertyId||"General consultation"}
- Priority: ${t.toUpperCase()}
- Request Date: ${new Date(e.createdAt||Date.now()).toLocaleString()}
- Consultation ID: ${e.id}

${e.message?` Client Message: "${e.message}"`:""}

${t==="high"?" HIGH PRIORITY - Please respond immediately!":"Please respond within 2 hours as promised."}

Best regards,
USAhudHomes.com System
Lightkeeper Realty - Registered HUD Buyer's Agency
Marc Spencer: (910) 363-6147
    `}generateLeadEmailHTML(e){return`
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>New Lead Captured</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }
        .container { max-width: 600px; margin: 0 auto; padding: 20px; }
        .header { background: #059669; color: white; padding: 20px; text-align: center; }
        .content { background: #f8fafc; padding: 20px; }
        .info-box { background: white; padding: 15px; margin: 10px 0; border-left: 4px solid #059669; }
        .footer { background: #1e293b; color: white; padding: 15px; text-align: center; }
        .button { background: #059669; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1> USAhudHomes.com</h1>
            <h2>New Lead Captured</h2>
        </div>
        
        <div class="content">
            <div class="info-box">
                <h3> Lead Information</h3>
                <p><strong>Name:</strong> ${e.name}</p>
                <p><strong>Email:</strong> <a href="mailto:${e.email}">${e.email}</a></p>
                <p><strong>Phone:</strong> <a href="tel:${e.phone}">${e.phone}</a></p>
                <p><strong>State of Interest:</strong> ${e.state}</p>
                <p><strong>Property Case #:</strong> ${e.propertyCase||"Not specified"}</p>
                <p><strong>Lead Date:</strong> ${new Date(e.createdAt||Date.now()).toLocaleString()}</p>
                <p><strong>Lead ID:</strong> ${e.id}</p>
            </div>
            
            <div style="text-align: center; margin: 20px 0;">
                <a href="tel:${e.phone}" class="button"> Call Lead Now</a>
            </div>
        </div>
        
        <div class="footer">
            <p>USAhudHomes.com Lead Management System</p>
            <p>Lightkeeper Realty - Registered HUD Buyer's Agency</p>
            <p>Marc Spencer: (910) 363-6147</p>
        </div>
    </div>
</body>
</html>
    `}generateLeadEmailText(e){return`
 USAhudHomes.com - New Lead Captured

 Lead Details:
- Name: ${e.name}
- Email: ${e.email}
- Phone: ${e.phone}
- State of Interest: ${e.state}
- Property Case #: ${e.propertyCase||"Not specified"}
- Lead Date: ${new Date(e.createdAt||Date.now()).toLocaleString()}
- Lead ID: ${e.id}

Please follow up within 2 hours as promised.

Best regards,
USAhudHomes.com System
Lightkeeper Realty - Registered HUD Buyer's Agency
Marc Spencer: (910) 363-6147
    `}async sendEmail(e){try{return console.log(" Email sent:",e),this.logEmail(e),{success:!0,messageId:"sim_"+Date.now()}}catch(t){return console.error("Email sending failed:",t),{success:!1,error:t.message}}}logEmail(e){const t=JSON.parse(localStorage.getItem("usahud_emails")||"[]");t.push({...e,sentAt:new Date().toISOString(),id:"email_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}),localStorage.setItem("usahud_emails",JSON.stringify(t))}getEmailLogs(){return JSON.parse(localStorage.getItem("usahud_emails")||"[]").sort((e,t)=>new Date(t.sentAt)-new Date(e.sentAt))}async testEmail(){const e={name:"Test Customer",email:"test@example.com",phone:"(555) 123-4567",state:"NC",propertyId:"387-111612",createdAt:new Date().toISOString(),id:"test_"+Date.now()};return this.sendNewCustomerNotification(e)}}const ql=new E6;function gv(){var Oi,Ta,no,Di;const{customerId:n}=ji(),e=rr(),[t,i]=v.useState(null),[o,c]=v.useState(!0),[d,h]=v.useState("overview"),[g,m]=v.useState([]),[x,y]=v.useState([]),[b,w]=v.useState([]),[_,j]=v.useState(!1),[N,E]=v.useState({}),[C,T]=v.useState(!1),[O,U]=v.useState(!1),[G,L]=v.useState(!1),[P,Y]=v.useState(!1),[D,I]=v.useState(!1),[Q,oe]=v.useState({subject:"",body:"",template:"custom"}),[le,de]=v.useState({message:"",template:"custom"}),[k,V]=v.useState({propertyId:"",message:"",includeFinancing:!0}),[z,q]=v.useState({brokerId:"",reason:"",notes:""}),[R,X]=v.useState(""),[H,Z]=v.useState([]),[ce,pe]=v.useState([]);v.useEffect(()=>{B(),ie(),me(),Re(),ke(),Me()},[n]);const B=()=>{const re=et.getCustomerById(n);re&&(i(re),E(re)),c(!1)},ie=()=>{Z([{id:"387-111612",address:"80 Prong Creek Ln, Yanceyville, NC",price:544e3},{id:"387-570372",address:"2105 Fathom Way, Charlotte, NC",price:365e3},{id:"387-412268",address:"162 Black Horse Ln, Kittrell, NC",price:336150},{id:"381-799288",address:"3009 Wynston Way, Clayton, NC",price:310500},{id:"482-521006",address:"1234 Main St, Mc Kenzie, TN",price:147200}])},me=()=>{const re=zl.brokers.filter(qt=>qt.isActive);pe(re)},Re=()=>{if(t){const re=zl.findBestBroker({state:t.state,county:t.county,specialNeeds:t.specialNeeds||[]});m(re.slice(0,5))}},ke=()=>{const re=et.getCustomerActivities(n);y(re)},Me=()=>{const re=zl.referrals.filter(qt=>qt.customerId===n);w(re)},Pe=()=>{et.updateCustomer(n,N),i(N),j(!1)},wt=()=>{R.trim()&&(customerDB.addNoteToCustomer(n,R),B(),X(""),I(!1))},zt=async()=>{try{await ql.sendEmail({to:t.email,subject:Q.subject,body:Q.body,customerId:t.id}),customerDB.addActivityToCustomer(n,{type:"email",description:`Email sent: ${Q.subject}`,timestamp:new Date}),alert("Email sent successfully!"),T(!1),oe({subject:"",body:"",template:"custom"}),B()}catch(re){alert("Error sending email: "+re.message)}},vr=async()=>{try{console.log("Sending SMS to:",t.phone,"Message:",le.message),customerDB.addActivityToCustomer(n,{type:"sms",description:`SMS sent: ${le.message.substring(0,50)}...`,timestamp:new Date}),alert("Text message sent successfully!"),U(!1),de({message:"",template:"custom"}),B()}catch(re){alert("Error sending text: "+re.message)}},br=async()=>{try{const re=H.find(Ut=>Ut.id===k.propertyId);if(!re)return;const qt=`HUD Property Recommendation: ${re.address}`,$s=`Dear ${t.name},

I wanted to share this HUD property that matches your criteria:

Property: ${re.address}
Price: $${re.price.toLocaleString()}
Case #: ${re.case_number||re.caseNumber}

${k.message}

${k.includeFinancing?`
Special HUD Financing Available:
 $100 down FHA loans for owner-occupants
 Up to 3% closing cost assistance
 Repair escrows up to $35,000 with 203k loans
`:""}

To view full details and schedule a consultation, visit:
https://usahudhomes-app.vercel.app/consult/${re.case_number||re.caseNumber}

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147`;await ql.sendEmail({to:t.email,subject:qt,body:$s,customerId:t.id}),customerDB.addActivityToCustomer(n,{type:"property_share",description:`Shared property: ${re.address}`,timestamp:new Date}),alert("Property shared successfully!"),L(!1),V({propertyId:"",message:"",includeFinancing:!0}),B()}catch(re){alert("Error sharing property: "+re.message)}},kt=async()=>{try{const re=ce.find(es=>es.id===z.brokerId);if(!re)return;const qt=`Client Referral: ${t.name}`,$s=`Dear ${re.name},

I'm referring a client to you for HUD home assistance:

Client Information:
Name: ${t.name}
Email: ${t.email}
Phone: ${t.phone}
State: ${t.state}

Reason for Referral: ${z.reason}

Additional Notes: ${z.notes}

Please contact them within 24 hours.

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147`;console.log("Sending referral email to broker:",re.name);const Ut=`You've been referred to a HUD specialist in ${re.state}`,lr=`Dear ${t.name},

I've referred you to a qualified HUD specialist in your area:

${re.name}
${re.company}
Phone: ${re.phone}

They will contact you within 24 hours to assist with your HUD home search.

Best regards,
Marc Spencer
Lightkeeper Realty`;await ql.sendEmail({to:t.email,subject:Ut,body:lr,customerId:t.id}),customerDB.addActivityToCustomer(n,{type:"broker_referral",description:`Referred to ${re.name} at ${re.company}`,timestamp:new Date}),alert("Customer referred successfully!"),Y(!1),q({brokerId:"",reason:"",notes:""}),B()}catch(re){alert("Error referring customer: "+re.message)}},Aa={welcome:{subject:"Welcome to USAhudHomes.com",body:`Dear ${(t==null?void 0:t.name)||"[Name]"},

Thank you for your interest in HUD homes! I'm excited to help you find your perfect property.

Best regards,
Marc Spencer`},followup:{subject:"Following up on your HUD home search",body:`Dear ${(t==null?void 0:t.name)||"[Name]"},

I wanted to check in on your HUD home search. Do you have any questions?

Best regards,
Marc Spencer`},consultation:{subject:"Schedule your HUD home consultation",body:`Dear ${(t==null?void 0:t.name)||"[Name]"},

I'd like to schedule a consultation to discuss your HUD home needs.

Best regards,
Marc Spencer`}},ir={welcome:`Hi ${(t==null?void 0:t.name)||"[Name]"}! Thanks for your interest in HUD homes. I'm Marc Spencer from Lightkeeper Realty. I'll be in touch soon to help with your search. (910) 363-6147`,followup:`Hi ${(t==null?void 0:t.name)||"[Name]"}! Just checking in on your HUD home search. Any questions? - Marc Spencer, Lightkeeper Realty (910) 363-6147`,appointment:`Hi ${(t==null?void 0:t.name)||"[Name]"}! Ready to schedule your HUD home consultation? Call me at (910) 363-6147 - Marc Spencer`};return o?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading customer details..."})]})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(te,{variant:"ghost",onClick:()=>e("/broker-dashboard"),className:"flex items-center gap-2",children:[r.jsx(gr,{className:"h-4 w-4"}),"Back to Dashboard"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t.name}),r.jsx("p",{className:"text-gray-600",children:t.email})]})]}),r.jsx("div",{className:"flex items-center gap-2",children:_?r.jsxs(r.Fragment,{children:[r.jsxs(te,{onClick:Pe,className:"flex items-center gap-2",children:[r.jsx(on,{className:"h-4 w-4"}),"Save"]}),r.jsxs(te,{variant:"outline",onClick:()=>{j(!1),E(t)},children:[r.jsx(Lt,{className:"h-4 w-4"}),"Cancel"]})]}):r.jsxs(te,{onClick:()=>j(!0),variant:"outline",children:[r.jsx(Na,{className:"h-4 w-4 mr-2"}),"Edit"]})})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center gap-2",children:[r.jsx(Xt,{className:"h-5 w-5"}),"Customer Profile"]})}),r.jsx(fe,{className:"space-y-4",children:_?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Name"}),r.jsx(Ne,{value:N.name||"",onChange:re=>E({...N,name:re.target.value}),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email"}),r.jsx(Ne,{value:N.email||"",onChange:re=>E({...N,email:re.target.value}),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Phone"}),r.jsx(Ne,{value:N.phone||"",onChange:re=>E({...N,phone:re.target.value}),className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"State"}),r.jsx(Ne,{value:N.state||"",onChange:re=>E({...N,state:re.target.value}),className:"mt-1"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(it,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm",children:t.email})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm",children:t.phone})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ar,{className:"h-4 w-4 text-gray-500"}),r.jsx("span",{className:"text-sm",children:t.state})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Qs,{className:"h-4 w-4 text-gray-500"}),r.jsxs("span",{className:"text-sm",children:["Registered ",new Date(t.createdAt).toLocaleDateString()]})]}),t.status&&r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(ze,{variant:t.status==="active"?"default":"secondary",children:t.status})})]})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center gap-2",children:[r.jsx(li,{className:"h-5 w-5"}),"Quick Actions"]})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(te,{onClick:()=>T(!0),className:"w-full justify-start",variant:"outline",children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Send Email"]}),r.jsxs(te,{onClick:()=>U(!0),className:"w-full justify-start",variant:"outline",children:[r.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Send Text Message"]}),r.jsxs(te,{onClick:()=>L(!0),className:"w-full justify-start",variant:"outline",children:[r.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Share Property"]}),r.jsxs(te,{onClick:()=>Y(!0),className:"w-full justify-start",variant:"outline",children:[r.jsx(en,{className:"h-4 w-4 mr-2"}),"Refer to Broker"]}),r.jsxs(te,{onClick:()=>I(!0),className:"w-full justify-start",variant:"outline",children:[r.jsx(fr,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})]})]}),r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx("div",{className:"mb-6",children:r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",label:"Overview",icon:Xt},{id:"activity",label:"Activity",icon:li},{id:"properties",label:"Properties",icon:ht},{id:"notes",label:"Notes",icon:fr}].map(re=>{const qt=re.icon;return r.jsxs("button",{onClick:()=>h(re.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${d===re.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(qt,{className:"h-4 w-4"}),re.label]},re.id)})})})}),d==="overview"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Customer Summary"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Contact Information"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Email:"})," ",t.email]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Phone:"})," ",t.phone]}),r.jsxs("p",{children:[r.jsx("strong",{children:"State:"})," ",t.state]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-2",children:"Account Details"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Registered:"})," ",new Date(t.createdAt).toLocaleDateString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Last Activity:"})," ",t.lastActivity?new Date(t.lastActivity).toLocaleDateString():"Never"]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Total Inquiries:"})," ",((Oi=t.inquiries)==null?void 0:Oi.length)||0]})]})]})]})})]}),t.preferences&&r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Preferences"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Price Range"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["$",((Ta=t.preferences.minPrice)==null?void 0:Ta.toLocaleString())||"No min"," - $",((no=t.preferences.maxPrice)==null?void 0:no.toLocaleString())||"No max"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Bedrooms"}),r.jsx("p",{className:"text-sm text-gray-600",children:t.preferences.bedrooms||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Property Type"}),r.jsx("p",{className:"text-sm text-gray-600",children:t.preferences.propertyType||"Any"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Preferred Areas"}),r.jsx("p",{className:"text-sm text-gray-600",children:((Di=t.preferences.areas)==null?void 0:Di.join(", "))||"None specified"})]})]})})]})]}),d==="activity"&&r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Recent Activity"})}),r.jsx(fe,{children:t.activities&&t.activities.length>0?r.jsx("div",{className:"space-y-4",children:t.activities.map((re,qt)=>r.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex-shrink-0",children:[re.type==="email"&&r.jsx(it,{className:"h-5 w-5 text-blue-600"}),re.type==="sms"&&r.jsx(Pt,{className:"h-5 w-5 text-green-600"}),re.type==="property_share"&&r.jsx(Ss,{className:"h-5 w-5 text-purple-600"}),re.type==="broker_referral"&&r.jsx(en,{className:"h-5 w-5 text-orange-600"}),re.type==="note"&&r.jsx(fr,{className:"h-5 w-5 text-gray-600"})]}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium",children:re.description}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(re.timestamp).toLocaleString()})]})]},qt))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(li,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No activity recorded yet"})]})})]}),d==="properties"&&r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Property Interests"})}),r.jsx(fe,{children:t.propertyInterests&&t.propertyInterests.length>0?r.jsx("div",{className:"space-y-4",children:t.propertyInterests.map((re,qt)=>{var $s;return r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:re.address}),r.jsxs("p",{className:"text-gray-600",children:["$",($s=re.price)==null?void 0:$s.toLocaleString()]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Case #",re.caseNumber]})]}),r.jsx(ze,{variant:re.status==="interested"?"default":"secondary",children:re.status})]}),re.notes&&r.jsx("p",{className:"text-sm text-gray-600 mt-2",children:re.notes})]},qt)})}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(ht,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No property interests recorded"})]})})]}),d==="notes"&&r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:["Notes",r.jsxs(te,{size:"sm",onClick:()=>I(!0),children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})}),r.jsx(fe,{children:t.notes&&t.notes.length>0?r.jsx("div",{className:"space-y-4",children:t.notes.map((re,qt)=>r.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-700",children:re.text}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:new Date(re.timestamp).toLocaleString()})]},qt))}):r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(fr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No notes added yet"})]})})]})]})]})}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(it,{className:"h-5 w-5"}),"Send Email to ",t.name]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>T(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Template"}),r.jsxs(Et,{value:Q.template,onValueChange:re=>{oe({...Q,template:re}),re!=="custom"&&Aa[re]&&oe({...Q,template:re,subject:Aa[re].subject,body:Aa[re].body})},children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"custom",children:"Custom Email"}),r.jsx(ge,{value:"welcome",children:"Welcome Email"}),r.jsx(ge,{value:"followup",children:"Follow-up Email"}),r.jsx(ge,{value:"consultation",children:"Consultation Email"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Subject"}),r.jsx(Ne,{value:Q.subject,onChange:re=>oe({...Q,subject:re.target.value}),placeholder:"Email subject",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(cs,{value:Q.body,onChange:re=>oe({...Q,body:re.target.value}),placeholder:"Email message",rows:10,className:"mt-1"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),r.jsxs(te,{onClick:zt,children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})]})}),O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Pt,{className:"h-5 w-5"}),"Send Text to ",t.name]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>U(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Template"}),r.jsxs(Et,{value:le.template,onValueChange:re=>{de({...le,template:re}),re!=="custom"&&ir[re]&&de({...le,template:re,message:ir[re]})},children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"custom",children:"Custom Message"}),r.jsx(ge,{value:"welcome",children:"Welcome Message"}),r.jsx(ge,{value:"followup",children:"Follow-up Message"}),r.jsx(ge,{value:"appointment",children:"Appointment Message"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(cs,{value:le.message,onChange:re=>de({...le,message:re.target.value}),placeholder:"Text message",rows:4,className:"mt-1"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[le.message.length,"/160 characters"]})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),r.jsxs(te,{onClick:vr,children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Text"]})]})]})]})}),G&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(Ss,{className:"h-5 w-5"}),"Share Property with ",t.name]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>L(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Select Property"}),r.jsxs(Et,{value:k.propertyId,onValueChange:re=>V({...k,propertyId:re}),children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{placeholder:"Choose a property"})}),r.jsx(Tt,{children:H.map(re=>r.jsxs(ge,{value:re.id,children:[re.address," - $",re.price.toLocaleString()]},re.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Personal Message"}),r.jsx(cs,{value:k.message,onChange:re=>V({...k,message:re.target.value}),placeholder:"Add a personal message about why this property might be a good fit...",rows:4,className:"mt-1"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"includeFinancing",checked:k.includeFinancing,onChange:re=>V({...k,includeFinancing:re.target.checked})}),r.jsx("label",{htmlFor:"includeFinancing",className:"text-sm",children:"Include HUD financing information"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>L(!1),children:"Cancel"}),r.jsxs(te,{onClick:br,disabled:!k.propertyId,children:[r.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Share Property"]})]})]})]})}),P&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(en,{className:"h-5 w-5"}),"Refer ",t.name," to Another Broker"]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>Y(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Select Broker"}),r.jsxs(Et,{value:z.brokerId,onValueChange:re=>q({...z,brokerId:re}),children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{placeholder:"Choose a broker"})}),r.jsx(Tt,{children:ce.map(re=>r.jsxs(ge,{value:re.id,children:[re.name," - ",re.company," (",re.state,")"]},re.id))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Reason for Referral"}),r.jsxs(Et,{value:z.reason,onValueChange:re=>q({...z,reason:re}),children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{placeholder:"Select reason"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"location",children:"Client outside my service area"}),r.jsx(ge,{value:"specialty",children:"Broker has specific expertise needed"}),r.jsx(ge,{value:"capacity",children:"Currently at capacity"}),r.jsx(ge,{value:"relationship",children:"Existing relationship with broker"}),r.jsx(ge,{value:"other",children:"Other"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Additional Notes"}),r.jsx(cs,{value:z.notes,onChange:re=>q({...z,notes:re.target.value}),placeholder:"Any additional information for the receiving broker...",rows:4,className:"mt-1"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),r.jsxs(te,{onClick:kt,disabled:!z.brokerId||!z.reason,children:[r.jsx(en,{className:"h-4 w-4 mr-2"}),"Send Referral"]})]})]})]})}),D&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:["Add Note",r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>I(!1),children:r.jsx(Lt,{className:"h-4 w-4"})})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx(cs,{value:R,onChange:re=>X(re.target.value),placeholder:"Add a note about this customer...",rows:4}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),r.jsxs(te,{onClick:wt,disabled:!R.trim(),children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Add Note"]})]})]})]})})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Xt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Customer Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The customer you're looking for doesn't exist."}),r.jsxs(te,{onClick:()=>e("/broker-dashboard"),children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})}function pv(){const[n,e]=v.useState([]),[t,i]=v.useState([]),[o,c]=v.useState(""),[d,h]=v.useState("all"),[g,m]=v.useState("all"),[x,y]=v.useState("all"),[b,w]=v.useState("date"),[_,j]=v.useState("desc"),[N,E]=v.useState(null),[C,T]=v.useState(!1),[O,U]=v.useState(!1),[G,L]=v.useState(""),[P,Y]=v.useState({to:"",subject:"",body:"",template:"custom"});v.useEffect(()=>{D()},[]),v.useEffect(()=>{I()},[n,o,d,g,x,b,_]);const D=()=>{const H=et.getAllLeads();e(H)},I=()=>{let H=[...n];o&&(H=H.filter(Z=>{var ce;return Z.name.toLowerCase().includes(o.toLowerCase())||Z.email.toLowerCase().includes(o.toLowerCase())||Z.phone.includes(o)||((ce=Z.propertyCase)==null?void 0:ce.includes(o))||Z.message.toLowerCase().includes(o.toLowerCase())})),d!=="all"&&(H=H.filter(Z=>Z.status===d)),g!=="all"&&(H=H.filter(Z=>Z.source===g)),x!=="all"&&(H=H.filter(Z=>Z.priority===x)),H.sort((Z,ce)=>{let pe,B;switch(b){case"name":pe=Z.name.toLowerCase(),B=ce.name.toLowerCase();break;case"date":pe=new Date(Z.createdAt),B=new Date(ce.createdAt);break;case"priority":const ie={high:3,medium:2,low:1};pe=ie[Z.priority]||0,B=ie[ce.priority]||0;break;case"status":pe=Z.status,B=ce.status;break;default:pe=Z.createdAt,B=ce.createdAt}return _==="asc"?pe>B?1:-1:pe<B?1:-1}),i(H)},Q=(H,Z)=>{et.updateLeadStatus(H,Z),D()},oe=(H,Z)=>{et.updateLeadPriority(H,Z),D()},le=(H,Z)=>{et.addNoteToLead(H,Z),D(),L(""),U(!1)},de=H=>{confirm("Are you sure you want to delete this lead?")&&(et.deleteLead(H),D(),E(null))},k=async()=>{try{await ql.sendEmail({to:P.to,subject:P.subject,body:P.body,leadId:N==null?void 0:N.id}),et.addActivityToLead(N.id,{type:"email",description:`Email sent: ${P.subject}`,timestamp:new Date}),alert("Email sent successfully!"),T(!1),Y({to:"",subject:"",body:"",template:"custom"}),D()}catch(H){alert("Error sending email: "+H.message)}},V=()=>{const H=[["Name","Email","Phone","State","Property Case","Status","Priority","Source","Created Date","Message"],...t.map(B=>[B.name,B.email,B.phone,B.state,B.propertyCase||"",B.status,B.priority,B.source,new Date(B.createdAt).toLocaleDateString(),B.message.replace(/,/g,";")])].map(B=>B.join(",")).join(`
`),Z=new Blob([H],{type:"text/csv"}),ce=window.URL.createObjectURL(Z),pe=document.createElement("a");pe.href=ce,pe.download=`leads-export-${new Date().toISOString().split("T")[0]}.csv`,pe.click(),window.URL.revokeObjectURL(ce)},z=H=>{switch(H){case"new":return"default";case"contacted":return"secondary";case"qualified":return"outline";case"closed":return"destructive";default:return"default"}},q=H=>{switch(H){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"secondary"}},R={welcome:{subject:"Welcome to USAhudHomes.com - Your HUD Home Journey Begins",body:`Dear [Name],

Thank you for your interest in HUD homes! I'm Marc Spencer from Lightkeeper Realty, and I'm excited to help you find your perfect HUD property.

As a HUD-registered buyer's agency with over 25 years of experience, we specialize in helping clients navigate the HUD home buying process and secure properties at below-market prices.

Here's what we can offer you:
 $100 down FHA loans for owner-occupants
 Up to 3% closing cost assistance
 Repair escrows up to $35,000 with 203k loans
 Expert guidance through the bidding process

I'll be reaching out to you within 24 hours to discuss your specific needs and answer any questions you may have.

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147
marcspencer28461@gmail.com
USAhudHomes.com`},followup:{subject:"Following Up on Your HUD Home Interest",body:`Dear [Name],

I wanted to follow up on your recent inquiry about HUD homes. Have you had a chance to review any of the properties we discussed?

The HUD market moves quickly, and I want to make sure you don't miss out on any opportunities that match your criteria.

If you're ready to move forward, I can help you:
 Get pre-qualified for financing
 Schedule property viewings
 Prepare and submit competitive bids
 Navigate the closing process

Please let me know if you have any questions or if you'd like to schedule a consultation.

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147`},consultation:{subject:"Your HUD Home Consultation - Next Steps",body:`Dear [Name],

Thank you for scheduling a consultation regarding the HUD property at [Property Address]. I'm looking forward to helping you with this opportunity.

Before our meeting, please gather the following information:
 Pre-qualification letter or financial documentation
 List of your must-have features
 Questions about the property or HUD process

During our consultation, we'll cover:
 Property details and market analysis
 Financing options and incentives
 Bidding strategy and timeline
 Next steps in the process

I'll contact you within 2 hours to confirm our appointment time.

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147`}},X=H=>{const Z=R[H];Z&&N&&Y({...P,subject:Z.subject.replace("[Name]",N.name),body:Z.body.replace(/\[Name\]/g,N.name).replace("[Property Address]",N.propertyAddress||"the property you inquired about"),template:H})};return r.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Leads Management"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and track your HUD home leads"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(te,{onClick:V,variant:"outline",children:[r.jsx(rn,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),r.jsxs(te,{onClick:()=>window.location.reload(),children:[r.jsx(Xs,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),r.jsxs(he,{className:"mb-6",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center gap-2",children:[r.jsx(jm,{className:"h-5 w-5"}),"Filters & Search"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"relative",children:[r.jsx(pr,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),r.jsx(Ne,{placeholder:"Search leads...",value:o,onChange:H=>c(H.target.value),className:"pl-10"})]})}),r.jsxs(Et,{value:d,onValueChange:h,children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Status"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"all",children:"All Status"}),r.jsx(ge,{value:"new",children:"New"}),r.jsx(ge,{value:"contacted",children:"Contacted"}),r.jsx(ge,{value:"qualified",children:"Qualified"}),r.jsx(ge,{value:"closed",children:"Closed"})]})]}),r.jsxs(Et,{value:g,onValueChange:m,children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Source"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"all",children:"All Sources"}),r.jsx(ge,{value:"website",children:"Website"}),r.jsx(ge,{value:"chatbot",children:"Chatbot"}),r.jsx(ge,{value:"consultation",children:"Consultation"}),r.jsx(ge,{value:"referral",children:"Referral"})]})]}),r.jsxs(Et,{value:x,onValueChange:y,children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Priority"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"all",children:"All Priority"}),r.jsx(ge,{value:"high",children:"High"}),r.jsx(ge,{value:"medium",children:"Medium"}),r.jsx(ge,{value:"low",children:"Low"})]})]}),r.jsxs(Et,{value:`${b}-${_}`,onValueChange:H=>{const[Z,ce]=H.split("-");w(Z),j(ce)},children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Sort"})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"date-desc",children:"Date (Newest)"}),r.jsx(ge,{value:"date-asc",children:"Date (Oldest)"}),r.jsx(ge,{value:"name-asc",children:"Name (A-Z)"}),r.jsx(ge,{value:"name-desc",children:"Name (Z-A)"}),r.jsx(ge,{value:"priority-desc",children:"Priority (High-Low)"}),r.jsx(ge,{value:"status-asc",children:"Status"})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"}),r.jsx("p",{className:"text-2xl font-bold",children:n.length})]}),r.jsx(Xt,{className:"h-8 w-8 text-blue-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"New Leads"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.filter(H=>H.status==="new").length})]}),r.jsx(va,{className:"h-8 w-8 text-green-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"High Priority"}),r.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.filter(H=>H.priority==="high").length})]}),r.jsx(eC,{className:"h-8 w-8 text-red-600"})]})})}),r.jsx(he,{children:r.jsx(fe,{className:"p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Qualified"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(H=>H.status==="qualified").length})]}),r.jsx(at,{className:"h-8 w-8 text-blue-600"})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs(De,{children:["Leads (",t.length,")"]})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[t.map(H=>r.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${(N==null?void 0:N.id)===H.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>E(H),children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:H.name}),r.jsx("p",{className:"text-gray-600",children:H.email}),r.jsx("p",{className:"text-sm text-gray-500",children:H.phone})]}),r.jsxs("div",{className:"flex flex-col gap-1 items-end",children:[r.jsx(ze,{variant:z(H.status),children:H.status}),r.jsx(ze,{variant:q(H.priority),children:H.priority})]})]}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-2",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ar,{className:"h-3 w-3"}),H.state]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Qs,{className:"h-3 w-3"}),new Date(H.createdAt).toLocaleDateString()]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Xt,{className:"h-3 w-3"}),H.source]}),H.propertyCase&&r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(ht,{className:"h-3 w-3"}),H.propertyCase]})]}),r.jsx("p",{className:"text-sm text-gray-700 line-clamp-2",children:H.message})]},H.id)),t.length===0&&r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No leads found matching your criteria"})]})]})})]})}),r.jsx("div",{children:N?r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:["Lead Details",r.jsxs("div",{className:"flex gap-1",children:[r.jsx(te,{size:"sm",variant:"outline",onClick:()=>{Y({...P,to:N.email}),T(!0)},children:r.jsx(it,{className:"h-4 w-4"})}),r.jsx(te,{size:"sm",variant:"outline",onClick:()=>U(!0),children:r.jsx(Na,{className:"h-4 w-4"})}),r.jsx(te,{size:"sm",variant:"outline",onClick:()=>de(N.id),children:r.jsx(pu,{className:"h-4 w-4"})})]})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-lg",children:N.name}),r.jsx("p",{className:"text-gray-600",children:N.email}),r.jsx("p",{className:"text-gray-600",children:N.phone})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Status"}),r.jsxs(Et,{value:N.status,onValueChange:H=>Q(N.id,H),children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"new",children:"New"}),r.jsx(ge,{value:"contacted",children:"Contacted"}),r.jsx(ge,{value:"qualified",children:"Qualified"}),r.jsx(ge,{value:"closed",children:"Closed"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Priority"}),r.jsxs(Et,{value:N.priority,onValueChange:H=>oe(N.id,H),children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"high",children:"High"}),r.jsx(ge,{value:"medium",children:"Medium"}),r.jsx(ge,{value:"low",children:"Low"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Property Interest"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:N.propertyCase?`Case #${N.propertyCase}`:"General inquiry"}),N.propertyAddress&&r.jsx("p",{className:"text-sm text-gray-500",children:N.propertyAddress})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 p-2 bg-gray-50 rounded",children:N.message})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Lead Source"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1 capitalize",children:N.source})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Created"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:new Date(N.createdAt).toLocaleString()})]}),N.notes&&N.notes.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Notes"}),r.jsx("div",{className:"mt-1 space-y-2",children:N.notes.map((H,Z)=>r.jsxs("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[r.jsx("p",{className:"text-gray-700",children:H.text}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(H.timestamp).toLocaleString()})]},Z))})]}),N.activities&&N.activities.length>0&&r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Recent Activity"}),r.jsx("div",{className:"mt-1 space-y-2",children:N.activities.slice(-3).map((H,Z)=>r.jsxs("div",{className:"p-2 bg-blue-50 rounded text-sm",children:[r.jsx("p",{className:"text-blue-700",children:H.description}),r.jsx("p",{className:"text-xs text-blue-500 mt-1",children:new Date(H.timestamp).toLocaleString()})]},Z))})]})]})]}):r.jsx(he,{children:r.jsxs(fe,{className:"p-8 text-center text-gray-500",children:[r.jsx(Xt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"Select a lead to view details"})]})})})]}),C&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"flex items-center gap-2",children:[r.jsx(it,{className:"h-5 w-5"}),"Compose Email"]}),r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>T(!1),children:""})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Email Template"}),r.jsxs(Et,{value:P.template,onValueChange:H=>{Y({...P,template:H}),H!=="custom"&&X(H)},children:[r.jsx(At,{className:"mt-1",children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"custom",children:"Custom Email"}),r.jsx(ge,{value:"welcome",children:"Welcome Email"}),r.jsx(ge,{value:"followup",children:"Follow-up Email"}),r.jsx(ge,{value:"consultation",children:"Consultation Email"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"To"}),r.jsx(Ne,{value:P.to,onChange:H=>Y({...P,to:H.target.value}),placeholder:"recipient@example.com",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Subject"}),r.jsx(Ne,{value:P.subject,onChange:H=>Y({...P,subject:H.target.value}),placeholder:"Email subject",className:"mt-1"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium",children:"Message"}),r.jsx(cs,{value:P.body,onChange:H=>Y({...P,body:H.target.value}),placeholder:"Email message",rows:12,className:"mt-1"})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),r.jsxs(te,{onClick:k,children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})]})}),O&&N&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs(he,{className:"w-full max-w-md",children:[r.jsx(Oe,{children:r.jsxs(De,{className:"flex items-center justify-between",children:["Add Note",r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>U(!1),children:""})]})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsx(cs,{value:G,onChange:H=>L(H.target.value),placeholder:"Add a note about this lead...",rows:4}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(te,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),r.jsx(te,{onClick:()=>le(N.id,G),disabled:!G.trim(),children:"Add Note"})]})]})]})})]})}var _f="rovingFocusGroup.onEntryFocus",C6={bubbles:!1,cancelable:!0},ao="RovingFocusGroup",[um,Dj,A6]=_m(ao),[T6,Mj]=Ei(ao,[A6]),[k6,R6]=T6(ao),Lj=v.forwardRef((n,e)=>r.jsx(um.Provider,{scope:n.__scopeRovingFocusGroup,children:r.jsx(um.Slot,{scope:n.__scopeRovingFocusGroup,children:r.jsx(O6,{...n,ref:e})})}));Lj.displayName=ao;var O6=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:i,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:g,onEntryFocus:m,preventScrollOnEntryFocus:x=!1,...y}=n,b=v.useRef(null),w=nt(e,b),_=xu(c),[j,N]=Kl({prop:d,defaultProp:h??null,onChange:g,caller:ao}),[E,C]=v.useState(!1),T=ba(m),O=Dj(t),U=v.useRef(!1),[G,L]=v.useState(0);return v.useEffect(()=>{const P=b.current;if(P)return P.addEventListener(_f,T),()=>P.removeEventListener(_f,T)},[T]),r.jsx(k6,{scope:t,orientation:i,dir:_,loop:o,currentTabStopId:j,onItemFocus:v.useCallback(P=>N(P),[N]),onItemShiftTab:v.useCallback(()=>C(!0),[]),onFocusableItemAdd:v.useCallback(()=>L(P=>P+1),[]),onFocusableItemRemove:v.useCallback(()=>L(P=>P-1),[]),children:r.jsx(Ye.div,{tabIndex:E||G===0?-1:0,"data-orientation":i,...y,ref:w,style:{outline:"none",...n.style},onMouseDown:Ve(n.onMouseDown,()=>{U.current=!0}),onFocus:Ve(n.onFocus,P=>{const Y=!U.current;if(P.target===P.currentTarget&&Y&&!E){const D=new CustomEvent(_f,C6);if(P.currentTarget.dispatchEvent(D),!D.defaultPrevented){const I=O().filter(k=>k.focusable),Q=I.find(k=>k.active),oe=I.find(k=>k.id===j),de=[Q,oe,...I].filter(Boolean).map(k=>k.ref.current);$j(de,x)}}U.current=!1}),onBlur:Ve(n.onBlur,()=>C(!1))})})}),Pj="RovingFocusGroupItem",Uj=v.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:i=!0,active:o=!1,tabStopId:c,children:d,...h}=n,g=to(),m=c||g,x=R6(Pj,t),y=x.currentTabStopId===m,b=Dj(t),{onFocusableItemAdd:w,onFocusableItemRemove:_,currentTabStopId:j}=x;return v.useEffect(()=>{if(i)return w(),()=>_()},[i,w,_]),r.jsx(um.ItemSlot,{scope:t,id:m,focusable:i,active:o,children:r.jsx(Ye.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...h,ref:e,onMouseDown:Ve(n.onMouseDown,N=>{i?x.onItemFocus(m):N.preventDefault()}),onFocus:Ve(n.onFocus,()=>x.onItemFocus(m)),onKeyDown:Ve(n.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=L6(N,x.orientation,x.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(O=>O.focusable).map(O=>O.ref.current);if(E==="last")T.reverse();else if(E==="prev"||E==="next"){E==="prev"&&T.reverse();const O=T.indexOf(N.currentTarget);T=x.loop?P6(T,O+1):T.slice(O+1)}setTimeout(()=>$j(T))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:j!=null}):d})})});Uj.displayName=Pj;var D6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function M6(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function L6(n,e,t){const i=M6(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return D6[i]}function $j(n,e=!1){const t=document.activeElement;for(const i of n)if(i===t||(i.focus({preventScroll:e}),document.activeElement!==t))return}function P6(n,e){return n.map((t,i)=>n[(e+i)%n.length])}var U6=Lj,$6=Uj,ku="Tabs",[I6,d3]=Ei(ku,[Mj]),Ij=Mj(),[B6,Km]=I6(ku),Bj=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,onValueChange:o,defaultValue:c,orientation:d="horizontal",dir:h,activationMode:g="automatic",...m}=n,x=xu(h),[y,b]=Kl({prop:i,onChange:o,defaultProp:c??"",caller:ku});return r.jsx(B6,{scope:t,baseId:to(),value:y,onValueChange:b,orientation:d,dir:x,activationMode:g,children:r.jsx(Ye.div,{dir:x,"data-orientation":d,...m,ref:e})})});Bj.displayName=ku;var Hj="TabsList",zj=v.forwardRef((n,e)=>{const{__scopeTabs:t,loop:i=!0,...o}=n,c=Km(Hj,t),d=Ij(t);return r.jsx(U6,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:i,children:r.jsx(Ye.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});zj.displayName=Hj;var qj="TabsTrigger",Vj=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,disabled:o=!1,...c}=n,d=Km(qj,t),h=Ij(t),g=Yj(d.baseId,i),m=Kj(d.baseId,i),x=i===d.value;return r.jsx($6,{asChild:!0,...h,focusable:!o,active:x,children:r.jsx(Ye.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...c,ref:e,onMouseDown:Ve(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?d.onValueChange(i):y.preventDefault()}),onKeyDown:Ve(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(i)}),onFocus:Ve(n.onFocus,()=>{const y=d.activationMode!=="manual";!x&&!o&&y&&d.onValueChange(i)})})})});Vj.displayName=qj;var Fj="TabsContent",Gj=v.forwardRef((n,e)=>{const{__scopeTabs:t,value:i,forceMount:o,children:c,...d}=n,h=Km(Fj,t),g=Yj(h.baseId,i),m=Kj(h.baseId,i),x=i===h.value,y=v.useRef(x);return v.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),r.jsx(ej,{present:o||x,children:({present:b})=>r.jsx(Ye.div,{"data-state":x?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":g,hidden:!b,id:m,tabIndex:0,...d,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:b&&c})})});Gj.displayName=Fj;function Yj(n,e){return`${n}-trigger-${e}`}function Kj(n,e){return`${n}-content-${e}`}var H6=Bj,z6=zj,q6=Vj,V6=Gj;function F6({className:n,...e}){return r.jsx(H6,{"data-slot":"tabs",className:ct("flex flex-col gap-2",n),...e})}function G6({className:n,...e}){return r.jsx(z6,{"data-slot":"tabs-list",className:ct("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",n),...e})}function Bc({className:n,...e}){return r.jsx(q6,{"data-slot":"tabs-trigger",className:ct("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n),...e})}function Hc({className:n,...e}){return r.jsx(V6,{"data-slot":"tabs-content",className:ct("flex-1 outline-none",n),...e})}function Y6(){const{leadId:n}=ji(),e=rr(),[t,i]=v.useState(null),[o,c]=v.useState(!0),[d,h]=v.useState("overview"),[g,m]=v.useState(!1),[x,y]=v.useState({}),[b,w]=v.useState(""),[_,j]=v.useState({title:"",dueDate:"",priority:"medium"}),[N,E]=v.useState({subject:"",body:"",template:""}),[C,T]=v.useState({brokerId:"",notes:"",commission:""}),[O,U]=v.useState([]),[G,L]=v.useState([]),[P,Y]=v.useState([]),[D,I]=v.useState([]);v.useEffect(()=>{Q(),oe(),le()},[n]);const Q=()=>{var B,ie,me;c(!0);try{const Re=(B=et.consultations)==null?void 0:B.find(ke=>ke.id===n);Re?(i(Re),y(Re),U(((ie=et.getLeadInteractions)==null?void 0:ie.call(et,n))||[]),L(((me=et.getLeadTasks)==null?void 0:me.call(et,n))||[])):console.error("Lead not found:",n)}catch(Re){console.error("Error loading lead:",Re)}finally{c(!1)}},oe=()=>{Y(zl.getAllBrokers())},le=()=>{I([{id:"welcome",name:"Welcome Email",subject:"Welcome to USAhudHomes.com - Your HUD Property Journey Begins",body:`Dear {{name}},

Thank you for your interest in HUD properties! I'm Marc Spencer from Lightkeeper Realty, and I'm excited to help you find your perfect HUD home.

As a Registered HUD Buyer's Agency with over 25 years of experience, we specialize in helping people successfully bid on and purchase HUD homes at below-market prices.

Next Steps:
1. I'll review your consultation request and property interests
2. We'll schedule a call to discuss your specific needs
3. I'll provide you with a customized list of suitable properties
4. We'll guide you through the bidding process

Best regards,
Marc Spencer
Lightkeeper Realty
(910) 363-6147
marcspencer28461@gmail.com`},{id:"follow_up",name:"Follow-up Email",subject:"Following up on your HUD property consultation",body:`Hi {{name}},

I wanted to follow up on your recent consultation request for HUD properties. I've reviewed your requirements and have some excellent options that might interest you.

Property Highlights:
- Properties in your preferred area: {{state}}
- Price range matching your budget
- Owner-occupant incentives available ($100 down FHA loans, 3% closing costs paid)

Would you like to schedule a call this week to discuss these opportunities? I'm available at your convenience.

Best regards,
Marc Spencer
(910) 363-6147`},{id:"property_match",name:"Property Match Notification",subject:"Perfect HUD Property Match Found!",body:`Dear {{name}},

Great news! I found a HUD property that perfectly matches your criteria:

Property Details:
- Location: {{propertyLocation}}
- Price: {{propertyPrice}}
- Bedrooms/Bathrooms: {{propertySpecs}}
- Special Features: {{propertyFeatures}}

This property offers excellent value and qualifies for owner-occupant incentives. The bid deadline is approaching, so we should act quickly.

Let's schedule a showing and discuss your bidding strategy.

Marc Spencer
Lightkeeper Realty
(910) 363-6147`}])},de=()=>{try{et.updateConsultation(n,x),i(x),m(!1),V("Lead information updated","system")}catch(B){console.error("Error saving lead:",B)}},k=B=>{const ie={...t,status:B};i(ie),y(ie);try{et.updateConsultation(n,ie),V(`Status changed to: ${B}`,"system")}catch(me){console.error("Error updating status:",me)}},V=(B,ie="note",me={})=>{var Me;const Re={id:Date.now().toString(),leadId:n,type:ie,message:B,data:me,timestamp:new Date().toISOString(),user:"Marc Spencer"},ke=[Re,...O];U(ke),(Me=et.addLeadInteraction)==null||Me.call(et,n,Re)},z=()=>{b.trim()&&(V(b,"note"),w(""))},q=()=>{var B;if(_.title.trim()){const ie={id:Date.now().toString(),leadId:n,..._,completed:!1,createdAt:new Date().toISOString()},me=[ie,...G];L(me),(B=et.addLeadTask)==null||B.call(et,n,ie),j({title:"",dueDate:"",priority:"medium"}),V(`Task created: ${ie.title}`,"task")}},R=async()=>{if(N.subject&&N.body)try{let B=N.body;B=B.replace(/{{name}}/g,t.name),B=B.replace(/{{state}}/g,t.state||"your area"),B=B.replace(/{{propertyCase}}/g,t.propertyCase||"");const ie={to:t.email,subject:N.subject,body:B,leadId:n},me=await ql.sendEmail(ie);me.success?(V(`Email sent: ${N.subject}`,"email",ie),E({subject:"",body:"",template:""}),alert("Email sent successfully!")):alert("Failed to send email: "+me.error)}catch(B){console.error("Error sending email:",B),alert("Error sending email")}},X=()=>{if(C.brokerId){const B=P.find(me=>me.id===C.brokerId),ie={id:Date.now().toString(),leadId:n,brokerId:C.brokerId,brokerName:B==null?void 0:B.name,notes:C.notes,commission:C.commission,status:"pending",createdAt:new Date().toISOString()};zl.createReferral(ie),k("referred"),V(`Referred to broker: ${B==null?void 0:B.name}`,"referral",ie),T({brokerId:"",notes:"",commission:""}),alert(`Lead successfully referred to ${B==null?void 0:B.name}`)}},H=B=>{const ie=D.find(me=>me.id===B);ie&&E({subject:ie.subject,body:ie.body,template:B})},Z=B=>{switch(B){case"new":return"bg-blue-100 text-blue-800";case"contacted":return"bg-yellow-100 text-yellow-800";case"qualified":return"bg-green-100 text-green-800";case"proposal":return"bg-purple-100 text-purple-800";case"closed":return"bg-green-100 text-green-800";case"lost":return"bg-red-100 text-red-800";case"referred":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},ce=B=>{switch(B){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},pe=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading lead details..."})]})}):t?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs(te,{variant:"outline",onClick:()=>e("/broker-dashboard"),children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Lead Details"}),r.jsxs("p",{className:"text-sm text-gray-600",children:[t.name,"  ",t.email]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ze,{className:Z(t.status),children:t.status||"new"}),r.jsxs(ze,{className:ce(t.priority),children:[t.priority||"medium"," priority"]}),g?r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(te,{size:"sm",onClick:de,children:[r.jsx(on,{className:"h-4 w-4 mr-2"}),"Save"]}),r.jsxs(te,{size:"sm",variant:"outline",onClick:()=>m(!1),children:[r.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}):r.jsxs(te,{size:"sm",variant:"outline",onClick:()=>m(!0),children:[r.jsx(Na,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})})}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[r.jsxs(he,{children:[r.jsxs(Oe,{children:[r.jsx(De,{children:"Lead Information"}),r.jsx(us,{children:"Customer details and consultation request"})]}),r.jsxs(fe,{className:"space-y-6",children:[g?r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),r.jsx(Ne,{value:x.name||"",onChange:B=>y({...x,name:B.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),r.jsx(Ne,{value:x.email||"",onChange:B=>y({...x,email:B.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Phone"}),r.jsx(Ne,{value:x.phone||"",onChange:B=>y({...x,phone:B.target.value})})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"State"}),r.jsx(Ne,{value:x.state||"",onChange:B=>y({...x,state:B.target.value})})]})]}):r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Xt,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),r.jsx("p",{className:"font-medium",children:t.name})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(it,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),r.jsx("p",{className:"font-medium",children:t.email})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(rs,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),r.jsx("p",{className:"font-medium",children:t.phone})]})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ar,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"State"}),r.jsx("p",{className:"font-medium",children:t.state})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(Qs,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Created"}),r.jsx("p",{className:"font-medium",children:pe(t.createdAt)})]})]}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(ht,{className:"h-5 w-5 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Property Interest"}),r.jsx("p",{className:"font-medium",children:t.propertyCase||"General HUD Properties"})]})]})]})]}),r.jsxs("div",{className:"border-t pt-6",children:[r.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Consultation Request"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),r.jsx("p",{className:"font-medium",children:t.consultationType})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Preferred Contact"}),r.jsx("p",{className:"font-medium",children:t.preferredContact})]})]}),t.message&&r.jsxs("div",{className:"mt-4",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Message"}),r.jsx("p",{className:"mt-1 text-gray-900 bg-gray-50 p-3 rounded-lg",children:t.message})]})]})]})]}),r.jsxs(F6,{value:d,onValueChange:h,children:[r.jsxs(G6,{className:"grid w-full grid-cols-4",children:[r.jsx(Bc,{value:"overview",children:"Overview"}),r.jsx(Bc,{value:"interactions",children:"Interactions"}),r.jsx(Bc,{value:"tasks",children:"Tasks"}),r.jsx(Bc,{value:"email",children:"Email"})]}),r.jsx(Hc,{value:"overview",className:"space-y-6",children:r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Lead Summary"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[r.jsx(Pt,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:O.length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Interactions"})]}),r.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[r.jsx(at,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:G.filter(B=>B.completed).length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tasks"})]}),r.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[r.jsx(mu,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),r.jsx("p",{className:"text-2xl font-bold text-orange-600",children:G.filter(B=>!B.completed).length}),r.jsx("p",{className:"text-sm text-gray-600",children:"Pending Tasks"})]})]})})]})}),r.jsxs(Hc,{value:"interactions",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Add Interaction"})}),r.jsx(fe,{children:r.jsxs("div",{className:"flex space-x-2",children:[r.jsx(cs,{placeholder:"Add a note about this lead...",value:b,onChange:B=>w(B.target.value),className:"flex-1"}),r.jsx(te,{onClick:z,children:r.jsx(Xs,{className:"h-4 w-4"})})]})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Interaction History"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-4",children:[O.map(B=>r.jsxs("div",{className:"flex space-x-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("div",{className:`p-2 rounded-full ${B.type==="email"?"bg-blue-100":B.type==="task"?"bg-green-100":B.type==="referral"?"bg-orange-100":"bg-gray-100"}`,children:B.type==="email"?r.jsx(it,{className:"h-4 w-4"}):B.type==="task"?r.jsx(at,{className:"h-4 w-4"}):B.type==="referral"?r.jsx(Ss,{className:"h-4 w-4"}):r.jsx(Pt,{className:"h-4 w-4"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.message}),r.jsxs("p",{className:"text-xs text-gray-500",children:[pe(B.timestamp),"  ",B.user]})]})]},B.id)),O.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No interactions yet"})]})})]})]}),r.jsxs(Hc,{value:"tasks",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Add Task"})}),r.jsx(fe,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Ne,{placeholder:"Task title...",value:_.title,onChange:B=>j({..._,title:B.target.value})}),r.jsx(Ne,{type:"date",value:_.dueDate,onChange:B=>j({..._,dueDate:B.target.value})}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(Et,{value:_.priority,onValueChange:B=>j({..._,priority:B}),children:[r.jsx(At,{children:r.jsx(Ct,{})}),r.jsxs(Tt,{children:[r.jsx(ge,{value:"low",children:"Low Priority"}),r.jsx(ge,{value:"medium",children:"Medium Priority"}),r.jsx(ge,{value:"high",children:"High Priority"})]})]}),r.jsx(te,{onClick:q,children:r.jsx(Xs,{className:"h-4 w-4"})})]})]})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Task List"})}),r.jsx(fe,{children:r.jsxs("div",{className:"space-y-3",children:[G.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("input",{type:"checkbox",checked:B.completed,onChange:ie=>{var Re;const me=G.map(ke=>ke.id===B.id?{...ke,completed:ie.target.checked}:ke);L(me),(Re=et.updateLeadTask)==null||Re.call(et,n,B.id,{completed:ie.target.checked})},className:"h-4 w-4 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:`font-medium ${B.completed?"line-through text-gray-500":"text-gray-900"}`,children:B.title}),B.dueDate&&r.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",new Date(B.dueDate).toLocaleDateString()]})]})]}),r.jsx(ze,{className:ce(B.priority),children:B.priority})]},B.id)),G.length===0&&r.jsx("p",{className:"text-gray-500 text-center py-8",children:"No tasks yet"})]})})]})]}),r.jsxs(Hc,{value:"email",className:"space-y-6",children:[r.jsxs(he,{children:[r.jsxs(Oe,{children:[r.jsx(De,{children:"Email Templates"}),r.jsx(us,{children:"Choose a template to get started"})]}),r.jsx(fe,{children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:D.map(B=>r.jsx(te,{variant:"outline",onClick:()=>H(B.id),className:"h-auto p-4 text-left",children:r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:B.name}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:B.subject})]})},B.id))})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Compose Email"})}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"To"}),r.jsx(Ne,{value:t.email,disabled:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject"}),r.jsx(Ne,{value:N.subject,onChange:B=>E({...N,subject:B.target.value}),placeholder:"Email subject..."})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message"}),r.jsx(cs,{value:N.body,onChange:B=>E({...N,body:B.target.value}),placeholder:"Email message...",rows:8})]}),r.jsxs(te,{onClick:R,className:"w-full",children:[r.jsx(fi,{className:"h-4 w-4 mr-2"}),"Send Email"]})]})]})]})]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Lead Status"})}),r.jsx(fe,{className:"space-y-4",children:r.jsx("div",{className:"grid grid-cols-2 gap-2",children:["new","contacted","qualified","proposal","closed","lost"].map(B=>r.jsx(te,{variant:t.status===B?"default":"outline",size:"sm",onClick:()=>k(B),className:"capitalize",children:B},B))})})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Quick Actions"})}),r.jsxs(fe,{className:"space-y-3",children:[r.jsxs(te,{className:"w-full",variant:"outline",children:[r.jsx(rs,{className:"h-4 w-4 mr-2"}),"Call ",t.name]}),r.jsxs(te,{className:"w-full",variant:"outline",onClick:()=>h("email"),children:[r.jsx(it,{className:"h-4 w-4 mr-2"}),"Send Email"]}),r.jsxs(te,{className:"w-full",variant:"outline",children:[r.jsx(Pt,{className:"h-4 w-4 mr-2"}),"Send SMS"]}),r.jsxs(te,{className:"w-full",variant:"outline",children:[r.jsx(ht,{className:"h-4 w-4 mr-2"}),"Share Property"]})]})]}),r.jsxs(he,{children:[r.jsxs(Oe,{children:[r.jsx(De,{children:"Refer to Broker"}),r.jsx(us,{children:"Transfer this lead to another broker"})]}),r.jsxs(fe,{className:"space-y-4",children:[r.jsxs(Et,{value:C.brokerId,onValueChange:B=>T({...C,brokerId:B}),children:[r.jsx(At,{children:r.jsx(Ct,{placeholder:"Select broker..."})}),r.jsx(Tt,{children:P.map(B=>r.jsxs(ge,{value:B.id,children:[B.name," - ",B.state]},B.id))})]}),r.jsx(Ne,{placeholder:"Commission %",value:C.commission,onChange:B=>T({...C,commission:B.target.value})}),r.jsx(cs,{placeholder:"Referral notes...",value:C.notes,onChange:B=>T({...C,notes:B.target.value}),rows:3}),r.jsxs(te,{onClick:X,className:"w-full",children:[r.jsx(Z2,{className:"h-4 w-4 mr-2"}),"Refer Lead"]})]})]}),r.jsxs(he,{children:[r.jsx(Oe,{children:r.jsx(De,{children:"Lead Score"})}),r.jsx(fe,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"85"}),r.jsx("p",{className:"text-sm text-gray-600",children:"High Quality Lead"}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{children:"Engagement"}),r.jsx("span",{children:"90%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"90%"}})}),r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsx("span",{children:"Qualification"}),r.jsx("span",{children:"80%"})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"80%"}})})]})]})})]})]})]})})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsxs("div",{className:"text-center",children:[r.jsx(va,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Lead Not Found"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"The requested lead could not be found."}),r.jsxs(te,{onClick:()=>e("/broker-dashboard"),children:[r.jsx(gr,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})]})})}const zc=({isOpen:n,onClose:e,onSave:t,eventType:i,customer:o})=>{const[c,d]=v.useState({subject:"",message:"",duration:"",outcome:"",notes:""}),[h,g]=v.useState(!1);if(!n)return null;const x=(()=>{switch(i){case"email":return{title:"Log Email Communication",icon:it,color:"blue",fields:["subject","message"]};case"sms":return{title:"Log SMS Communication",icon:Pt,color:"green",fields:["message"]};case"call":return{title:"Log Phone Call",icon:Fc,color:"purple",fields:["duration","outcome","notes"]};case"note":return{title:"Add Note",icon:fr,color:"gray",fields:["notes"]};default:return{title:"Log Event",icon:fr,color:"gray",fields:["notes"]}}})(),y=x.icon,b=async w=>{if(w.preventDefault(),!x.fields.some(j=>{var N;return(N=c[j])==null?void 0:N.trim()})){alert("Please fill in at least one field");return}g(!0);try{await t(c),d({subject:"",message:"",duration:"",outcome:"",notes:""}),e()}catch(j){console.error("Error saving event:",j),alert("Failed to save event. Please try again.")}finally{g(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:`w-10 h-10 bg-${x.color}-100 rounded-full flex items-center justify-center`,children:r.jsx(y,{className:`w-6 h-6 text-${x.color}-600`})}),r.jsxs("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:x.title}),r.jsxs("p",{className:"text-sm text-gray-600",children:[o.first_name," ",o.last_name,"  ",o.email]})]})]}),r.jsx("button",{onClick:e,disabled:h,className:"text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50",children:r.jsx(Lt,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:b,children:[r.jsxs("div",{className:"px-6 py-6 space-y-4",children:[x.fields.includes("subject")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subject *"}),r.jsx("input",{type:"text",value:c.subject,onChange:w=>d({...c,subject:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Email subject...",disabled:h})]}),x.fields.includes("message")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="email"?"Message":"Message *"}),r.jsx("textarea",{value:c.message,onChange:w=>d({...c,message:w.target.value}),rows:i==="email"?8:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:i==="email"?"Email message...":"SMS message...",disabled:h}),i==="sms"&&r.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[c.message.length," characters"]})]}),x.fields.includes("duration")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call Duration"}),r.jsx("input",{type:"text",value:c.duration,onChange:w=>d({...c,duration:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"e.g., 5 minutes, 10 min",disabled:h})]}),x.fields.includes("outcome")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Call Outcome *"}),r.jsxs("select",{value:c.outcome,onChange:w=>d({...c,outcome:w.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",disabled:h,children:[r.jsx("option",{value:"",children:"Select outcome..."}),r.jsx("option",{value:"answered",children:"Answered - Spoke with customer"}),r.jsx("option",{value:"voicemail",children:"Left voicemail"}),r.jsx("option",{value:"no_answer",children:"No answer"}),r.jsx("option",{value:"busy",children:"Busy signal"}),r.jsx("option",{value:"wrong_number",children:"Wrong number"}),r.jsx("option",{value:"callback_requested",children:"Callback requested"})]})]}),x.fields.includes("notes")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:i==="note"?"Note *":"Additional Notes"}),r.jsx("textarea",{value:c.notes,onChange:w=>d({...c,notes:w.target.value}),rows:i==="note"?6:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-500 focus:border-transparent resize-none",placeholder:i==="note"?"Add your note here...":"Any additional notes or details...",disabled:h})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-blue-900",children:[r.jsx("strong",{children:"Tip:"})," This will create a new event in the customer timeline.",i==="email"&&" The email will not be sent automatically - this is just for logging purposes.",i==="sms"&&" The SMS will not be sent automatically - this is just for logging purposes.",i==="call"&&" Use this to record the details of a phone call you just completed."]})})]}),r.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 flex items-center justify-end gap-3",children:[r.jsx("button",{type:"button",onClick:e,disabled:h,className:"px-4 py-2 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:h,className:`flex items-center gap-2 px-6 py-2 bg-${x.color}-600 hover:bg-${x.color}-700 text-white rounded-lg transition-colors disabled:opacity-50`,children:h?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Saving..."]}):r.jsxs(r.Fragment,{children:[r.jsx(on,{className:"w-4 h-4"}),"Save Event"]})})]})]})]})})},K6=()=>{const{customerId:n}=ji(),e=rr(),{profile:t}=nr(),[i,o]=v.useState(null),[c,d]=v.useState([]),[h,g]=v.useState(null),[m,x]=v.useState(!0),[y,b]=v.useState("all"),[w,_]=v.useState(!1),[j,N]=v.useState(!1),[E,C]=v.useState(!1),[T,O]=v.useState(!1);v.useEffect(()=>{U()},[n]);async function U(){x(!0);try{const Q=await vs.getCustomerById(n);Q.success&&Q.data&&o(Q.data);const oe=await xa.getCustomerEvents(n);oe.success&&oe.data&&d(oe.data);const le=await xa.getCustomerEventSummary(n);le.success&&le.data&&g(le.data)}catch(Q){console.error("Error loading customer data:",Q)}finally{x(!1)}}const G=async(Q,oe)=>{try{let le;switch(Q){case"email":le=await xa.logEmailSent(n,null,t==null?void 0:t.id,{to:i.email,subject:oe.subject,body:oe.message});break;case"sms":le=await xa.logSMSSent(n,null,t==null?void 0:t.id,{to:i.phone,message:oe.message});break;case"call":le=await xa.logCallMade(n,null,t==null?void 0:t.id,{phone:i.phone,duration:oe.duration,outcome:oe.outcome,notes:oe.notes});break;case"note":le=await xa.logNoteAdded(n,null,t==null?void 0:t.id,{note:oe.notes});break;default:throw new Error("Unknown event type")}if(le.success)await U();else throw new Error(le.error||"Failed to save event")}catch(le){throw console.error("Error saving event:",le),le}},L=Q=>({customer_created:en,consultation_created:fr,consultation_assigned:en,consultation_status_changed:Jc,referral_accepted:at,email_sent:it,sms_sent:Pt,call_made:Fc,note_added:fr})[Q]||li,P=Q=>({onboarding:"blue",consultation:"purple",communication:"green",status:"orange",interaction:"gray"})[Q]||"gray",Y=Q=>{const oe=new Date(Q),le=new Date,de=le-oe,k=Math.floor(de/6e4),V=Math.floor(de/36e5),z=Math.floor(de/864e5);return k<1?"Just now":k<60?`${k}m ago`:V<24?`${V}h ago`:z<7?`${z}d ago`:oe.toLocaleDateString("en-US",{month:"short",day:"numeric",year:oe.getFullYear()!==le.getFullYear()?"numeric":void 0})},D=Q=>new Date(Q).toLocaleString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),I=y==="all"?c:c.filter(Q=>Q.event_category===y);return m?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading customer details..."})]})}):i?r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(gr,{className:"w-5 h-5"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Xt,{className:"w-8 h-8 text-blue-600"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[i.first_name," ",i.last_name]}),r.jsxs("div",{className:"mt-2 flex flex-wrap gap-4 text-sm text-gray-600",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("a",{href:`mailto:${i.email}`,className:"hover:text-blue-600",children:i.email})]}),i.phone&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(rs,{className:"w-4 h-4"}),r.jsx("a",{href:`tel:${i.phone}`,className:"hover:text-blue-600",children:i.phone})]}),i.state&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(ar,{className:"w-4 h-4"}),i.state]})]}),r.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[r.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${i.status==="active"?"bg-green-100 text-green-800":i.status==="new"?"bg-blue-100 text-blue-800":i.status==="inactive"?"bg-gray-100 text-gray-800":"bg-yellow-100 text-yellow-800"}`,children:i.status}),i.lead_source&&r.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:i.lead_source})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",title:"Send Email",children:[r.jsx(it,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Email"})]}),r.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Send SMS",children:[r.jsx(Pt,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"SMS"})]}),r.jsxs("button",{onClick:()=>C(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",title:"Log Call",children:[r.jsx(Fc,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Call"})]}),r.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-2 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",title:"Add Note",children:[r.jsx(fr,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Note"})]})]})]})]})}),h&&r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Events"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalEvents})]}),r.jsx(li,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Emails Sent"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalEmails})]}),r.jsx(it,{className:"w-8 h-8 text-green-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"SMS Sent"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalSMS})]}),r.jsx(Pt,{className:"w-8 h-8 text-purple-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Calls Made"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalCalls})]}),r.jsx(Fc,{className:"w-8 h-8 text-orange-600"})]})})]}),h.lastContactDate&&r.jsx("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(mu,{className:"w-4 h-4 text-blue-600"}),r.jsxs("span",{className:"text-blue-900",children:[r.jsx("strong",{children:"Last Contact:"})," ",D(h.lastContactDate)]})]})})]}),r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[r.jsx("div",{className:"border-b border-gray-200 px-6 py-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Activity Timeline"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),r.jsx("button",{onClick:()=>b("communication"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="communication"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Communications"}),r.jsx("button",{onClick:()=>b("consultation"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="consultation"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Consultations"}),r.jsx("button",{onClick:()=>b("status"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="status"?"bg-orange-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Status Changes"})]})]})}),r.jsx("div",{className:"p-6",children:I.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(li,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"No events found"})]}):r.jsx("div",{className:"space-y-6",children:I.map((Q,oe)=>{const le=L(Q.event_type),de=P(Q.event_category),k=oe===I.length-1;return r.jsxs("div",{className:"relative flex gap-4",children:[!k&&r.jsx("div",{className:"absolute left-5 top-12 bottom-0 w-0.5 bg-gray-200"}),r.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full bg-${de}-100 flex items-center justify-center z-10`,children:r.jsx(le,{className:`w-5 h-5 text-${de}-600`})}),r.jsxs("div",{className:"flex-1 bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:Q.event_title}),Q.event_description&&r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Q.event_description})]}),r.jsx("span",{className:"text-xs text-gray-500 whitespace-nowrap ml-4",children:Y(Q.created_at)})]}),Q.event_data&&Object.keys(Q.event_data).length>0&&r.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:r.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(Q.event_data).map(([V,z])=>r.jsxs("div",{children:[r.jsxs("span",{className:"text-gray-500",children:[V.replace(/_/g," "),":"]})," ",r.jsx("span",{className:"text-gray-900 font-medium",children:typeof z=="string"?z:JSON.stringify(z)})]},V))})}),r.jsxs("div",{className:"mt-3 flex items-center gap-4 text-xs text-gray-500",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Qs,{className:"w-3 h-3"}),D(Q.created_at)]}),r.jsx("span",{className:`px-2 py-0.5 rounded-full bg-${de}-100 text-${de}-800`,children:Q.event_category}),Q.source&&r.jsx("span",{className:"px-2 py-0.5 rounded-full bg-gray-200 text-gray-700",children:Q.source})]})]})]},Q.id)})})})]})}),i&&r.jsxs(r.Fragment,{children:[r.jsx(zc,{isOpen:w,onClose:()=>_(!1),onSave:Q=>G("email",Q),eventType:"email",customer:i}),r.jsx(zc,{isOpen:j,onClose:()=>N(!1),onSave:Q=>G("sms",Q),eventType:"sms",customer:i}),r.jsx(zc,{isOpen:E,onClose:()=>C(!1),onSave:Q=>G("call",Q),eventType:"call",customer:i}),r.jsx(zc,{isOpen:T,onClose:()=>O(!1),onSave:Q=>G("note",Q),eventType:"note",customer:i})]})]}):r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(va,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Customer Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The customer you're looking for doesn't exist."}),r.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Dashboard"})]})})},W6=()=>{var T,O,U,G,L,P,Y,D;const{caseNumber:n}=ji(),e=rr(),[t,i]=v.useState(null),[o,c]=v.useState(!0),[d,h]=v.useState(!1),[g,m]=v.useState("details");v.useEffect(()=>{x()},[n]);async function x(){c(!0);try{const I=await Wt.getPropertyByCaseNumber(n);I.success&&I.data&&i(I.data)}catch(I){console.error("Error loading property:",I)}finally{c(!1)}}const y=()=>`${window.location.origin}/property/${t.case_number}`,b=I=>{navigator.clipboard.writeText(I),h(!0),setTimeout(()=>h(!1),2e3)},w=()=>{const I=y();window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(I)}`,"_blank")},_=()=>{var oe;const I=y(),Q=`Check out this HUD Home: ${t.address}, ${t.city}, ${t.state} - $${(oe=t.price)==null?void 0:oe.toLocaleString()}`;window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(I)}&text=${encodeURIComponent(Q)}`,"_blank")},j=()=>{const I=y();window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(I)}`,"_blank")},N=()=>{var le;const I=y(),Q=`HUD Home: ${t.address}, ${t.city}, ${t.state}`,oe=`I wanted to share this HUD Home with you:

${t.address}
${t.city}, ${t.state} ${t.zip}

Price: $${(le=t.price)==null?void 0:le.toLocaleString()}
Case Number: ${t.case_number}

View details: ${I}`;window.location.href=`mailto:?subject=${encodeURIComponent(Q)}&body=${encodeURIComponent(oe)}`},E=()=>{var de;const I=`
HUD HOME PROPERTY DETAILS
========================

Address: ${t.address}
City: ${t.city}
State: ${t.state}
ZIP: ${t.zip}
Case Number: ${t.case_number}

PRICING
-------
List Price: $${(de=t.price)==null?void 0:de.toLocaleString()}
${t.bid_open_date?`Bid Opening: ${new Date(t.bid_open_date).toLocaleDateString()}`:""}

PROPERTY DETAILS
---------------
Bedrooms: ${t.bedrooms||"N/A"}
Bathrooms: ${t.bathrooms||"N/A"}
Square Feet: ${t.square_feet?t.square_feet.toLocaleString():"N/A"}
Year Built: ${t.year_built||"N/A"}
Property Type: ${t.property_type||"N/A"}

STATUS
------
Status: ${t.status||"Available"}
${t.fha_insurable?"FHA Insurable: Yes":"FHA Insurable: No"}

VIEW ONLINE
-----------
${y()}

Generated: ${new Date().toLocaleString()}
    `.trim(),Q=new Blob([I],{type:"text/plain"}),oe=URL.createObjectURL(Q),le=document.createElement("a");le.href=oe,le.download=`property-${t.case_number}.txt`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(oe)};if(o)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading property details..."})]})});if(!t)return r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ht,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property Not Found"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"The property you're looking for doesn't exist."}),r.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to Dashboard"})]})});const C=Tu(t.image_url);return r.jsxs(r.Fragment,{children:[r.jsxs(b6,{children:[r.jsx("title",{children:`${t.address}, ${t.city}, ${t.state} - HUD Home | USAHUDhomes.com`}),r.jsx("meta",{name:"description",content:`${t.bedrooms} bed, ${t.bathrooms} bath HUD home in ${t.city}, ${t.state}. Listed at $${(T=t.price)==null?void 0:T.toLocaleString()}. Case #${t.case_number}. View details and schedule a showing.`}),r.jsx("meta",{name:"keywords",content:`HUD home, ${t.city}, ${t.state}, foreclosure, real estate, ${t.bedrooms} bedroom, ${t.property_type}`}),r.jsx("meta",{property:"og:type",content:"website"}),r.jsx("meta",{property:"og:url",content:y()}),r.jsx("meta",{property:"og:title",content:`${t.address}, ${t.city}, ${t.state} - HUD Home`}),r.jsx("meta",{property:"og:description",content:`${t.bedrooms} bed, ${t.bathrooms} bath HUD home. $${(O=t.price)==null?void 0:O.toLocaleString()}. Case #${t.case_number}`}),r.jsx("meta",{property:"og:image",content:C}),r.jsx("meta",{property:"twitter:card",content:"summary_large_image"}),r.jsx("meta",{property:"twitter:url",content:y()}),r.jsx("meta",{property:"twitter:title",content:`${t.address}, ${t.city}, ${t.state} - HUD Home`}),r.jsx("meta",{property:"twitter:description",content:`${t.bedrooms} bed, ${t.bathrooms} bath HUD home. $${(U=t.price)==null?void 0:U.toLocaleString()}`}),r.jsx("meta",{property:"twitter:image",content:C}),r.jsx("link",{rel:"canonical",content:y()}),r.jsx("meta",{name:"robots",content:"index, follow"}),r.jsx("meta",{name:"author",content:"USAHUDhomes.com"})]}),r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[r.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx(gr,{className:"w-5 h-5"}),"Back to Dashboard"]}),r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.address}),r.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-4",children:[r.jsx(ar,{className:"w-5 h-5"}),r.jsxs("span",{className:"text-lg",children:[t.city,", ",t.state," ",t.zip]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("span",{className:"text-3xl font-bold text-blue-600",children:["$",(G=t.price)==null?void 0:G.toLocaleString()]}),r.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="available"?"bg-green-100 text-green-800":t.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:t.status||"Available"}),t.fha_insurable&&r.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:"FHA Insurable"})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsxs("button",{onClick:()=>{t!=null&&t.case_number&&window.open(`/property/${t.case_number}`,"_blank")},className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg transition-colors",title:"View Public Page",disabled:!(t!=null&&t.case_number),children:[r.jsx(Jv,{className:"w-4 h-4"}),r.jsx("span",{className:"hidden sm:inline",children:"View Live"})]}),r.jsxs("button",{onClick:()=>e("/admin-dashboard",{state:{editPropertyId:t.id}}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",title:"Edit Property",children:[r.jsx(Na,{className:"w-4 w-4"}),r.jsx("span",{className:"hidden sm:inline",children:"Edit"})]})]})]})]})}),r.jsx("div",{className:"bg-white border-b border-gray-200",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex gap-8",children:[r.jsx("button",{onClick:()=>m("details"),className:`py-4 border-b-2 font-medium transition-colors ${g==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Property Details"}),r.jsx("button",{onClick:()=>m("marketing"),className:`py-4 border-b-2 font-medium transition-colors ${g==="marketing"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"Marketing Tools"}),r.jsx("button",{onClick:()=>m("seo"),className:`py-4 border-b-2 font-medium transition-colors ${g==="seo"?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"SEO & Meta"})]})})}),r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g==="details"&&r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:r.jsxs("div",{className:"aspect-video bg-gray-200 relative",children:[C?r.jsx("img",{src:C,alt:t.address,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Of,{className:"w-16 h-16 text-gray-400"})}),r.jsxs("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full text-sm font-medium shadow",children:["Case #",t.case_number]})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Bedrooms"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bedrooms||"N/A"})]}),r.jsx(fu,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Bathrooms"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.bathrooms||"N/A"})]}),r.jsx(hu,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Square Feet"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.square_feet?t.square_feet.toLocaleString():"N/A"})]}),r.jsx(LE,{className:"w-8 h-8 text-blue-600"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Year Built"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.year_built||"N/A"})]}),r.jsx(Qs,{className:"w-8 h-8 text-blue-600"})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Property Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Property Type"}),r.jsx("p",{className:"font-semibold text-gray-900",children:t.property_type||"N/A"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Case Number"}),r.jsx("p",{className:"font-semibold text-gray-900",children:t.case_number})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Bid Opening Date"}),r.jsx("p",{className:"font-semibold text-gray-900",children:t.bid_open_date?new Date(t.bid_open_date).toLocaleDateString():"Not specified"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"FHA Insurable"}),r.jsx("p",{className:"font-semibold text-gray-900",children:t.fha_insurable?"Yes":"No"})]}),t.description&&r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Description"}),r.jsx("p",{className:"text-gray-900",children:t.description})]})]})]})]}),g==="marketing"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(Ss,{className:"w-6 h-6"}),"Social Media Sharing"]}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Share this property across social media platforms to reach potential buyers."}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("button",{onClick:w,className:"flex items-center gap-3 px-6 py-4 bg-[#1877F2] hover:bg-[#166FE5] text-white rounded-lg transition-colors",children:[r.jsx(Zv,{className:"w-6 h-6"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Share on Facebook"}),r.jsx("p",{className:"text-sm opacity-90",children:"Post to your timeline or page"})]})]}),r.jsxs("button",{onClick:_,className:"flex items-center gap-3 px-6 py-4 bg-[#1DA1F2] hover:bg-[#1A91DA] text-white rounded-lg transition-colors",children:[r.jsx(nb,{className:"w-6 h-6"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Share on Twitter"}),r.jsx("p",{className:"text-sm opacity-90",children:"Tweet to your followers"})]})]}),r.jsxs("button",{onClick:j,className:"flex items-center gap-3 px-6 py-4 bg-[#0A66C2] hover:bg-[#095196] text-white rounded-lg transition-colors",children:[r.jsx(tb,{className:"w-6 h-6"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Share on LinkedIn"}),r.jsx("p",{className:"text-sm opacity-90",children:"Post to your network"})]})]}),r.jsxs("button",{onClick:N,className:"flex items-center gap-3 px-6 py-4 bg-gray-700 hover:bg-gray-800 text-white rounded-lg transition-colors",children:[r.jsx(it,{className:"w-6 h-6"}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-semibold",children:"Share via Email"}),r.jsx("p",{className:"text-sm opacity-90",children:"Send to your contacts"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(EE,{className:"w-6 h-6"}),"Property Link"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Copy the direct link to this property page."}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:y(),readOnly:!0,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"}),r.jsx("button",{onClick:()=>b(y()),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:d?r.jsxs(r.Fragment,{children:[r.jsx(at,{className:"w-5 h-5"}),"Copied!"]}):r.jsxs(r.Fragment,{children:[r.jsx(Xv,{className:"w-5 h-5"}),"Copy Link"]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(rn,{className:"w-6 h-6"}),"Download Property Information"]}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Download a text file with complete property details for offline use or email distribution."}),r.jsxs("button",{onClick:E,className:"flex items-center gap-2 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[r.jsx(rn,{className:"w-5 h-5"}),"Download Property Details"]})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"font-bold text-blue-900 mb-3 flex items-center gap-2",children:[r.jsx(Jc,{className:"w-5 h-5"}),"Marketing Tips"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-blue-900",children:[r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),r.jsx("span",{children:"Share on Facebook and LinkedIn during business hours (9 AM - 5 PM) for maximum reach"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),r.jsx("span",{children:"Use Twitter for quick updates and property highlights with relevant hashtags"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),r.jsx("span",{children:"Email the property link to your buyer list and interested clients"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),r.jsx("span",{children:"Include high-quality photos and highlight FHA insurability if applicable"})]}),r.jsxs("li",{className:"flex items-start gap-2",children:[r.jsx("span",{className:"text-blue-600 mt-0.5",children:""}),r.jsx("span",{children:"Mention the case number and bid opening date in all communications"})]})]})]})]}),g==="seo"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"SEO Preview"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"This is how your property will appear in search engine results."}),r.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-white",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:y()}),r.jsxs("div",{className:"text-xl text-blue-600 hover:underline cursor-pointer mb-1",children:[t.address,", ",t.city,", ",t.state," - HUD Home | USAHUDhomes.com"]}),r.jsxs("div",{className:"text-sm text-gray-700",children:[t.bedrooms," bed, ",t.bathrooms," bath HUD home in ",t.city,", ",t.state,". Listed at $",(L=t.price)==null?void 0:L.toLocaleString(),". Case #",t.case_number,". View details and schedule a showing."]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Meta Tags"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title Tag"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-3 font-mono text-sm",children:[t.address,", ",t.city,", ",t.state," - HUD Home | USAHUDhomes.com"]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Length: ",`${t.address}, ${t.city}, ${t.state} - HUD Home | USAHUDhomes.com`.length," characters (Optimal: 50-60)"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Meta Description"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-3 font-mono text-sm",children:[t.bedrooms," bed, ",t.bathrooms," bath HUD home in ",t.city,", ",t.state,". Listed at $",(P=t.price)==null?void 0:P.toLocaleString(),". Case #",t.case_number,". View details and schedule a showing."]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Length: ",`${t.bedrooms} bed, ${t.bathrooms} bath HUD home in ${t.city}, ${t.state}. Listed at $${(Y=t.price)==null?void 0:Y.toLocaleString()}. Case #${t.case_number}. View details and schedule a showing.`.length," characters (Optimal: 150-160)"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keywords"}),r.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-3 font-mono text-sm",children:["HUD home, ",t.city,", ",t.state,", foreclosure, real estate, ",t.bedrooms," bedroom, ",t.property_type]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Social Media Preview"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"This is how your property will appear when shared on social media."}),r.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden max-w-lg",children:[r.jsx("div",{className:"aspect-video bg-gray-200",children:C?r.jsx("img",{src:C,alt:t.address,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(Of,{className:"w-16 h-16 text-gray-400"})})}),r.jsxs("div",{className:"p-4 bg-white",children:[r.jsx("div",{className:"text-xs text-gray-500 uppercase mb-1",children:"usahudhomes.com"}),r.jsxs("div",{className:"font-bold text-gray-900 mb-1",children:[t.address,", ",t.city,", ",t.state," - HUD Home"]}),r.jsxs("div",{className:"text-sm text-gray-600",children:[t.bedrooms," bed, ",t.bathrooms," bath HUD home. $",(D=t.price)==null?void 0:D.toLocaleString(),". Case #",t.case_number]})]})]})]}),r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[r.jsxs("h3",{className:"font-bold text-green-900 mb-3 flex items-center gap-2",children:[r.jsx(at,{className:"w-5 h-5"}),"SEO Checklist"]}),r.jsxs("ul",{className:"space-y-2 text-sm text-green-900",children:[r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Title tag optimized with location and property type"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Meta description includes key details and call-to-action"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Open Graph tags configured for social sharing"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Twitter Card tags for enhanced Twitter sharing"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Canonical URL set to prevent duplicate content"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Image optimized with alt text for accessibility"})]}),r.jsxs("li",{className:"flex items-center gap-2",children:[r.jsx(at,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{children:"Structured data ready for rich snippets"})]})]})]})]})]})]})]})};function Q6({isAuthenticated:n,onLogout:e}){const[t,i]=v.useState(!1),o=sr(),c=h=>o.pathname===h,d=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),e()};return r.jsx("header",{className:"bg-white shadow-sm border-b sticky top-0 z-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"flex justify-between items-center h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs(gt,{to:"/",className:"flex items-center",children:[r.jsx(ht,{className:"h-8 w-8 text-blue-600 mr-2"}),r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"USAHUDhomes.com"})]})}),r.jsxs("nav",{className:"hidden md:flex space-x-8",children:[r.jsx(gt,{to:"/",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${c("/")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:"Home"}),r.jsx(gt,{to:"/search",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${c("/search")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:"Search HUD Homes"}),r.jsx(gt,{to:"/learn",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${c("/learn")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:"Learn About HUD"}),n?r.jsx(gt,{to:"/broker-dashboard",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${c("/broker-dashboard")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:"Broker Dashboard"}):r.jsx(gt,{to:"/login",className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${c("/login")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,children:"Login"})]}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[r.jsx(rs,{className:"h-4 w-4 mr-1"}),"(910) 363-6147"]}),n?r.jsxs(te,{variant:"outline",onClick:d,className:"flex items-center gap-2",children:[r.jsx(Nm,{className:"h-4 w-4"}),"Logout"]}):r.jsx(te,{className:"bg-orange-500 hover:bg-orange-600",children:"Get Connected"})]}),r.jsx("div",{className:"md:hidden",children:r.jsx(te,{variant:"ghost",size:"sm",onClick:()=>i(!t),children:t?r.jsx(Lt,{className:"h-6 w-6"}):r.jsx(UE,{className:"h-6 w-6"})})})]}),t&&r.jsx("div",{className:"md:hidden",children:r.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 border-t",children:[r.jsx(gt,{to:"/",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${c("/")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,onClick:()=>i(!1),children:"Home"}),r.jsx(gt,{to:"/search",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${c("/search")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,onClick:()=>i(!1),children:"Search HUD Homes"}),r.jsx(gt,{to:"/learn",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${c("/learn")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,onClick:()=>i(!1),children:"Learn About HUD"}),r.jsx(gt,{to:"/broker-dashboard",className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${c("/broker-dashboard")?"text-blue-600 bg-blue-50":"text-gray-700 hover:text-blue-600"}`,onClick:()=>i(!1),children:"Broker Dashboard"}),r.jsxs("div",{className:"px-3 py-2 border-t mt-2",children:[r.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[r.jsx(rs,{className:"h-4 w-4 mr-1"}),"(910) 363-6147"]}),r.jsx(te,{size:"sm",className:"w-full bg-orange-500 hover:bg-orange-600",children:"Get Connected"})]})]})})]})})}function X6({stateStats:n,onStateSelect:e}){const[t,i]=v.useState(""),[o,c]=v.useState([]);return v.useEffect(()=>{(async()=>{const h=await Wt.getFeaturedProperties(6);h.success&&c(h.data)})()},[]),r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx("section",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-20",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:"Find HUD Homes Nationwide"}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 text-blue-100",children:"Discover government foreclosure properties at below-market prices across all 50 states, DC, and Puerto Rico"}),r.jsx("div",{className:"max-w-2xl mx-auto",children:r.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[r.jsx("div",{className:"flex-1",children:r.jsx(Ne,{type:"text",placeholder:"Enter state, city, or ZIP code",value:t,onChange:d=>i(d.target.value),className:"h-12 text-lg text-gray-900"})}),r.jsx(gt,{to:"/search",children:r.jsxs(te,{size:"lg",className:"bg-orange-500 hover:bg-orange-600 text-white px-8 w-full sm:w-auto",children:[r.jsx(pr,{className:"h-5 w-5 mr-2"}),"Search Properties"]})})]})}),r.jsxs("div",{className:"mt-8 flex flex-wrap justify-center gap-4",children:[r.jsxs(ze,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",children:[r.jsx(ar,{className:"h-4 w-4 mr-1"}),"All 50 States + DC + PR"]}),r.jsxs(ze,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",children:[r.jsx(_i,{className:"h-4 w-4 mr-1"}),"Below Market Prices"]}),r.jsxs(ze,{variant:"secondary",className:"bg-white/20 text-white hover:bg-white/30",children:[r.jsx(Sm,{className:"h-4 w-4 mr-1"}),"HUD Registered Brokers"]})]})]})}),r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Explore Properties by State"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Click on any state to view available HUD properties in that area"})]}),r.jsx(UO,{stateStats:n,onStateSelect:e})]})}),r.jsx(J6,{properties:o}),r.jsx(Z6,{}),r.jsx(e3,{})]})}function J6({properties:n}){return r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Featured HUD Properties"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Real HUD properties available now in North Carolina and Tennessee"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(e=>{var t;return r.jsxs(he,{className:"hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"h-48 bg-gradient-to-br from-gray-200 to-gray-300 rounded-t-lg overflow-hidden",children:[e.main_image?r.jsx("img",{src:Tu(e.main_image),alt:`${e.address} - ${e.city}, ${e.state}`,className:"w-full h-full object-cover",onError:i=>{i.target.style.display="none",i.target.nextElementSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:e.main_image?"none":"flex"},children:r.jsx(ht,{className:"h-16 w-16 text-gray-400"})})]}),r.jsxs(Oe,{children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsx(De,{className:"text-lg",children:e.address}),r.jsx(ze,{variant:e.status==="PRICE REDUCED"?"destructive":e.status==="BIDS OPEN"?"default":"secondary",children:e.status})]}),r.jsxs(us,{children:[e.city,", ",e.state,"  ",e.county]})]}),r.jsxs(fe,{children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",e.price.toLocaleString()]}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Case #",e.case_number]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm text-gray-600 mb-4",children:[r.jsxs("span",{children:[e.beds," beds"]}),r.jsxs("span",{children:[e.baths," baths"]}),r.jsxs("span",{children:[(t=e.sqFt)==null?void 0:t.toLocaleString()," sq ft"]})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Built ",e.yearBuilt,"  ",e.lotSize]}),r.jsx(gt,{to:`/consult/${e.case_number}`,children:r.jsx(te,{className:"w-full bg-blue-600 hover:bg-blue-700",children:"View Details & Schedule Consultation"})})]})]},e.id)})}),r.jsx("div",{className:"text-center mt-12",children:r.jsx(gt,{to:"/search",children:r.jsx(te,{variant:"outline",size:"lg",children:"View All Properties"})})})]})})}function Z6(){const[n,e]=v.useState({name:"",email:"",phone:"",state:"",propertyId:""}),t=async i=>{i.preventDefault(),console.log("Lead submitted:",n);try{const o={customerName:n.name,customerEmail:n.email,customerPhone:n.phone,caseNumber:n.propertyId||null,state:n.state,message:"Lead from homepage form",consultationType:"general"},{consultationService:c}=await Ht(async()=>{const{consultationService:h}=await Promise.resolve().then(()=>Sj);return{consultationService:h}},void 0),d=await c.addConsultation(o);d.success?(alert("Thank you for your interest! A HUD-registered broker will contact you soon."),e({name:"",email:"",phone:"",state:"",propertyId:""})):(console.error("Failed to save lead:",d.error),alert("There was an error submitting your information. Please try again."))}catch(o){console.error("Error submitting lead:",o),alert("There was an error submitting your information. Please try again.")}};return r.jsx("section",{className:"py-16 bg-white",children:r.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Get Connected with HUD Experts"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Submit your information to be matched with a HUD-registered broker in your area"})]}),r.jsxs(he,{className:"max-w-2xl mx-auto",children:[r.jsxs(Oe,{children:[r.jsx(De,{children:"Buyer Information Form"}),r.jsx(us,{children:"All fields are required. Your information will be shared with qualified HUD brokers only."})]}),r.jsx(fe,{children:r.jsxs("form",{onSubmit:t,className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),r.jsx(Ne,{type:"text",required:!0,value:n.name,onChange:i=>e({...n,name:i.target.value}),placeholder:"Enter your full name"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),r.jsx(Ne,{type:"email",required:!0,value:n.email,onChange:i=>e({...n,email:i.target.value}),placeholder:"Enter your email"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),r.jsx(Ne,{type:"tel",required:!0,value:n.phone,onChange:i=>e({...n,phone:i.target.value}),placeholder:"(555) 123-4567"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State of Interest *"}),r.jsx(Ne,{type:"text",required:!0,value:n.state,onChange:i=>e({...n,state:i.target.value}),placeholder:"e.g., North Carolina"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specific Property Case # (Optional)"}),r.jsx(Ne,{type:"text",value:n.propertyId,onChange:i=>e({...n,propertyId:i.target.value}),placeholder:"e.g., 387-069497"})]}),r.jsx(te,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",children:"Connect Me with a HUD Broker"})]})})]})]})})}function e3(){const n=[{title:"What are HUD Homes?",description:"Learn about government foreclosure properties and how they become available for purchase.",icon:r.jsx(ht,{className:"h-8 w-8 text-blue-600"})},{title:"How to Buy a HUD Home",description:"Step-by-step guide to the HUD home buying process, from search to closing.",icon:r.jsx(pr,{className:"h-8 w-8 text-green-600"})},{title:"FHA 203k Renovation Loans",description:"Discover financing options for purchasing and renovating HUD properties.",icon:r.jsx(_i,{className:"h-8 w-8 text-orange-600"})},{title:"Working with HUD Brokers",description:"Understand the role of HUD-registered brokers and how they can help you.",icon:r.jsx(Sm,{className:"h-8 w-8 text-purple-600"})}];return r.jsx("section",{className:"py-16 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Learn About HUD Homes"}),r.jsx("p",{className:"text-lg text-gray-600",children:"Everything you need to know about buying government foreclosure properties"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((e,t)=>r.jsxs(he,{className:"text-center hover:shadow-lg transition-shadow cursor-pointer",children:[r.jsxs(Oe,{children:[r.jsx("div",{className:"flex justify-center mb-4",children:e.icon}),r.jsx(De,{className:"text-lg",children:e.title})]}),r.jsxs(fe,{children:[r.jsx(us,{className:"text-sm",children:e.description}),r.jsxs(te,{variant:"outline",className:"mt-4",children:[r.jsx(X2,{className:"h-4 w-4 mr-2"}),"Learn More"]})]})]},t))})]})})}function t3(){return r.jsx("footer",{className:"bg-gray-900 text-white py-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(ht,{className:"h-8 w-8 text-blue-400 mr-2"}),r.jsx("span",{className:"text-xl font-bold",children:"USAHUDhomes.com"})]}),r.jsx("p",{className:"text-gray-400 text-sm",children:"Your trusted source for HUD homes and government foreclosure properties nationwide."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Properties"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:r.jsx(gt,{to:"/search",className:"hover:text-white",children:"Search HUD Homes"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"Featured Listings"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"Recently Sold"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"Price Reduced"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resources"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:r.jsx(gt,{to:"/learn",className:"hover:text-white",children:"Learn About HUD"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"Buying Guide"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"FHA 203k Loans"})}),r.jsx("li",{children:r.jsx("a",{href:"#",className:"hover:text-white",children:"Find Brokers"})})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact"}),r.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[r.jsx("li",{children:"Email: info@usahudhomes.com"}),r.jsx("li",{children:"Phone: (910) 363-6147"}),r.jsx("li",{children:"Lightkeeper Realty"}),r.jsx("li",{children:"HUD Registered Buyer's Agent"})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-sm text-gray-400",children:r.jsx("p",{children:" 2025 USAHUDhomes.com. All rights reserved. | Privacy Policy | Terms of Service"})})]})})}function s3(){const[n,e]=v.useState(!1),[t,i]=v.useState(null),[o,c]=v.useState({});v.useEffect(()=>{const x=localStorage.getItem("isAuthenticated"),y=localStorage.getItem("userRole");x==="true"&&(e(!0),i(y)),d()},[]);const d=async()=>{c({CA:{total_properties:8,avg_price:485e3,min_price:35e4,max_price:75e4,cities:["Los Angeles","San Francisco","San Diego"]},NY:{total_properties:6,avg_price:625e3,min_price:45e4,max_price:9e5,cities:["New York City","Buffalo","Albany"]},FL:{total_properties:7,avg_price:395e3,min_price:28e4,max_price:65e4,cities:["Miami","Orlando","Tampa"]},TX:{total_properties:9,avg_price:32e4,min_price:18e4,max_price:55e4,cities:["Houston","Dallas","Austin"]},NC:{total_properties:5,avg_price:285e3,min_price:165e3,max_price:45e4,cities:["Charlotte","Raleigh","Asheville"]},GA:{total_properties:4,avg_price:245e3,min_price:145e3,max_price:38e4,cities:["Atlanta","Savannah","Augusta"]},AZ:{total_properties:3,avg_price:365e3,min_price:22e4,max_price:52e4,cities:["Phoenix","Tucson","Scottsdale"]},NV:{total_properties:2,avg_price:425e3,min_price:285e3,max_price:565e3,cities:["Las Vegas","Reno"]},CO:{total_properties:3,avg_price:445e3,min_price:32e4,max_price:62e4,cities:["Denver","Boulder","Colorado Springs"]},WA:{total_properties:4,avg_price:565e3,min_price:385e3,max_price:785e3,cities:["Seattle","Spokane","Tacoma"]}})},h=(x,y)=>{e(!0),i(y),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userRole",y),localStorage.setItem("userEmail",x)},g=()=>{e(!1),i(null),localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail")},m=x=>{window.location.href=`/search?state=${x.code}`};return r.jsx(Oj,{children:r.jsx(AO,{children:r.jsx($1,{children:r.jsxs("div",{className:"min-h-screen bg-white",children:[r.jsx(Q6,{isAuthenticated:n,onLogout:g}),r.jsx("main",{children:r.jsxs(m1,{children:[r.jsx(Kt,{path:"/",element:r.jsx(X6,{stateStats:o,onStateSelect:m})}),r.jsx(Kt,{path:"/search",element:r.jsx(EO,{})}),r.jsx(Kt,{path:"/property/:caseNumber",element:r.jsx(w6,{})}),r.jsx(Kt,{path:"/consult/:caseNumber",element:r.jsx(j6,{})}),r.jsx(Kt,{path:"/customer/:customerId",element:r.jsx(gv,{})}),r.jsx(Kt,{path:"/leads",element:r.jsx(pv,{})}),r.jsx(Kt,{path:"/lead/:leadId",element:r.jsx(Y6,{})}),"            ",r.jsx(Kt,{path:"/login",element:r.jsx(yf,{onLogin:h})}),r.jsx(Kt,{path:"/broker-dashboard",element:r.jsx($c,{allowedRoles:["broker","admin"],children:r.jsx(GO,{})})}),r.jsx(Kt,{path:"/admin-dashboard",element:r.jsx($c,{allowedRoles:["admin"],children:r.jsx(DO,{})})}),r.jsx(Kt,{path:"/admin/customer/:customerId",element:r.jsx($c,{allowedRoles:["admin"],children:r.jsx(K6,{})})}),r.jsx(Kt,{path:"/admin/property/:caseNumber",element:r.jsx($c,{allowedRoles:["admin"],children:r.jsx(W6,{})})}),r.jsx(Kt,{path:"/unauthorized",element:r.jsx(YO,{})}),r.jsx(Kt,{path:"/customer/:customerId",element:n?r.jsx(gv,{}):r.jsx(yf,{onLogin:h,redirectTo:"/broker-dashboard"})}),r.jsx(Kt,{path:"/leads",element:n?r.jsx(pv,{}):r.jsx(yf,{onLogin:h,redirectTo:"/broker-dashboard"})})]})}),r.jsx(t3,{})]})})})})}w_.createRoot(document.getElementById("root")).render(r.jsx(v.StrictMode,{children:r.jsx(s3,{})}));
